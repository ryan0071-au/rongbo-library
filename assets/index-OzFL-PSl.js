(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ju(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const Me={},Do=[],Cr=()=>{},e_=()=>!1,gc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),zu=t=>t.startsWith("onUpdate:"),Vt=Object.assign,qu=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},t_=Object.prototype.hasOwnProperty,Ve=(t,e)=>t_.call(t,e),le=Array.isArray,Vo=t=>Ai(t)==="[object Map]",ss=t=>Ai(t)==="[object Set]",Yh=t=>Ai(t)==="[object Date]",ge=t=>typeof t=="function",at=t=>typeof t=="string",xr=t=>typeof t=="symbol",ze=t=>t!==null&&typeof t=="object",nm=t=>(ze(t)||ge(t))&&ge(t.then)&&ge(t.catch),om=Object.prototype.toString,Ai=t=>om.call(t),r_=t=>Ai(t).slice(8,-1),sm=t=>Ai(t)==="[object Object]",Hu=t=>at(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,zs=ju(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),mc=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},n_=/-(\w)/g,sr=mc(t=>t.replace(n_,(e,r)=>r?r.toUpperCase():"")),o_=/\B([A-Z])/g,Vn=mc(t=>t.replace(o_,"-$1").toLowerCase()),yc=mc(t=>t.charAt(0).toUpperCase()+t.slice(1)),vl=mc(t=>t?`on${yc(t)}`:""),wn=(t,e)=>!Object.is(t,e),wa=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},Gl=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},Ma=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Jh;const bc=()=>Jh||(Jh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Wu(t){if(le(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],o=at(n)?c_(n):Wu(n);if(o)for(const s in o)e[s]=o[s]}return e}else if(at(t)||ze(t))return t}const s_=/;(?![^(]*\))/g,i_=/:([^]+)/,a_=/\/\*[^]*?\*\//g;function c_(t){const e={};return t.replace(a_,"").split(s_).forEach(r=>{if(r){const n=r.split(i_);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Ur(t){let e="";if(at(t))e=t;else if(le(t))for(let r=0;r<t.length;r++){const n=Ur(t[r]);n&&(e+=n+" ")}else if(ze(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const l_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",u_=ju(l_);function im(t){return!!t||t===""}function d_(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=Pi(t[n],e[n]);return r}function Pi(t,e){if(t===e)return!0;let r=Yh(t),n=Yh(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=xr(t),n=xr(e),r||n)return t===e;if(r=le(t),n=le(e),r||n)return r&&n?d_(t,e):!1;if(r=ze(t),n=ze(e),r||n){if(!r||!n)return!1;const o=Object.keys(t).length,s=Object.keys(e).length;if(o!==s)return!1;for(const i in t){const c=t.hasOwnProperty(i),l=e.hasOwnProperty(i);if(c&&!l||!c&&l||!Pi(t[i],e[i]))return!1}}return String(t)===String(e)}function Ku(t,e){return t.findIndex(r=>Pi(r,e))}const am=t=>!!(t&&t.__v_isRef===!0),je=t=>at(t)?t:t==null?"":le(t)||ze(t)&&(t.toString===om||!ge(t.toString))?am(t)?je(t.value):JSON.stringify(t,cm,2):String(t),cm=(t,e)=>am(e)?cm(t,e.value):Vo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,o],s)=>(r[_l(n,s)+" =>"]=o,r),{})}:ss(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>_l(r))}:xr(e)?_l(e):ze(e)&&!le(e)&&!sm(e)?String(e):e,_l=(t,e="")=>{var r;return xr(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let jt;class h_{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=jt,!e&&jt&&(this.index=(jt.scopes||(jt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=jt;try{return jt=this,e()}finally{jt=r}}}on(){++this._on===1&&(this.prevScope=jt,jt=this)}off(){this._on>0&&--this._on===0&&(jt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function f_(){return jt}let Fe;const wl=new WeakSet;class lm{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,jt&&jt.active&&jt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,wl.has(this)&&(wl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||dm(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Xh(this),hm(this);const e=Fe,r=ur;Fe=this,ur=!0;try{return this.fn()}finally{fm(this),Fe=e,ur=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Yu(e);this.deps=this.depsTail=void 0,Xh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?wl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ql(this)&&this.run()}get dirty(){return Ql(this)}}let um=0,qs,Hs;function dm(t,e=!1){if(t.flags|=8,e){t.next=Hs,Hs=t;return}t.next=qs,qs=t}function Gu(){um++}function Qu(){if(--um>0)return;if(Hs){let e=Hs;for(Hs=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;qs;){let e=qs;for(qs=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function hm(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function fm(t){let e,r=t.depsTail,n=r;for(;n;){const o=n.prevDep;n.version===-1?(n===r&&(r=o),Yu(n),p_(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=o}t.deps=e,t.depsTail=r}function Ql(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(pm(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function pm(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===si)||(t.globalVersion=si,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Ql(t))))return;t.flags|=2;const e=t.dep,r=Fe,n=ur;Fe=t,ur=!0;try{hm(t);const o=t.fn(t._value);(e.version===0||wn(o,t._value))&&(t.flags|=128,t._value=o,e.version++)}catch(o){throw e.version++,o}finally{Fe=r,ur=n,fm(t),t.flags&=-3}}function Yu(t,e=!1){const{dep:r,prevSub:n,nextSub:o}=t;if(n&&(n.nextSub=o,t.prevSub=void 0),o&&(o.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let s=r.computed.deps;s;s=s.nextDep)Yu(s,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function p_(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let ur=!0;const gm=[];function Gr(){gm.push(ur),ur=!1}function Qr(){const t=gm.pop();ur=t===void 0?!0:t}function Xh(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=Fe;Fe=void 0;try{e()}finally{Fe=r}}}let si=0;class g_{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ju{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Fe||!ur||Fe===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Fe)r=this.activeLink=new g_(Fe,this),Fe.deps?(r.prevDep=Fe.depsTail,Fe.depsTail.nextDep=r,Fe.depsTail=r):Fe.deps=Fe.depsTail=r,mm(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=Fe.depsTail,r.nextDep=void 0,Fe.depsTail.nextDep=r,Fe.depsTail=r,Fe.deps===r&&(Fe.deps=n)}return r}trigger(e){this.version++,si++,this.notify(e)}notify(e){Gu();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{Qu()}}}function mm(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)mm(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Yl=new WeakMap,Zn=Symbol(""),Jl=Symbol(""),ii=Symbol("");function At(t,e,r){if(ur&&Fe){let n=Yl.get(t);n||Yl.set(t,n=new Map);let o=n.get(r);o||(n.set(r,o=new Ju),o.map=n,o.key=r),o.track()}}function Mr(t,e,r,n,o,s){const i=Yl.get(t);if(!i){si++;return}const c=l=>{l&&l.trigger()};if(Gu(),e==="clear")i.forEach(c);else{const l=le(t),u=l&&Hu(r);if(l&&r==="length"){const d=Number(n);i.forEach((f,g)=>{(g==="length"||g===ii||!xr(g)&&g>=d)&&c(f)})}else switch((r!==void 0||i.has(void 0))&&c(i.get(r)),u&&c(i.get(ii)),e){case"add":l?u&&c(i.get("length")):(c(i.get(Zn)),Vo(t)&&c(i.get(Jl)));break;case"delete":l||(c(i.get(Zn)),Vo(t)&&c(i.get(Jl)));break;case"set":Vo(t)&&c(i.get(Zn));break}}Qu()}function To(t){const e=De(t);return e===t?e:(At(e,"iterate",ii),nr(t)?e:e.map(_t))}function vc(t){return At(t=De(t),"iterate",ii),t}const m_={__proto__:null,[Symbol.iterator](){return El(this,Symbol.iterator,_t)},concat(...t){return To(this).concat(...t.map(e=>le(e)?To(e):e))},entries(){return El(this,"entries",t=>(t[1]=_t(t[1]),t))},every(t,e){return Dr(this,"every",t,e,void 0,arguments)},filter(t,e){return Dr(this,"filter",t,e,r=>r.map(_t),arguments)},find(t,e){return Dr(this,"find",t,e,_t,arguments)},findIndex(t,e){return Dr(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Dr(this,"findLast",t,e,_t,arguments)},findLastIndex(t,e){return Dr(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Dr(this,"forEach",t,e,void 0,arguments)},includes(...t){return Tl(this,"includes",t)},indexOf(...t){return Tl(this,"indexOf",t)},join(t){return To(this).join(t)},lastIndexOf(...t){return Tl(this,"lastIndexOf",t)},map(t,e){return Dr(this,"map",t,e,void 0,arguments)},pop(){return xs(this,"pop")},push(...t){return xs(this,"push",t)},reduce(t,...e){return Zh(this,"reduce",t,e)},reduceRight(t,...e){return Zh(this,"reduceRight",t,e)},shift(){return xs(this,"shift")},some(t,e){return Dr(this,"some",t,e,void 0,arguments)},splice(...t){return xs(this,"splice",t)},toReversed(){return To(this).toReversed()},toSorted(t){return To(this).toSorted(t)},toSpliced(...t){return To(this).toSpliced(...t)},unshift(...t){return xs(this,"unshift",t)},values(){return El(this,"values",_t)}};function El(t,e,r){const n=vc(t),o=n[e]();return n!==t&&!nr(t)&&(o._next=o.next,o.next=()=>{const s=o._next();return s.value&&(s.value=r(s.value)),s}),o}const y_=Array.prototype;function Dr(t,e,r,n,o,s){const i=vc(t),c=i!==t&&!nr(t),l=i[e];if(l!==y_[e]){const f=l.apply(t,s);return c?_t(f):f}let u=r;i!==t&&(c?u=function(f,g){return r.call(this,_t(f),g,t)}:r.length>2&&(u=function(f,g){return r.call(this,f,g,t)}));const d=l.call(i,u,n);return c&&o?o(d):d}function Zh(t,e,r,n){const o=vc(t);let s=r;return o!==t&&(nr(t)?r.length>3&&(s=function(i,c,l){return r.call(this,i,c,l,t)}):s=function(i,c,l){return r.call(this,i,_t(c),l,t)}),o[e](s,...n)}function Tl(t,e,r){const n=De(t);At(n,"iterate",ii);const o=n[e](...r);return(o===-1||o===!1)&&td(r[0])?(r[0]=De(r[0]),n[e](...r)):o}function xs(t,e,r=[]){Gr(),Gu();const n=De(t)[e].apply(t,r);return Qu(),Qr(),n}const b_=ju("__proto__,__v_isRef,__isVue"),ym=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(xr));function v_(t){xr(t)||(t=String(t));const e=De(this);return At(e,"has",t),e.hasOwnProperty(t)}class bm{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const o=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!o;if(r==="__v_isReadonly")return o;if(r==="__v_isShallow")return s;if(r==="__v_raw")return n===(o?s?A_:Em:s?wm:_m).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const i=le(e);if(!o){let l;if(i&&(l=m_[r]))return l;if(r==="hasOwnProperty")return v_}const c=Reflect.get(e,r,Dt(e)?e:n);return(xr(r)?ym.has(r):b_(r))||(o||At(e,"get",r),s)?c:Dt(c)?i&&Hu(r)?c:c.value:ze(c)?o?Zu(c):xi(c):c}}class vm extends bm{constructor(e=!1){super(!1,e)}set(e,r,n,o){let s=e[r];if(!this._isShallow){const l=Rn(s);if(!nr(n)&&!Rn(n)&&(s=De(s),n=De(n)),!le(e)&&Dt(s)&&!Dt(n))return l?!1:(s.value=n,!0)}const i=le(e)&&Hu(r)?Number(r)<e.length:Ve(e,r),c=Reflect.set(e,r,n,Dt(e)?e:o);return e===De(o)&&(i?wn(n,s)&&Mr(e,"set",r,n):Mr(e,"add",r,n)),c}deleteProperty(e,r){const n=Ve(e,r);e[r];const o=Reflect.deleteProperty(e,r);return o&&n&&Mr(e,"delete",r,void 0),o}has(e,r){const n=Reflect.has(e,r);return(!xr(r)||!ym.has(r))&&At(e,"has",r),n}ownKeys(e){return At(e,"iterate",le(e)?"length":Zn),Reflect.ownKeys(e)}}class __ extends bm{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const w_=new vm,E_=new __,T_=new vm(!0);const Xl=t=>t,aa=t=>Reflect.getPrototypeOf(t);function C_(t,e,r){return function(...n){const o=this.__v_raw,s=De(o),i=Vo(s),c=t==="entries"||t===Symbol.iterator&&i,l=t==="keys"&&i,u=o[t](...n),d=r?Xl:e?Fa:_t;return!e&&At(s,"iterate",l?Jl:Zn),{next(){const{value:f,done:g}=u.next();return g?{value:f,done:g}:{value:c?[d(f[0]),d(f[1])]:d(f),done:g}},[Symbol.iterator](){return this}}}}function ca(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function k_(t,e){const r={get(o){const s=this.__v_raw,i=De(s),c=De(o);t||(wn(o,c)&&At(i,"get",o),At(i,"get",c));const{has:l}=aa(i),u=e?Xl:t?Fa:_t;if(l.call(i,o))return u(s.get(o));if(l.call(i,c))return u(s.get(c));s!==i&&s.get(o)},get size(){const o=this.__v_raw;return!t&&At(De(o),"iterate",Zn),Reflect.get(o,"size",o)},has(o){const s=this.__v_raw,i=De(s),c=De(o);return t||(wn(o,c)&&At(i,"has",o),At(i,"has",c)),o===c?s.has(o):s.has(o)||s.has(c)},forEach(o,s){const i=this,c=i.__v_raw,l=De(c),u=e?Xl:t?Fa:_t;return!t&&At(l,"iterate",Zn),c.forEach((d,f)=>o.call(s,u(d),u(f),i))}};return Vt(r,t?{add:ca("add"),set:ca("set"),delete:ca("delete"),clear:ca("clear")}:{add(o){!e&&!nr(o)&&!Rn(o)&&(o=De(o));const s=De(this);return aa(s).has.call(s,o)||(s.add(o),Mr(s,"add",o,o)),this},set(o,s){!e&&!nr(s)&&!Rn(s)&&(s=De(s));const i=De(this),{has:c,get:l}=aa(i);let u=c.call(i,o);u||(o=De(o),u=c.call(i,o));const d=l.call(i,o);return i.set(o,s),u?wn(s,d)&&Mr(i,"set",o,s):Mr(i,"add",o,s),this},delete(o){const s=De(this),{has:i,get:c}=aa(s);let l=i.call(s,o);l||(o=De(o),l=i.call(s,o)),c&&c.call(s,o);const u=s.delete(o);return l&&Mr(s,"delete",o,void 0),u},clear(){const o=De(this),s=o.size!==0,i=o.clear();return s&&Mr(o,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(o=>{r[o]=C_(o,t,e)}),r}function Xu(t,e){const r=k_(t,e);return(n,o,s)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?n:Reflect.get(Ve(r,o)&&o in n?r:n,o,s)}const I_={get:Xu(!1,!1)},R_={get:Xu(!1,!0)},S_={get:Xu(!0,!1)};const _m=new WeakMap,wm=new WeakMap,Em=new WeakMap,A_=new WeakMap;function P_(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function x_(t){return t.__v_skip||!Object.isExtensible(t)?0:P_(r_(t))}function xi(t){return Rn(t)?t:ed(t,!1,w_,I_,_m)}function Tm(t){return ed(t,!1,T_,R_,wm)}function Zu(t){return ed(t,!0,E_,S_,Em)}function ed(t,e,r,n,o){if(!ze(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=x_(t);if(s===0)return t;const i=o.get(t);if(i)return i;const c=new Proxy(t,s===2?n:r);return o.set(t,c),c}function $o(t){return Rn(t)?$o(t.__v_raw):!!(t&&t.__v_isReactive)}function Rn(t){return!!(t&&t.__v_isReadonly)}function nr(t){return!!(t&&t.__v_isShallow)}function td(t){return t?!!t.__v_raw:!1}function De(t){const e=t&&t.__v_raw;return e?De(e):t}function O_(t){return!Ve(t,"__v_skip")&&Object.isExtensible(t)&&Gl(t,"__v_skip",!0),t}const _t=t=>ze(t)?xi(t):t,Fa=t=>ze(t)?Zu(t):t;function Dt(t){return t?t.__v_isRef===!0:!1}function we(t){return Cm(t,!1)}function N_(t){return Cm(t,!0)}function Cm(t,e){return Dt(t)?t:new D_(t,e)}class D_{constructor(e,r){this.dep=new Ju,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:De(e),this._value=r?e:_t(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||nr(e)||Rn(e);e=n?e:De(e),wn(e,r)&&(this._rawValue=e,this._value=n?e:_t(e),this.dep.trigger())}}function eo(t){return Dt(t)?t.value:t}const V_={get:(t,e,r)=>e==="__v_raw"?t:eo(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const o=t[e];return Dt(o)&&!Dt(r)?(o.value=r,!0):Reflect.set(t,e,r,n)}};function km(t){return $o(t)?t:new Proxy(t,V_)}class $_{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new Ju(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=si-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Fe!==this)return dm(this,!0),!0}get value(){const e=this.dep.track();return pm(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function L_(t,e,r=!1){let n,o;return ge(t)?n=t:(n=t.get,o=t.set),new $_(n,o,r)}const la={},Ua=new WeakMap;let Qn;function B_(t,e=!1,r=Qn){if(r){let n=Ua.get(r);n||Ua.set(r,n=[]),n.push(t)}}function M_(t,e,r=Me){const{immediate:n,deep:o,once:s,scheduler:i,augmentJob:c,call:l}=r,u=W=>o?W:nr(W)||o===!1||o===0?Fr(W,1):Fr(W);let d,f,g,m,_=!1,S=!1;if(Dt(t)?(f=()=>t.value,_=nr(t)):$o(t)?(f=()=>u(t),_=!0):le(t)?(S=!0,_=t.some(W=>$o(W)||nr(W)),f=()=>t.map(W=>{if(Dt(W))return W.value;if($o(W))return u(W);if(ge(W))return l?l(W,2):W()})):ge(t)?e?f=l?()=>l(t,2):t:f=()=>{if(g){Gr();try{g()}finally{Qr()}}const W=Qn;Qn=d;try{return l?l(t,3,[m]):t(m)}finally{Qn=W}}:f=Cr,e&&o){const W=f,re=o===!0?1/0:o;f=()=>Fr(W(),re)}const k=f_(),V=()=>{d.stop(),k&&k.active&&qu(k.effects,d)};if(s&&e){const W=e;e=(...re)=>{W(...re),V()}}let $=S?new Array(t.length).fill(la):la;const U=W=>{if(!(!(d.flags&1)||!d.dirty&&!W))if(e){const re=d.run();if(o||_||(S?re.some((ee,v)=>wn(ee,$[v])):wn(re,$))){g&&g();const ee=Qn;Qn=d;try{const v=[re,$===la?void 0:S&&$[0]===la?[]:$,m];$=re,l?l(e,3,v):e(...v)}finally{Qn=ee}}}else d.run()};return c&&c(U),d=new lm(f),d.scheduler=i?()=>i(U,!1):U,m=W=>B_(W,!1,d),g=d.onStop=()=>{const W=Ua.get(d);if(W){if(l)l(W,4);else for(const re of W)re();Ua.delete(d)}},e?n?U(!0):$=d.run():i?i(U.bind(null,!0),!0):d.run(),V.pause=d.pause.bind(d),V.resume=d.resume.bind(d),V.stop=V,V}function Fr(t,e=1/0,r){if(e<=0||!ze(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,Dt(t))Fr(t.value,e,r);else if(le(t))for(let n=0;n<t.length;n++)Fr(t[n],e,r);else if(ss(t)||Vo(t))t.forEach(n=>{Fr(n,e,r)});else if(sm(t)){for(const n in t)Fr(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Fr(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Oi(t,e,r,n){try{return n?t(...n):t()}catch(o){_c(o,e,r)}}function Or(t,e,r,n){if(ge(t)){const o=Oi(t,e,r,n);return o&&nm(o)&&o.catch(s=>{_c(s,e,r)}),o}if(le(t)){const o=[];for(let s=0;s<t.length;s++)o.push(Or(t[s],e,r,n));return o}}function _c(t,e,r,n=!0){const o=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:i}=e&&e.appContext.config||Me;if(e){let c=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;c;){const d=c.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](t,l,u)===!1)return}c=c.parent}if(s){Gr(),Oi(s,null,10,[t,l,u]),Qr();return}}F_(t,r,o,n,i)}function F_(t,e,r,n=!0,o=!1){if(o)throw t;console.error(t)}const Ft=[];let wr=-1;const Lo=[];let dn=null,ko=0;const Im=Promise.resolve();let ja=null;function wc(t){const e=ja||Im;return t?e.then(this?t.bind(this):t):e}function U_(t){let e=wr+1,r=Ft.length;for(;e<r;){const n=e+r>>>1,o=Ft[n],s=ai(o);s<t||s===t&&o.flags&2?e=n+1:r=n}return e}function rd(t){if(!(t.flags&1)){const e=ai(t),r=Ft[Ft.length-1];!r||!(t.flags&2)&&e>=ai(r)?Ft.push(t):Ft.splice(U_(e),0,t),t.flags|=1,Rm()}}function Rm(){ja||(ja=Im.then(Am))}function j_(t){le(t)?Lo.push(...t):dn&&t.id===-1?dn.splice(ko+1,0,t):t.flags&1||(Lo.push(t),t.flags|=1),Rm()}function ef(t,e,r=wr+1){for(;r<Ft.length;r++){const n=Ft[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Ft.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Sm(t){if(Lo.length){const e=[...new Set(Lo)].sort((r,n)=>ai(r)-ai(n));if(Lo.length=0,dn){dn.push(...e);return}for(dn=e,ko=0;ko<dn.length;ko++){const r=dn[ko];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}dn=null,ko=0}}const ai=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Am(t){try{for(wr=0;wr<Ft.length;wr++){const e=Ft[wr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Oi(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;wr<Ft.length;wr++){const e=Ft[wr];e&&(e.flags&=-2)}wr=-1,Ft.length=0,Sm(),ja=null,(Ft.length||Lo.length)&&Am()}}let Xt=null,Pm=null;function za(t){const e=Xt;return Xt=t,Pm=t&&t.type.__scopeId||null,e}function Mt(t,e=Xt,r){if(!e||t._n)return t;const n=(...o)=>{n._d&&df(-1);const s=za(e);let i;try{i=t(...o)}finally{za(s),n._d&&df(1)}return i};return n._n=!0,n._c=!0,n._d=!0,n}function Ge(t,e){if(Xt===null)return t;const r=Ic(Xt),n=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[s,i,c,l=Me]=e[o];s&&(ge(s)&&(s={mounted:s,updated:s}),s.deep&&Fr(i),n.push({dir:s,instance:r,value:i,oldValue:void 0,arg:c,modifiers:l}))}return t}function Kn(t,e,r,n){const o=t.dirs,s=e&&e.dirs;for(let i=0;i<o.length;i++){const c=o[i];s&&(c.oldValue=s[i].value);let l=c.dir[n];l&&(Gr(),Or(l,r,8,[t.el,c,t,e]),Qr())}}const z_=Symbol("_vte"),q_=t=>t.__isTeleport;function nd(t,e){t.shapeFlag&6&&t.component?(t.transition=e,nd(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function xm(t,e){return ge(t)?Vt({name:t.name},e,{setup:t}):t}function Om(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Ws(t,e,r,n,o=!1){if(le(t)){t.forEach((_,S)=>Ws(_,e&&(le(e)?e[S]:e),r,n,o));return}if(Ks(n)&&!o){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Ws(t,e,r,n.component.subTree);return}const s=n.shapeFlag&4?Ic(n.component):n.el,i=o?null:s,{i:c,r:l}=t,u=e&&e.r,d=c.refs===Me?c.refs={}:c.refs,f=c.setupState,g=De(f),m=f===Me?()=>!1:_=>Ve(g,_);if(u!=null&&u!==l&&(at(u)?(d[u]=null,m(u)&&(f[u]=null)):Dt(u)&&(u.value=null)),ge(l))Oi(l,c,12,[i,d]);else{const _=at(l),S=Dt(l);if(_||S){const k=()=>{if(t.f){const V=_?m(l)?f[l]:d[l]:l.value;o?le(V)&&qu(V,s):le(V)?V.includes(s)||V.push(s):_?(d[l]=[s],m(l)&&(f[l]=d[l])):(l.value=[s],t.k&&(d[t.k]=l.value))}else _?(d[l]=i,m(l)&&(f[l]=i)):S&&(l.value=i,t.k&&(d[t.k]=i))};i?(k.id=-1,Jt(k,r)):k()}}}bc().requestIdleCallback;bc().cancelIdleCallback;const Ks=t=>!!t.type.__asyncLoader,Nm=t=>t.type.__isKeepAlive;function H_(t,e){Dm(t,"a",e)}function W_(t,e){Dm(t,"da",e)}function Dm(t,e,r=Ot){const n=t.__wdc||(t.__wdc=()=>{let o=r;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(Ec(e,n,r),r){let o=r.parent;for(;o&&o.parent;)Nm(o.parent.vnode)&&K_(n,e,r,o),o=o.parent}}function K_(t,e,r,n){const o=Ec(e,t,n,!0);Vm(()=>{qu(n[e],o)},r)}function Ec(t,e,r=Ot,n=!1){if(r){const o=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...i)=>{Gr();const c=Ni(r),l=Or(e,r,t,i);return c(),Qr(),l});return n?o.unshift(s):o.push(s),s}}const en=t=>(e,r=Ot)=>{(!li||t==="sp")&&Ec(t,(...n)=>e(...n),r)},G_=en("bm"),Tc=en("m"),Q_=en("bu"),Y_=en("u"),J_=en("bum"),Vm=en("um"),X_=en("sp"),Z_=en("rtg"),ew=en("rtc");function tw(t,e=Ot){Ec("ec",t,e)}const rw="components";function io(t,e){return ow(rw,t,!0,e)||t}const nw=Symbol.for("v-ndc");function ow(t,e,r=!0,n=!1){const o=Xt||Ot;if(o){const s=o.type;{const c=Ww(s,!1);if(c&&(c===e||c===sr(e)||c===yc(sr(e))))return s}const i=tf(o[t]||s[t],e)||tf(o.appContext[t],e);return!i&&n?s:i}}function tf(t,e){return t&&(t[e]||t[sr(e)]||t[yc(sr(e))])}function sw(t,e,r,n){let o;const s=r,i=le(t);if(i||at(t)){const c=i&&$o(t);let l=!1,u=!1;c&&(l=!nr(t),u=Rn(t),t=vc(t)),o=new Array(t.length);for(let d=0,f=t.length;d<f;d++)o[d]=e(l?u?Fa(_t(t[d])):_t(t[d]):t[d],d,void 0,s)}else if(typeof t=="number"){o=new Array(t);for(let c=0;c<t;c++)o[c]=e(c+1,c,void 0,s)}else if(ze(t))if(t[Symbol.iterator])o=Array.from(t,(c,l)=>e(c,l,void 0,s));else{const c=Object.keys(t);o=new Array(c.length);for(let l=0,u=c.length;l<u;l++){const d=c[l];o[l]=e(t[d],d,l,s)}}else o=[];return o}const Zl=t=>t?r0(t)?Ic(t):Zl(t.parent):null,Gs=Vt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Zl(t.parent),$root:t=>Zl(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Lm(t),$forceUpdate:t=>t.f||(t.f=()=>{rd(t.update)}),$nextTick:t=>t.n||(t.n=wc.bind(t.proxy)),$watch:t=>Iw.bind(t)}),Cl=(t,e)=>t!==Me&&!t.__isScriptSetup&&Ve(t,e),iw={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:o,props:s,accessCache:i,type:c,appContext:l}=t;let u;if(e[0]!=="$"){const m=i[e];if(m!==void 0)switch(m){case 1:return n[e];case 2:return o[e];case 4:return r[e];case 3:return s[e]}else{if(Cl(n,e))return i[e]=1,n[e];if(o!==Me&&Ve(o,e))return i[e]=2,o[e];if((u=t.propsOptions[0])&&Ve(u,e))return i[e]=3,s[e];if(r!==Me&&Ve(r,e))return i[e]=4,r[e];eu&&(i[e]=0)}}const d=Gs[e];let f,g;if(d)return e==="$attrs"&&At(t.attrs,"get",""),d(t);if((f=c.__cssModules)&&(f=f[e]))return f;if(r!==Me&&Ve(r,e))return i[e]=4,r[e];if(g=l.config.globalProperties,Ve(g,e))return g[e]},set({_:t},e,r){const{data:n,setupState:o,ctx:s}=t;return Cl(o,e)?(o[e]=r,!0):n!==Me&&Ve(n,e)?(n[e]=r,!0):Ve(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:o,propsOptions:s}},i){let c;return!!r[i]||t!==Me&&Ve(t,i)||Cl(e,i)||(c=s[0])&&Ve(c,i)||Ve(n,i)||Ve(Gs,i)||Ve(o.config.globalProperties,i)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Ve(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function rf(t){return le(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let eu=!0;function aw(t){const e=Lm(t),r=t.proxy,n=t.ctx;eu=!1,e.beforeCreate&&nf(e.beforeCreate,t,"bc");const{data:o,computed:s,methods:i,watch:c,provide:l,inject:u,created:d,beforeMount:f,mounted:g,beforeUpdate:m,updated:_,activated:S,deactivated:k,beforeDestroy:V,beforeUnmount:$,destroyed:U,unmounted:W,render:re,renderTracked:ee,renderTriggered:v,errorCaptured:b,serverPrefetch:E,expose:R,inheritAttrs:I,components:A,directives:T,filters:Ee}=e;if(u&&cw(u,n,null),i)for(const be in i){const ae=i[be];ge(ae)&&(n[be]=ae.bind(r))}if(o){const be=o.call(r,r);ze(be)&&(t.data=xi(be))}if(eu=!0,s)for(const be in s){const ae=s[be],Ke=ge(ae)?ae.bind(r,r):ge(ae.get)?ae.get.bind(r,r):Cr,Xe=!ge(ae)&&ge(ae.set)?ae.set.bind(r):Cr,Ae=qt({get:Ke,set:Xe});Object.defineProperty(n,be,{enumerable:!0,configurable:!0,get:()=>Ae.value,set:xe=>Ae.value=xe})}if(c)for(const be in c)$m(c[be],n,r,be);if(l){const be=ge(l)?l.call(r):l;Reflect.ownKeys(be).forEach(ae=>{Ea(ae,be[ae])})}d&&nf(d,t,"c");function _e(be,ae){le(ae)?ae.forEach(Ke=>be(Ke.bind(r))):ae&&be(ae.bind(r))}if(_e(G_,f),_e(Tc,g),_e(Q_,m),_e(Y_,_),_e(H_,S),_e(W_,k),_e(tw,b),_e(ew,ee),_e(Z_,v),_e(J_,$),_e(Vm,W),_e(X_,E),le(R))if(R.length){const be=t.exposed||(t.exposed={});R.forEach(ae=>{Object.defineProperty(be,ae,{get:()=>r[ae],set:Ke=>r[ae]=Ke,enumerable:!0})})}else t.exposed||(t.exposed={});re&&t.render===Cr&&(t.render=re),I!=null&&(t.inheritAttrs=I),A&&(t.components=A),T&&(t.directives=T),E&&Om(t)}function cw(t,e,r=Cr){le(t)&&(t=tu(t));for(const n in t){const o=t[n];let s;ze(o)?"default"in o?s=dr(o.from||n,o.default,!0):s=dr(o.from||n):s=dr(o),Dt(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:i=>s.value=i}):e[n]=s}}function nf(t,e,r){Or(le(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function $m(t,e,r,n){let o=n.includes(".")?Ym(r,n):()=>r[n];if(at(t)){const s=e[t];ge(s)&&jr(o,s)}else if(ge(t))jr(o,t.bind(r));else if(ze(t))if(le(t))t.forEach(s=>$m(s,e,r,n));else{const s=ge(t.handler)?t.handler.bind(r):e[t.handler];ge(s)&&jr(o,s,t)}}function Lm(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:o,optionsCache:s,config:{optionMergeStrategies:i}}=t.appContext,c=s.get(e);let l;return c?l=c:!o.length&&!r&&!n?l=e:(l={},o.length&&o.forEach(u=>qa(l,u,i,!0)),qa(l,e,i)),ze(e)&&s.set(e,l),l}function qa(t,e,r,n=!1){const{mixins:o,extends:s}=e;s&&qa(t,s,r,!0),o&&o.forEach(i=>qa(t,i,r,!0));for(const i in e)if(!(n&&i==="expose")){const c=lw[i]||r&&r[i];t[i]=c?c(t[i],e[i]):e[i]}return t}const lw={data:of,props:sf,emits:sf,methods:Vs,computed:Vs,beforeCreate:Bt,created:Bt,beforeMount:Bt,mounted:Bt,beforeUpdate:Bt,updated:Bt,beforeDestroy:Bt,beforeUnmount:Bt,destroyed:Bt,unmounted:Bt,activated:Bt,deactivated:Bt,errorCaptured:Bt,serverPrefetch:Bt,components:Vs,directives:Vs,watch:dw,provide:of,inject:uw};function of(t,e){return e?t?function(){return Vt(ge(t)?t.call(this,this):t,ge(e)?e.call(this,this):e)}:e:t}function uw(t,e){return Vs(tu(t),tu(e))}function tu(t){if(le(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Bt(t,e){return t?[...new Set([].concat(t,e))]:e}function Vs(t,e){return t?Vt(Object.create(null),t,e):e}function sf(t,e){return t?le(t)&&le(e)?[...new Set([...t,...e])]:Vt(Object.create(null),rf(t),rf(e??{})):e}function dw(t,e){if(!t)return e;if(!e)return t;const r=Vt(Object.create(null),t);for(const n in e)r[n]=Bt(t[n],e[n]);return r}function Bm(){return{app:null,config:{isNativeTag:e_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hw=0;function fw(t,e){return function(n,o=null){ge(n)||(n=Vt({},n)),o!=null&&!ze(o)&&(o=null);const s=Bm(),i=new WeakSet,c=[];let l=!1;const u=s.app={_uid:hw++,_component:n,_props:o,_container:null,_context:s,_instance:null,version:Gw,get config(){return s.config},set config(d){},use(d,...f){return i.has(d)||(d&&ge(d.install)?(i.add(d),d.install(u,...f)):ge(d)&&(i.add(d),d(u,...f))),u},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),u},component(d,f){return f?(s.components[d]=f,u):s.components[d]},directive(d,f){return f?(s.directives[d]=f,u):s.directives[d]},mount(d,f,g){if(!l){const m=u._ceVNode||Re(n,o);return m.appContext=s,g===!0?g="svg":g===!1&&(g=void 0),t(m,d,g),l=!0,u._container=d,d.__vue_app__=u,Ic(m.component)}},onUnmount(d){c.push(d)},unmount(){l&&(Or(c,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(d,f){return s.provides[d]=f,u},runWithContext(d){const f=Bo;Bo=u;try{return d()}finally{Bo=f}}};return u}}let Bo=null;function Ea(t,e){if(Ot){let r=Ot.provides;const n=Ot.parent&&Ot.parent.provides;n===r&&(r=Ot.provides=Object.create(n)),r[t]=e}}function dr(t,e,r=!1){const n=nu();if(n||Bo){let o=Bo?Bo._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(o&&t in o)return o[t];if(arguments.length>1)return r&&ge(e)?e.call(n&&n.proxy):e}}const Mm={},Fm=()=>Object.create(Mm),Um=t=>Object.getPrototypeOf(t)===Mm;function pw(t,e,r,n=!1){const o={},s=Fm();t.propsDefaults=Object.create(null),jm(t,e,o,s);for(const i in t.propsOptions[0])i in o||(o[i]=void 0);r?t.props=n?o:Tm(o):t.type.props?t.props=o:t.props=s,t.attrs=s}function gw(t,e,r,n){const{props:o,attrs:s,vnode:{patchFlag:i}}=t,c=De(o),[l]=t.propsOptions;let u=!1;if((n||i>0)&&!(i&16)){if(i&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let g=d[f];if(Cc(t.emitsOptions,g))continue;const m=e[g];if(l)if(Ve(s,g))m!==s[g]&&(s[g]=m,u=!0);else{const _=sr(g);o[_]=ru(l,c,_,m,t,!1)}else m!==s[g]&&(s[g]=m,u=!0)}}}else{jm(t,e,o,s)&&(u=!0);let d;for(const f in c)(!e||!Ve(e,f)&&((d=Vn(f))===f||!Ve(e,d)))&&(l?r&&(r[f]!==void 0||r[d]!==void 0)&&(o[f]=ru(l,c,f,void 0,t,!0)):delete o[f]);if(s!==c)for(const f in s)(!e||!Ve(e,f))&&(delete s[f],u=!0)}u&&Mr(t.attrs,"set","")}function jm(t,e,r,n){const[o,s]=t.propsOptions;let i=!1,c;if(e)for(let l in e){if(zs(l))continue;const u=e[l];let d;o&&Ve(o,d=sr(l))?!s||!s.includes(d)?r[d]=u:(c||(c={}))[d]=u:Cc(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,i=!0)}if(s){const l=De(r),u=c||Me;for(let d=0;d<s.length;d++){const f=s[d];r[f]=ru(o,l,f,u[f],t,!Ve(u,f))}}return i}function ru(t,e,r,n,o,s){const i=t[r];if(i!=null){const c=Ve(i,"default");if(c&&n===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&ge(l)){const{propsDefaults:u}=o;if(r in u)n=u[r];else{const d=Ni(o);n=u[r]=l.call(null,e),d()}}else n=l;o.ce&&o.ce._setProp(r,n)}i[0]&&(s&&!c?n=!1:i[1]&&(n===""||n===Vn(r))&&(n=!0))}return n}const mw=new WeakMap;function zm(t,e,r=!1){const n=r?mw:e.propsCache,o=n.get(t);if(o)return o;const s=t.props,i={},c=[];let l=!1;if(!ge(t)){const d=f=>{l=!0;const[g,m]=zm(f,e,!0);Vt(i,g),m&&c.push(...m)};!r&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!s&&!l)return ze(t)&&n.set(t,Do),Do;if(le(s))for(let d=0;d<s.length;d++){const f=sr(s[d]);af(f)&&(i[f]=Me)}else if(s)for(const d in s){const f=sr(d);if(af(f)){const g=s[d],m=i[f]=le(g)||ge(g)?{type:g}:Vt({},g),_=m.type;let S=!1,k=!0;if(le(_))for(let V=0;V<_.length;++V){const $=_[V],U=ge($)&&$.name;if(U==="Boolean"){S=!0;break}else U==="String"&&(k=!1)}else S=ge(_)&&_.name==="Boolean";m[0]=S,m[1]=k,(S||Ve(m,"default"))&&c.push(f)}}const u=[i,c];return ze(t)&&n.set(t,u),u}function af(t){return t[0]!=="$"&&!zs(t)}const od=t=>t==="_"||t==="__"||t==="_ctx"||t==="$stable",sd=t=>le(t)?t.map(Tr):[Tr(t)],yw=(t,e,r)=>{if(e._n)return e;const n=Mt((...o)=>sd(e(...o)),r);return n._c=!1,n},qm=(t,e,r)=>{const n=t._ctx;for(const o in t){if(od(o))continue;const s=t[o];if(ge(s))e[o]=yw(o,s,n);else if(s!=null){const i=sd(s);e[o]=()=>i}}},Hm=(t,e)=>{const r=sd(e);t.slots.default=()=>r},Wm=(t,e,r)=>{for(const n in e)(r||!od(n))&&(t[n]=e[n])},bw=(t,e,r)=>{const n=t.slots=Fm();if(t.vnode.shapeFlag&32){const o=e.__;o&&Gl(n,"__",o,!0);const s=e._;s?(Wm(n,e,r),r&&Gl(n,"_",s,!0)):qm(e,n)}else e&&Hm(t,e)},vw=(t,e,r)=>{const{vnode:n,slots:o}=t;let s=!0,i=Me;if(n.shapeFlag&32){const c=e._;c?r&&c===1?s=!1:Wm(o,e,r):(s=!e.$stable,qm(e,o)),i=e}else e&&(Hm(t,e),i={default:1});if(s)for(const c in o)!od(c)&&i[c]==null&&delete o[c]},Jt=Nw;function _w(t){return ww(t)}function ww(t,e){const r=bc();r.__VUE__=!0;const{insert:n,remove:o,patchProp:s,createElement:i,createText:c,createComment:l,setText:u,setElementText:d,parentNode:f,nextSibling:g,setScopeId:m=Cr,insertStaticContent:_}=t,S=(w,C,x,F=null,j=null,M=null,Q=void 0,K=null,q=!!C.dynamicChildren)=>{if(w===C)return;w&&!Os(w,C)&&(F=B(w),xe(w,j,M,!0),w=null),C.patchFlag===-2&&(q=!1,C.dynamicChildren=null);const{type:H,ref:se,shapeFlag:J}=C;switch(H){case kc:k(w,C,x,F);break;case Sn:V(w,C,x,F);break;case Ta:w==null&&$(C,x,F,Q);break;case Pt:A(w,C,x,F,j,M,Q,K,q);break;default:J&1?re(w,C,x,F,j,M,Q,K,q):J&6?T(w,C,x,F,j,M,Q,K,q):(J&64||J&128)&&H.process(w,C,x,F,j,M,Q,K,q,ne)}se!=null&&j?Ws(se,w&&w.ref,M,C||w,!C):se==null&&w&&w.ref!=null&&Ws(w.ref,null,M,w,!0)},k=(w,C,x,F)=>{if(w==null)n(C.el=c(C.children),x,F);else{const j=C.el=w.el;C.children!==w.children&&u(j,C.children)}},V=(w,C,x,F)=>{w==null?n(C.el=l(C.children||""),x,F):C.el=w.el},$=(w,C,x,F)=>{[w.el,w.anchor]=_(w.children,C,x,F,w.el,w.anchor)},U=({el:w,anchor:C},x,F)=>{let j;for(;w&&w!==C;)j=g(w),n(w,x,F),w=j;n(C,x,F)},W=({el:w,anchor:C})=>{let x;for(;w&&w!==C;)x=g(w),o(w),w=x;o(C)},re=(w,C,x,F,j,M,Q,K,q)=>{C.type==="svg"?Q="svg":C.type==="math"&&(Q="mathml"),w==null?ee(C,x,F,j,M,Q,K,q):E(w,C,j,M,Q,K,q)},ee=(w,C,x,F,j,M,Q,K)=>{let q,H;const{props:se,shapeFlag:J,transition:oe,dirs:ce}=w;if(q=w.el=i(w.type,M,se&&se.is,se),J&8?d(q,w.children):J&16&&b(w.children,q,null,F,j,kl(w,M),Q,K),ce&&Kn(w,null,F,"created"),v(q,w,w.scopeId,Q,F),se){for(const Le in se)Le!=="value"&&!zs(Le)&&s(q,Le,null,se[Le],M,F);"value"in se&&s(q,"value",null,se.value,M),(H=se.onVnodeBeforeMount)&&vr(H,F,w)}ce&&Kn(w,null,F,"beforeMount");const Te=Ew(j,oe);Te&&oe.beforeEnter(q),n(q,C,x),((H=se&&se.onVnodeMounted)||Te||ce)&&Jt(()=>{H&&vr(H,F,w),Te&&oe.enter(q),ce&&Kn(w,null,F,"mounted")},j)},v=(w,C,x,F,j)=>{if(x&&m(w,x),F)for(let M=0;M<F.length;M++)m(w,F[M]);if(j){let M=j.subTree;if(C===M||Xm(M.type)&&(M.ssContent===C||M.ssFallback===C)){const Q=j.vnode;v(w,Q,Q.scopeId,Q.slotScopeIds,j.parent)}}},b=(w,C,x,F,j,M,Q,K,q=0)=>{for(let H=q;H<w.length;H++){const se=w[H]=K?hn(w[H]):Tr(w[H]);S(null,se,C,x,F,j,M,Q,K)}},E=(w,C,x,F,j,M,Q)=>{const K=C.el=w.el;let{patchFlag:q,dynamicChildren:H,dirs:se}=C;q|=w.patchFlag&16;const J=w.props||Me,oe=C.props||Me;let ce;if(x&&Gn(x,!1),(ce=oe.onVnodeBeforeUpdate)&&vr(ce,x,C,w),se&&Kn(C,w,x,"beforeUpdate"),x&&Gn(x,!0),(J.innerHTML&&oe.innerHTML==null||J.textContent&&oe.textContent==null)&&d(K,""),H?R(w.dynamicChildren,H,K,x,F,kl(C,j),M):Q||ae(w,C,K,null,x,F,kl(C,j),M,!1),q>0){if(q&16)I(K,J,oe,x,j);else if(q&2&&J.class!==oe.class&&s(K,"class",null,oe.class,j),q&4&&s(K,"style",J.style,oe.style,j),q&8){const Te=C.dynamicProps;for(let Le=0;Le<Te.length;Le++){const Pe=Te[Le],Tt=J[Pe],Ct=oe[Pe];(Ct!==Tt||Pe==="value")&&s(K,Pe,Tt,Ct,j,x)}}q&1&&w.children!==C.children&&d(K,C.children)}else!Q&&H==null&&I(K,J,oe,x,j);((ce=oe.onVnodeUpdated)||se)&&Jt(()=>{ce&&vr(ce,x,C,w),se&&Kn(C,w,x,"updated")},F)},R=(w,C,x,F,j,M,Q)=>{for(let K=0;K<C.length;K++){const q=w[K],H=C[K],se=q.el&&(q.type===Pt||!Os(q,H)||q.shapeFlag&198)?f(q.el):x;S(q,H,se,null,F,j,M,Q,!0)}},I=(w,C,x,F,j)=>{if(C!==x){if(C!==Me)for(const M in C)!zs(M)&&!(M in x)&&s(w,M,C[M],null,j,F);for(const M in x){if(zs(M))continue;const Q=x[M],K=C[M];Q!==K&&M!=="value"&&s(w,M,K,Q,j,F)}"value"in x&&s(w,"value",C.value,x.value,j)}},A=(w,C,x,F,j,M,Q,K,q)=>{const H=C.el=w?w.el:c(""),se=C.anchor=w?w.anchor:c("");let{patchFlag:J,dynamicChildren:oe,slotScopeIds:ce}=C;ce&&(K=K?K.concat(ce):ce),w==null?(n(H,x,F),n(se,x,F),b(C.children||[],x,se,j,M,Q,K,q)):J>0&&J&64&&oe&&w.dynamicChildren?(R(w.dynamicChildren,oe,x,j,M,Q,K),(C.key!=null||j&&C===j.subTree)&&Km(w,C,!0)):ae(w,C,x,se,j,M,Q,K,q)},T=(w,C,x,F,j,M,Q,K,q)=>{C.slotScopeIds=K,w==null?C.shapeFlag&512?j.ctx.activate(C,x,F,Q,q):Ee(C,x,F,j,M,Q,q):qe(w,C,q)},Ee=(w,C,x,F,j,M,Q)=>{const K=w.component=Uw(w,F,j);if(Nm(w)&&(K.ctx.renderer=ne),jw(K,!1,Q),K.asyncDep){if(j&&j.registerDep(K,_e,Q),!w.el){const q=K.subTree=Re(Sn);V(null,q,C,x),w.placeholder=q.el}}else _e(K,w,C,x,j,M,Q)},qe=(w,C,x)=>{const F=C.component=w.component;if(xw(w,C,x))if(F.asyncDep&&!F.asyncResolved){be(F,C,x);return}else F.next=C,F.update();else C.el=w.el,F.vnode=C},_e=(w,C,x,F,j,M,Q)=>{const K=()=>{if(w.isMounted){let{next:J,bu:oe,u:ce,parent:Te,vnode:Le}=w;{const Qt=Gm(w);if(Qt){J&&(J.el=Le.el,be(w,J,Q)),Qt.asyncDep.then(()=>{w.isUnmounted||K()});return}}let Pe=J,Tt;Gn(w,!1),J?(J.el=Le.el,be(w,J,Q)):J=Le,oe&&wa(oe),(Tt=J.props&&J.props.onVnodeBeforeUpdate)&&vr(Tt,Te,J,Le),Gn(w,!0);const Ct=lf(w),Gt=w.subTree;w.subTree=Ct,S(Gt,Ct,f(Gt.el),B(Gt),w,j,M),J.el=Ct.el,Pe===null&&Ow(w,Ct.el),ce&&Jt(ce,j),(Tt=J.props&&J.props.onVnodeUpdated)&&Jt(()=>vr(Tt,Te,J,Le),j)}else{let J;const{el:oe,props:ce}=C,{bm:Te,m:Le,parent:Pe,root:Tt,type:Ct}=w,Gt=Ks(C);Gn(w,!1),Te&&wa(Te),!Gt&&(J=ce&&ce.onVnodeBeforeMount)&&vr(J,Pe,C),Gn(w,!0);{Tt.ce&&Tt.ce._def.shadowRoot!==!1&&Tt.ce._injectChildStyle(Ct);const Qt=w.subTree=lf(w);S(null,Qt,x,F,w,j,M),C.el=Qt.el}if(Le&&Jt(Le,j),!Gt&&(J=ce&&ce.onVnodeMounted)){const Qt=C;Jt(()=>vr(J,Pe,Qt),j)}(C.shapeFlag&256||Pe&&Ks(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&w.a&&Jt(w.a,j),w.isMounted=!0,C=x=F=null}};w.scope.on();const q=w.effect=new lm(K);w.scope.off();const H=w.update=q.run.bind(q),se=w.job=q.runIfDirty.bind(q);se.i=w,se.id=w.uid,q.scheduler=()=>rd(se),Gn(w,!0),H()},be=(w,C,x)=>{C.component=w;const F=w.vnode.props;w.vnode=C,w.next=null,gw(w,C.props,F,x),vw(w,C.children,x),Gr(),ef(w),Qr()},ae=(w,C,x,F,j,M,Q,K,q=!1)=>{const H=w&&w.children,se=w?w.shapeFlag:0,J=C.children,{patchFlag:oe,shapeFlag:ce}=C;if(oe>0){if(oe&128){Xe(H,J,x,F,j,M,Q,K,q);return}else if(oe&256){Ke(H,J,x,F,j,M,Q,K,q);return}}ce&8?(se&16&&ct(H,j,M),J!==H&&d(x,J)):se&16?ce&16?Xe(H,J,x,F,j,M,Q,K,q):ct(H,j,M,!0):(se&8&&d(x,""),ce&16&&b(J,x,F,j,M,Q,K,q))},Ke=(w,C,x,F,j,M,Q,K,q)=>{w=w||Do,C=C||Do;const H=w.length,se=C.length,J=Math.min(H,se);let oe;for(oe=0;oe<J;oe++){const ce=C[oe]=q?hn(C[oe]):Tr(C[oe]);S(w[oe],ce,x,null,j,M,Q,K,q)}H>se?ct(w,j,M,!0,!1,J):b(C,x,F,j,M,Q,K,q,J)},Xe=(w,C,x,F,j,M,Q,K,q)=>{let H=0;const se=C.length;let J=w.length-1,oe=se-1;for(;H<=J&&H<=oe;){const ce=w[H],Te=C[H]=q?hn(C[H]):Tr(C[H]);if(Os(ce,Te))S(ce,Te,x,null,j,M,Q,K,q);else break;H++}for(;H<=J&&H<=oe;){const ce=w[J],Te=C[oe]=q?hn(C[oe]):Tr(C[oe]);if(Os(ce,Te))S(ce,Te,x,null,j,M,Q,K,q);else break;J--,oe--}if(H>J){if(H<=oe){const ce=oe+1,Te=ce<se?C[ce].el:F;for(;H<=oe;)S(null,C[H]=q?hn(C[H]):Tr(C[H]),x,Te,j,M,Q,K,q),H++}}else if(H>oe)for(;H<=J;)xe(w[H],j,M,!0),H++;else{const ce=H,Te=H,Le=new Map;for(H=Te;H<=oe;H++){const yt=C[H]=q?hn(C[H]):Tr(C[H]);yt.key!=null&&Le.set(yt.key,H)}let Pe,Tt=0;const Ct=oe-Te+1;let Gt=!1,Qt=0;const ir=new Array(Ct);for(H=0;H<Ct;H++)ir[H]=0;for(H=ce;H<=J;H++){const yt=w[H];if(Tt>=Ct){xe(yt,j,M,!0);continue}let ft;if(yt.key!=null)ft=Le.get(yt.key);else for(Pe=Te;Pe<=oe;Pe++)if(ir[Pe-Te]===0&&Os(yt,C[Pe])){ft=Pe;break}ft===void 0?xe(yt,j,M,!0):(ir[ft-Te]=H+1,ft>=Qt?Qt=ft:Gt=!0,S(yt,C[ft],x,null,j,M,Q,K,q),Tt++)}const vo=Gt?Tw(ir):Do;for(Pe=vo.length-1,H=Ct-1;H>=0;H--){const yt=Te+H,ft=C[yt],ms=C[yt+1],jn=yt+1<se?ms.el||ms.placeholder:F;ir[H]===0?S(null,ft,x,jn,j,M,Q,K,q):Gt&&(Pe<0||H!==vo[Pe]?Ae(ft,x,jn,2):Pe--)}}},Ae=(w,C,x,F,j=null)=>{const{el:M,type:Q,transition:K,children:q,shapeFlag:H}=w;if(H&6){Ae(w.component.subTree,C,x,F);return}if(H&128){w.suspense.move(C,x,F);return}if(H&64){Q.move(w,C,x,ne);return}if(Q===Pt){n(M,C,x);for(let J=0;J<q.length;J++)Ae(q[J],C,x,F);n(w.anchor,C,x);return}if(Q===Ta){U(w,C,x);return}if(F!==2&&H&1&&K)if(F===0)K.beforeEnter(M),n(M,C,x),Jt(()=>K.enter(M),j);else{const{leave:J,delayLeave:oe,afterLeave:ce}=K,Te=()=>{w.ctx.isUnmounted?o(M):n(M,C,x)},Le=()=>{J(M,()=>{Te(),ce&&ce()})};oe?oe(M,Te,Le):Le()}else n(M,C,x)},xe=(w,C,x,F=!1,j=!1)=>{const{type:M,props:Q,ref:K,children:q,dynamicChildren:H,shapeFlag:se,patchFlag:J,dirs:oe,cacheIndex:ce}=w;if(J===-2&&(j=!1),K!=null&&(Gr(),Ws(K,null,x,w,!0),Qr()),ce!=null&&(C.renderCache[ce]=void 0),se&256){C.ctx.deactivate(w);return}const Te=se&1&&oe,Le=!Ks(w);let Pe;if(Le&&(Pe=Q&&Q.onVnodeBeforeUnmount)&&vr(Pe,C,w),se&6)Ut(w.component,x,F);else{if(se&128){w.suspense.unmount(x,F);return}Te&&Kn(w,null,C,"beforeUnmount"),se&64?w.type.remove(w,C,x,ne,F):H&&!H.hasOnce&&(M!==Pt||J>0&&J&64)?ct(H,C,x,!1,!0):(M===Pt&&J&384||!j&&se&16)&&ct(q,C,x),F&&ht(w)}(Le&&(Pe=Q&&Q.onVnodeUnmounted)||Te)&&Jt(()=>{Pe&&vr(Pe,C,w),Te&&Kn(w,null,C,"unmounted")},x)},ht=w=>{const{type:C,el:x,anchor:F,transition:j}=w;if(C===Pt){Qe(x,F);return}if(C===Ta){W(w);return}const M=()=>{o(x),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(w.shapeFlag&1&&j&&!j.persisted){const{leave:Q,delayLeave:K}=j,q=()=>Q(x,M);K?K(w.el,M,q):q()}else M()},Qe=(w,C)=>{let x;for(;w!==C;)x=g(w),o(w),w=x;o(C)},Ut=(w,C,x)=>{const{bum:F,scope:j,job:M,subTree:Q,um:K,m:q,a:H,parent:se,slots:{__:J}}=w;cf(q),cf(H),F&&wa(F),se&&le(J)&&J.forEach(oe=>{se.renderCache[oe]=void 0}),j.stop(),M&&(M.flags|=8,xe(Q,w,C,x)),K&&Jt(K,C),Jt(()=>{w.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&w.asyncDep&&!w.asyncResolved&&w.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},ct=(w,C,x,F=!1,j=!1,M=0)=>{for(let Q=M;Q<w.length;Q++)xe(w[Q],C,x,F,j)},B=w=>{if(w.shapeFlag&6)return B(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const C=g(w.anchor||w.el),x=C&&C[z_];return x?g(x):C};let Z=!1;const Y=(w,C,x)=>{w==null?C._vnode&&xe(C._vnode,null,null,!0):S(C._vnode||null,w,C,null,null,null,x),C._vnode=w,Z||(Z=!0,ef(),Sm(),Z=!1)},ne={p:S,um:xe,m:Ae,r:ht,mt:Ee,mc:b,pc:ae,pbc:R,n:B,o:t};return{render:Y,hydrate:void 0,createApp:fw(Y)}}function kl({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Gn({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Ew(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Km(t,e,r=!1){const n=t.children,o=e.children;if(le(n)&&le(o))for(let s=0;s<n.length;s++){const i=n[s];let c=o[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[s]=hn(o[s]),c.el=i.el),!r&&c.patchFlag!==-2&&Km(i,c)),c.type===kc&&(c.el=i.el),c.type===Sn&&!c.el&&(c.el=i.el)}}function Tw(t){const e=t.slice(),r=[0];let n,o,s,i,c;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(o=r[r.length-1],t[o]<u){e[n]=o,r.push(n);continue}for(s=0,i=r.length-1;s<i;)c=s+i>>1,t[r[c]]<u?s=c+1:i=c;u<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}for(s=r.length,i=r[s-1];s-- >0;)r[s]=i,i=e[i];return r}function Gm(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Gm(e)}function cf(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Cw=Symbol.for("v-scx"),kw=()=>dr(Cw);function jr(t,e,r){return Qm(t,e,r)}function Qm(t,e,r=Me){const{immediate:n,deep:o,flush:s,once:i}=r,c=Vt({},r),l=e&&n||!e&&s!=="post";let u;if(li){if(s==="sync"){const m=kw();u=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=Cr,m.resume=Cr,m.pause=Cr,m}}const d=Ot;c.call=(m,_,S)=>Or(m,d,_,S);let f=!1;s==="post"?c.scheduler=m=>{Jt(m,d&&d.suspense)}:s!=="sync"&&(f=!0,c.scheduler=(m,_)=>{_?m():rd(m)}),c.augmentJob=m=>{e&&(m.flags|=4),f&&(m.flags|=2,d&&(m.id=d.uid,m.i=d))};const g=M_(t,e,c);return li&&(u?u.push(g):l&&g()),g}function Iw(t,e,r){const n=this.proxy,o=at(t)?t.includes(".")?Ym(n,t):()=>n[t]:t.bind(n,n);let s;ge(e)?s=e:(s=e.handler,r=e);const i=Ni(this),c=Qm(o,s.bind(n),r);return i(),c}function Ym(t,e){const r=e.split(".");return()=>{let n=t;for(let o=0;o<r.length&&n;o++)n=n[r[o]];return n}}const Rw=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${sr(e)}Modifiers`]||t[`${Vn(e)}Modifiers`];function Sw(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||Me;let o=r;const s=e.startsWith("update:"),i=s&&Rw(n,e.slice(7));i&&(i.trim&&(o=r.map(d=>at(d)?d.trim():d)),i.number&&(o=r.map(Ma)));let c,l=n[c=vl(e)]||n[c=vl(sr(e))];!l&&s&&(l=n[c=vl(Vn(e))]),l&&Or(l,t,6,o);const u=n[c+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,Or(u,t,6,o)}}function Jm(t,e,r=!1){const n=e.emitsCache,o=n.get(t);if(o!==void 0)return o;const s=t.emits;let i={},c=!1;if(!ge(t)){const l=u=>{const d=Jm(u,e,!0);d&&(c=!0,Vt(i,d))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!c?(ze(t)&&n.set(t,null),null):(le(s)?s.forEach(l=>i[l]=null):Vt(i,s),ze(t)&&n.set(t,i),i)}function Cc(t,e){return!t||!gc(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ve(t,e[0].toLowerCase()+e.slice(1))||Ve(t,Vn(e))||Ve(t,e))}function lf(t){const{type:e,vnode:r,proxy:n,withProxy:o,propsOptions:[s],slots:i,attrs:c,emit:l,render:u,renderCache:d,props:f,data:g,setupState:m,ctx:_,inheritAttrs:S}=t,k=za(t);let V,$;try{if(r.shapeFlag&4){const W=o||n,re=W;V=Tr(u.call(re,W,d,f,m,g,_)),$=c}else{const W=e;V=Tr(W.length>1?W(f,{attrs:c,slots:i,emit:l}):W(f,null)),$=e.props?c:Aw(c)}}catch(W){Qs.length=0,_c(W,t,1),V=Re(Sn)}let U=V;if($&&S!==!1){const W=Object.keys($),{shapeFlag:re}=U;W.length&&re&7&&(s&&W.some(zu)&&($=Pw($,s)),U=Ho(U,$,!1,!0))}return r.dirs&&(U=Ho(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(r.dirs):r.dirs),r.transition&&nd(U,r.transition),V=U,za(k),V}const Aw=t=>{let e;for(const r in t)(r==="class"||r==="style"||gc(r))&&((e||(e={}))[r]=t[r]);return e},Pw=(t,e)=>{const r={};for(const n in t)(!zu(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function xw(t,e,r){const{props:n,children:o,component:s}=t,{props:i,children:c,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?uf(n,i,u):!!i;if(l&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const g=d[f];if(i[g]!==n[g]&&!Cc(u,g))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:n===i?!1:n?i?uf(n,i,u):!0:!!i;return!1}function uf(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let o=0;o<n.length;o++){const s=n[o];if(e[s]!==t[s]&&!Cc(r,s))return!0}return!1}function Ow({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const Xm=t=>t.__isSuspense;function Nw(t,e){e&&e.pendingBranch?le(t)?e.effects.push(...t):e.effects.push(t):j_(t)}const Pt=Symbol.for("v-fgt"),kc=Symbol.for("v-txt"),Sn=Symbol.for("v-cmt"),Ta=Symbol.for("v-stc"),Qs=[];let Zt=null;function fe(t=!1){Qs.push(Zt=t?null:[])}function Dw(){Qs.pop(),Zt=Qs[Qs.length-1]||null}let ci=1;function df(t,e=!1){ci+=t,t<0&&Zt&&e&&(Zt.hasOnce=!0)}function Zm(t){return t.dynamicChildren=ci>0?Zt||Do:null,Dw(),ci>0&&Zt&&Zt.push(t),t}function me(t,e,r,n,o,s){return Zm(P(t,e,r,n,o,s,!0))}function e0(t,e,r,n,o){return Zm(Re(t,e,r,n,o,!0))}function Ha(t){return t?t.__v_isVNode===!0:!1}function Os(t,e){return t.type===e.type&&t.key===e.key}const t0=({key:t})=>t??null,Ca=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?at(t)||Dt(t)||ge(t)?{i:Xt,r:t,k:e,f:!!r}:t:null);function P(t,e=null,r=null,n=0,o=null,s=t===Pt?0:1,i=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&t0(e),ref:e&&Ca(e),scopeId:Pm,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Xt};return c?(id(l,r),s&128&&t.normalize(l)):r&&(l.shapeFlag|=at(r)?8:16),ci>0&&!i&&Zt&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Zt.push(l),l}const Re=Vw;function Vw(t,e=null,r=null,n=0,o=null,s=!1){if((!t||t===nw)&&(t=Sn),Ha(t)){const c=Ho(t,e,!0);return r&&id(c,r),ci>0&&!s&&Zt&&(c.shapeFlag&6?Zt[Zt.indexOf(t)]=c:Zt.push(c)),c.patchFlag=-2,c}if(Kw(t)&&(t=t.__vccOpts),e){e=$w(e);let{class:c,style:l}=e;c&&!at(c)&&(e.class=Ur(c)),ze(l)&&(td(l)&&!le(l)&&(l=Vt({},l)),e.style=Wu(l))}const i=at(t)?1:Xm(t)?128:q_(t)?64:ze(t)?4:ge(t)?2:0;return P(t,e,r,n,o,i,s,!0)}function $w(t){return t?td(t)||Um(t)?Vt({},t):t:null}function Ho(t,e,r=!1,n=!1){const{props:o,ref:s,patchFlag:i,children:c,transition:l}=t,u=e?Bw(o||{},e):o,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&t0(u),ref:e&&e.ref?r&&s?le(s)?s.concat(Ca(e)):[s,Ca(e)]:Ca(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Pt?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ho(t.ssContent),ssFallback:t.ssFallback&&Ho(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&nd(d,l.clone(d)),d}function et(t=" ",e=0){return Re(kc,null,t,e)}function Lw(t,e){const r=Re(Ta,null,t);return r.staticCount=e,r}function vt(t="",e=!1){return e?(fe(),e0(Sn,null,t)):Re(Sn,null,t)}function Tr(t){return t==null||typeof t=="boolean"?Re(Sn):le(t)?Re(Pt,null,t.slice()):Ha(t)?hn(t):Re(kc,null,String(t))}function hn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ho(t)}function id(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(le(e))r=16;else if(typeof e=="object")if(n&65){const o=e.default;o&&(o._c&&(o._d=!1),id(t,o()),o._c&&(o._d=!0));return}else{r=32;const o=e._;!o&&!Um(e)?e._ctx=Xt:o===3&&Xt&&(Xt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ge(e)?(e={default:e,_ctx:Xt},r=32):(e=String(e),n&64?(r=16,e=[et(e)]):r=8);t.children=e,t.shapeFlag|=r}function Bw(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const o in n)if(o==="class")e.class!==n.class&&(e.class=Ur([e.class,n.class]));else if(o==="style")e.style=Wu([e.style,n.style]);else if(gc(o)){const s=e[o],i=n[o];i&&s!==i&&!(le(s)&&s.includes(i))&&(e[o]=s?[].concat(s,i):i)}else o!==""&&(e[o]=n[o])}return e}function vr(t,e,r,n=null){Or(t,e,7,[r,n])}const Mw=Bm();let Fw=0;function Uw(t,e,r){const n=t.type,o=(e?e.appContext:t.appContext)||Mw,s={uid:Fw++,vnode:t,type:n,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new h_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zm(n,o),emitsOptions:Jm(n,o),emit:null,emitted:null,propsDefaults:Me,inheritAttrs:n.inheritAttrs,ctx:Me,data:Me,props:Me,attrs:Me,slots:Me,refs:Me,setupState:Me,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Sw.bind(null,s),t.ce&&t.ce(s),s}let Ot=null;const nu=()=>Ot||Xt;let Wa,ou;{const t=bc(),e=(r,n)=>{let o;return(o=t[r])||(o=t[r]=[]),o.push(n),s=>{o.length>1?o.forEach(i=>i(s)):o[0](s)}};Wa=e("__VUE_INSTANCE_SETTERS__",r=>Ot=r),ou=e("__VUE_SSR_SETTERS__",r=>li=r)}const Ni=t=>{const e=Ot;return Wa(t),t.scope.on(),()=>{t.scope.off(),Wa(e)}},hf=()=>{Ot&&Ot.scope.off(),Wa(null)};function r0(t){return t.vnode.shapeFlag&4}let li=!1;function jw(t,e=!1,r=!1){e&&ou(e);const{props:n,children:o}=t.vnode,s=r0(t);pw(t,n,s,e),bw(t,o,r||e);const i=s?zw(t,e):void 0;return e&&ou(!1),i}function zw(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,iw);const{setup:n}=r;if(n){Gr();const o=t.setupContext=n.length>1?Hw(t):null,s=Ni(t),i=Oi(n,t,0,[t.props,o]),c=nm(i);if(Qr(),s(),(c||t.sp)&&!Ks(t)&&Om(t),c){if(i.then(hf,hf),e)return i.then(l=>{ff(t,l)}).catch(l=>{_c(l,t,0)});t.asyncDep=i}else ff(t,i)}else n0(t)}function ff(t,e,r){ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ze(e)&&(t.setupState=km(e)),n0(t)}function n0(t,e,r){const n=t.type;t.render||(t.render=n.render||Cr);{const o=Ni(t);Gr();try{aw(t)}finally{Qr(),o()}}}const qw={get(t,e){return At(t,"get",""),t[e]}};function Hw(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,qw),slots:t.slots,emit:t.emit,expose:e}}function Ic(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(km(O_(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Gs)return Gs[r](t)},has(e,r){return r in e||r in Gs}})):t.proxy}function Ww(t,e=!0){return ge(t)?t.displayName||t.name:t.name||e&&t.__name}function Kw(t){return ge(t)&&"__vccOpts"in t}const qt=(t,e)=>L_(t,e,li);function o0(t,e,r){const n=arguments.length;return n===2?ze(e)&&!le(e)?Ha(e)?Re(t,null,[e]):Re(t,e):Re(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Ha(r)&&(r=[r]),Re(t,e,r))}const Gw="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let su;const pf=typeof window<"u"&&window.trustedTypes;if(pf)try{su=pf.createPolicy("vue",{createHTML:t=>t})}catch{}const s0=su?t=>su.createHTML(t):t=>t,Qw="http://www.w3.org/2000/svg",Yw="http://www.w3.org/1998/Math/MathML",Lr=typeof document<"u"?document:null,gf=Lr&&Lr.createElement("template"),Jw={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const o=e==="svg"?Lr.createElementNS(Qw,t):e==="mathml"?Lr.createElementNS(Yw,t):r?Lr.createElement(t,{is:r}):Lr.createElement(t);return t==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:t=>Lr.createTextNode(t),createComment:t=>Lr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Lr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,o,s){const i=r?r.previousSibling:e.lastChild;if(o&&(o===s||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),r),!(o===s||!(o=o.nextSibling)););else{gf.innerHTML=s0(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const c=gf.content;if(n==="svg"||n==="mathml"){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}e.insertBefore(c,r)}return[i?i.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Xw=Symbol("_vtc");function Zw(t,e,r){const n=t[Xw];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const mf=Symbol("_vod"),eE=Symbol("_vsh"),tE=Symbol(""),rE=/(^|;)\s*display\s*:/;function nE(t,e,r){const n=t.style,o=at(r);let s=!1;if(r&&!o){if(e)if(at(e))for(const i of e.split(";")){const c=i.slice(0,i.indexOf(":")).trim();r[c]==null&&ka(n,c,"")}else for(const i in e)r[i]==null&&ka(n,i,"");for(const i in r)i==="display"&&(s=!0),ka(n,i,r[i])}else if(o){if(e!==r){const i=n[tE];i&&(r+=";"+i),n.cssText=r,s=rE.test(r)}}else e&&t.removeAttribute("style");mf in t&&(t[mf]=s?n.display:"",t[eE]&&(n.display="none"))}const yf=/\s*!important$/;function ka(t,e,r){if(le(r))r.forEach(n=>ka(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=oE(t,e);yf.test(r)?t.setProperty(Vn(n),r.replace(yf,""),"important"):t[n]=r}}const bf=["Webkit","Moz","ms"],Il={};function oE(t,e){const r=Il[e];if(r)return r;let n=sr(e);if(n!=="filter"&&n in t)return Il[e]=n;n=yc(n);for(let o=0;o<bf.length;o++){const s=bf[o]+n;if(s in t)return Il[e]=s}return e}const vf="http://www.w3.org/1999/xlink";function _f(t,e,r,n,o,s=u_(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(vf,e.slice(6,e.length)):t.setAttributeNS(vf,e,r):r==null||s&&!im(r)?t.removeAttribute(e):t.setAttribute(e,s?"":xr(r)?String(r):r)}function wf(t,e,r,n,o){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?s0(r):r);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const c=s==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(c!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let i=!1;if(r===""||r==null){const c=typeof t[e];c==="boolean"?r=im(r):r==null&&c==="string"?(r="",i=!0):c==="number"&&(r=0,i=!0)}try{t[e]=r}catch{}i&&t.removeAttribute(o||e)}function pn(t,e,r,n){t.addEventListener(e,r,n)}function sE(t,e,r,n){t.removeEventListener(e,r,n)}const Ef=Symbol("_vei");function iE(t,e,r,n,o=null){const s=t[Ef]||(t[Ef]={}),i=s[e];if(n&&i)i.value=n;else{const[c,l]=aE(e);if(n){const u=s[e]=uE(n,o);pn(t,c,u,l)}else i&&(sE(t,c,i,l),s[e]=void 0)}}const Tf=/(?:Once|Passive|Capture)$/;function aE(t){let e;if(Tf.test(t)){e={};let n;for(;n=t.match(Tf);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Vn(t.slice(2)),e]}let Rl=0;const cE=Promise.resolve(),lE=()=>Rl||(cE.then(()=>Rl=0),Rl=Date.now());function uE(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Or(dE(n,r.value),e,5,[n])};return r.value=t,r.attached=lE(),r}function dE(t,e){if(le(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>o=>!o._stopped&&n&&n(o))}else return e}const Cf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,hE=(t,e,r,n,o,s)=>{const i=o==="svg";e==="class"?Zw(t,n,i):e==="style"?nE(t,r,n):gc(e)?zu(e)||iE(t,e,r,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):fE(t,e,n,i))?(wf(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&_f(t,e,n,i,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!at(n))?wf(t,sr(e),n,s,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),_f(t,e,n,i))};function fE(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&Cf(e)&&ge(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=t.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Cf(e)&&at(r)?!1:e in t}const Wo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return le(e)?r=>wa(e,r):e};function pE(t){t.target.composing=!0}function kf(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Hr=Symbol("_assign"),ut={created(t,{modifiers:{lazy:e,trim:r,number:n}},o){t[Hr]=Wo(o);const s=n||o.props&&o.props.type==="number";pn(t,e?"change":"input",i=>{if(i.target.composing)return;let c=t.value;r&&(c=c.trim()),s&&(c=Ma(c)),t[Hr](c)}),r&&pn(t,"change",()=>{t.value=t.value.trim()}),e||(pn(t,"compositionstart",pE),pn(t,"compositionend",kf),pn(t,"change",kf))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:n,trim:o,number:s}},i){if(t[Hr]=Wo(i),t.composing)return;const c=(s||t.type==="number")&&!/^0\d/.test(t.value)?Ma(t.value):t.value,l=e??"";c!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===r||o&&t.value.trim()===l)||(t.value=l))}},gE={deep:!0,created(t,e,r){t[Hr]=Wo(r),pn(t,"change",()=>{const n=t._modelValue,o=ui(t),s=t.checked,i=t[Hr];if(le(n)){const c=Ku(n,o),l=c!==-1;if(s&&!l)i(n.concat(o));else if(!s&&l){const u=[...n];u.splice(c,1),i(u)}}else if(ss(n)){const c=new Set(n);s?c.add(o):c.delete(o),i(c)}else i(i0(t,s))})},mounted:If,beforeUpdate(t,e,r){t[Hr]=Wo(r),If(t,e,r)}};function If(t,{value:e,oldValue:r},n){t._modelValue=e;let o;if(le(e))o=Ku(e,n.props.value)>-1;else if(ss(e))o=e.has(n.props.value);else{if(e===r)return;o=Pi(e,i0(t,!0))}t.checked!==o&&(t.checked=o)}const Ka={deep:!0,created(t,{value:e,modifiers:{number:r}},n){const o=ss(e);pn(t,"change",()=>{const s=Array.prototype.filter.call(t.options,i=>i.selected).map(i=>r?Ma(ui(i)):ui(i));t[Hr](t.multiple?o?new Set(s):s:s[0]),t._assigning=!0,wc(()=>{t._assigning=!1})}),t[Hr]=Wo(n)},mounted(t,{value:e}){Rf(t,e)},beforeUpdate(t,e,r){t[Hr]=Wo(r)},updated(t,{value:e}){t._assigning||Rf(t,e)}};function Rf(t,e){const r=t.multiple,n=le(e);if(!(r&&!n&&!ss(e))){for(let o=0,s=t.options.length;o<s;o++){const i=t.options[o],c=ui(i);if(r)if(n){const l=typeof c;l==="string"||l==="number"?i.selected=e.some(u=>String(u)===String(c)):i.selected=Ku(e,c)>-1}else i.selected=e.has(c);else if(Pi(ui(i),e)){t.selectedIndex!==o&&(t.selectedIndex=o);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ui(t){return"_value"in t?t._value:t.value}function i0(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const mE=["ctrl","shift","alt","meta"],yE={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>mE.some(r=>t[`${r}Key`]&&!e.includes(r))},ad=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=(o,...s)=>{for(let i=0;i<e.length;i++){const c=yE[e[i]];if(c&&c(o,e))return}return t(o,...s)})},bE={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},vE=(t,e)=>{const r=t._withKeys||(t._withKeys={}),n=e.join(".");return r[n]||(r[n]=o=>{if(!("key"in o))return;const s=Vn(o.key);if(e.some(i=>i===s||bE[i]===s))return t(o)})},_E=Vt({patchProp:hE},Jw);let Sf;function wE(){return Sf||(Sf=_w(_E))}const EE=(...t)=>{const e=wE().createApp(...t),{mount:r}=e;return e.mount=n=>{const o=CE(n);if(!o)return;const s=e._component;!ge(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const i=r(o,!1,TE(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},e};function TE(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function CE(t){return at(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Io=typeof document<"u";function a0(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function kE(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&a0(t.default)}const Ne=Object.assign;function Sl(t,e){const r={};for(const n in e){const o=e[n];r[n]=hr(o)?o.map(t):t(o)}return r}const Ys=()=>{},hr=Array.isArray,c0=/#/g,IE=/&/g,RE=/\//g,SE=/=/g,AE=/\?/g,l0=/\+/g,PE=/%5B/g,xE=/%5D/g,u0=/%5E/g,OE=/%60/g,d0=/%7B/g,NE=/%7C/g,h0=/%7D/g,DE=/%20/g;function cd(t){return encodeURI(""+t).replace(NE,"|").replace(PE,"[").replace(xE,"]")}function VE(t){return cd(t).replace(d0,"{").replace(h0,"}").replace(u0,"^")}function iu(t){return cd(t).replace(l0,"%2B").replace(DE,"+").replace(c0,"%23").replace(IE,"%26").replace(OE,"`").replace(d0,"{").replace(h0,"}").replace(u0,"^")}function $E(t){return iu(t).replace(SE,"%3D")}function LE(t){return cd(t).replace(c0,"%23").replace(AE,"%3F")}function BE(t){return t==null?"":LE(t).replace(RE,"%2F")}function di(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const ME=/\/$/,FE=t=>t.replace(ME,"");function Al(t,e,r="/"){let n,o={},s="",i="";const c=e.indexOf("#");let l=e.indexOf("?");return c<l&&c>=0&&(l=-1),l>-1&&(n=e.slice(0,l),s=e.slice(l+1,c>-1?c:e.length),o=t(s)),c>-1&&(n=n||e.slice(0,c),i=e.slice(c,e.length)),n=qE(n??e,r),{fullPath:n+(s&&"?")+s+i,path:n,query:o,hash:di(i)}}function UE(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function Af(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function jE(t,e,r){const n=e.matched.length-1,o=r.matched.length-1;return n>-1&&n===o&&Ko(e.matched[n],r.matched[o])&&f0(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Ko(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function f0(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!zE(t[r],e[r]))return!1;return!0}function zE(t,e){return hr(t)?Pf(t,e):hr(e)?Pf(e,t):t===e}function Pf(t,e){return hr(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function qE(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),o=n[n.length-1];(o===".."||o===".")&&n.push("");let s=r.length-1,i,c;for(i=0;i<n.length;i++)if(c=n[i],c!==".")if(c==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+n.slice(i).join("/")}const ln={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var hi;(function(t){t.pop="pop",t.push="push"})(hi||(hi={}));var Js;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Js||(Js={}));function HE(t){if(!t)if(Io){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),FE(t)}const WE=/^[^#]+#/;function KE(t,e){return t.replace(WE,"#")+e}function GE(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const Rc=()=>({left:window.scrollX,top:window.scrollY});function QE(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),o=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!o)return;e=GE(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function xf(t,e){return(history.state?history.state.position-e:-1)+t}const au=new Map;function YE(t,e){au.set(t,e)}function JE(t){const e=au.get(t);return au.delete(t),e}let XE=()=>location.protocol+"//"+location.host;function p0(t,e){const{pathname:r,search:n,hash:o}=e,s=t.indexOf("#");if(s>-1){let c=o.includes(t.slice(s))?t.slice(s).length:1,l=o.slice(c);return l[0]!=="/"&&(l="/"+l),Af(l,"")}return Af(r,t)+n+o}function ZE(t,e,r,n){let o=[],s=[],i=null;const c=({state:g})=>{const m=p0(t,location),_=r.value,S=e.value;let k=0;if(g){if(r.value=m,e.value=g,i&&i===_){i=null;return}k=S?g.position-S.position:0}else n(m);o.forEach(V=>{V(r.value,_,{delta:k,type:hi.pop,direction:k?k>0?Js.forward:Js.back:Js.unknown})})};function l(){i=r.value}function u(g){o.push(g);const m=()=>{const _=o.indexOf(g);_>-1&&o.splice(_,1)};return s.push(m),m}function d(){const{history:g}=window;g.state&&g.replaceState(Ne({},g.state,{scroll:Rc()}),"")}function f(){for(const g of s)g();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function Of(t,e,r,n=!1,o=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:o?Rc():null}}function eT(t){const{history:e,location:r}=window,n={value:p0(t,r)},o={value:e.state};o.value||s(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,d){const f=t.indexOf("#"),g=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+l:XE()+t+l;try{e[d?"replaceState":"pushState"](u,"",g),o.value=u}catch(m){console.error(m),r[d?"replace":"assign"](g)}}function i(l,u){const d=Ne({},e.state,Of(o.value.back,l,o.value.forward,!0),u,{position:o.value.position});s(l,d,!0),n.value=l}function c(l,u){const d=Ne({},o.value,e.state,{forward:l,scroll:Rc()});s(d.current,d,!0);const f=Ne({},Of(n.value,l,null),{position:d.position+1},u);s(l,f,!1),n.value=l}return{location:n,state:o,push:c,replace:i}}function tT(t){t=HE(t);const e=eT(t),r=ZE(t,e.state,e.location,e.replace);function n(s,i=!0){i||r.pauseListeners(),history.go(s)}const o=Ne({location:"",base:t,go:n,createHref:KE.bind(null,t)},e,r);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function rT(t){return typeof t=="string"||t&&typeof t=="object"}function g0(t){return typeof t=="string"||typeof t=="symbol"}const m0=Symbol("");var Nf;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Nf||(Nf={}));function Go(t,e){return Ne(new Error,{type:t,[m0]:!0},e)}function Vr(t,e){return t instanceof Error&&m0 in t&&(e==null||!!(t.type&e))}const Df="[^/]+?",nT={sensitive:!1,strict:!1,start:!0,end:!0},oT=/[.+*?^${}()[\]/\\]/g;function sT(t,e){const r=Ne({},nT,e),n=[];let o=r.start?"^":"";const s=[];for(const u of t){const d=u.length?[]:[90];r.strict&&!u.length&&(o+="/");for(let f=0;f<u.length;f++){const g=u[f];let m=40+(r.sensitive?.25:0);if(g.type===0)f||(o+="/"),o+=g.value.replace(oT,"\\$&"),m+=40;else if(g.type===1){const{value:_,repeatable:S,optional:k,regexp:V}=g;s.push({name:_,repeatable:S,optional:k});const $=V||Df;if($!==Df){m+=10;try{new RegExp(`(${$})`)}catch(W){throw new Error(`Invalid custom RegExp for param "${_}" (${$}): `+W.message)}}let U=S?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;f||(U=k&&u.length<2?`(?:/${U})`:"/"+U),k&&(U+="?"),o+=U,m+=20,k&&(m+=-8),S&&(m+=-20),$===".*"&&(m+=-50)}d.push(m)}n.push(d)}if(r.strict&&r.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}r.strict||(o+="/?"),r.end?o+="$":r.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const i=new RegExp(o,r.sensitive?"":"i");function c(u){const d=u.match(i),f={};if(!d)return null;for(let g=1;g<d.length;g++){const m=d[g]||"",_=s[g-1];f[_.name]=m&&_.repeatable?m.split("/"):m}return f}function l(u){let d="",f=!1;for(const g of t){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const m of g)if(m.type===0)d+=m.value;else if(m.type===1){const{value:_,repeatable:S,optional:k}=m,V=_ in u?u[_]:"";if(hr(V)&&!S)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const $=hr(V)?V.join("/"):V;if(!$)if(k)g.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${_}"`);d+=$}}return d||"/"}return{re:i,score:n,keys:s,parse:c,stringify:l}}function iT(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function y0(t,e){let r=0;const n=t.score,o=e.score;for(;r<n.length&&r<o.length;){const s=iT(n[r],o[r]);if(s)return s;r++}if(Math.abs(o.length-n.length)===1){if(Vf(n))return 1;if(Vf(o))return-1}return o.length-n.length}function Vf(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const aT={type:0,value:""},cT=/[a-zA-Z0-9_]/;function lT(t){if(!t)return[[]];if(t==="/")return[[aT]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${r})/"${u}": ${m}`)}let r=0,n=r;const o=[];let s;function i(){s&&o.push(s),s=[]}let c=0,l,u="",d="";function f(){u&&(r===0?s.push({type:0,value:u}):r===1||r===2||r===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function g(){u+=l}for(;c<t.length;){if(l=t[c++],l==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:l==="/"?(u&&f(),i()):l===":"?(f(),r=1):g();break;case 4:g(),r=n;break;case 1:l==="("?r=2:cT.test(l)?g():(f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:r=3:d+=l;break;case 3:f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&c--,d="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),i(),o}function uT(t,e,r){const n=sT(lT(t.path),r),o=Ne(n,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function dT(t,e){const r=[],n=new Map;e=Mf({strict:!1,end:!0,sensitive:!1},e);function o(f){return n.get(f)}function s(f,g,m){const _=!m,S=Lf(f);S.aliasOf=m&&m.record;const k=Mf(e,f),V=[S];if("alias"in f){const W=typeof f.alias=="string"?[f.alias]:f.alias;for(const re of W)V.push(Lf(Ne({},S,{components:m?m.record.components:S.components,path:re,aliasOf:m?m.record:S})))}let $,U;for(const W of V){const{path:re}=W;if(g&&re[0]!=="/"){const ee=g.record.path,v=ee[ee.length-1]==="/"?"":"/";W.path=g.record.path+(re&&v+re)}if($=uT(W,g,k),m?m.alias.push($):(U=U||$,U!==$&&U.alias.push($),_&&f.name&&!Bf($)&&i(f.name)),b0($)&&l($),S.children){const ee=S.children;for(let v=0;v<ee.length;v++)s(ee[v],$,m&&m.children[v])}m=m||$}return U?()=>{i(U)}:Ys}function i(f){if(g0(f)){const g=n.get(f);g&&(n.delete(f),r.splice(r.indexOf(g),1),g.children.forEach(i),g.alias.forEach(i))}else{const g=r.indexOf(f);g>-1&&(r.splice(g,1),f.record.name&&n.delete(f.record.name),f.children.forEach(i),f.alias.forEach(i))}}function c(){return r}function l(f){const g=pT(f,r);r.splice(g,0,f),f.record.name&&!Bf(f)&&n.set(f.record.name,f)}function u(f,g){let m,_={},S,k;if("name"in f&&f.name){if(m=n.get(f.name),!m)throw Go(1,{location:f});k=m.record.name,_=Ne($f(g.params,m.keys.filter(U=>!U.optional).concat(m.parent?m.parent.keys.filter(U=>U.optional):[]).map(U=>U.name)),f.params&&$f(f.params,m.keys.map(U=>U.name))),S=m.stringify(_)}else if(f.path!=null)S=f.path,m=r.find(U=>U.re.test(S)),m&&(_=m.parse(S),k=m.record.name);else{if(m=g.name?n.get(g.name):r.find(U=>U.re.test(g.path)),!m)throw Go(1,{location:f,currentLocation:g});k=m.record.name,_=Ne({},g.params,f.params),S=m.stringify(_)}const V=[];let $=m;for(;$;)V.unshift($.record),$=$.parent;return{name:k,path:S,params:_,matched:V,meta:fT(V)}}t.forEach(f=>s(f));function d(){r.length=0,n.clear()}return{addRoute:s,resolve:u,removeRoute:i,clearRoutes:d,getRoutes:c,getRecordMatcher:o}}function $f(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function Lf(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:hT(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function hT(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function Bf(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function fT(t){return t.reduce((e,r)=>Ne(e,r.meta),{})}function Mf(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function pT(t,e){let r=0,n=e.length;for(;r!==n;){const s=r+n>>1;y0(t,e[s])<0?n=s:r=s+1}const o=gT(t);return o&&(n=e.lastIndexOf(o,n-1)),n}function gT(t){let e=t;for(;e=e.parent;)if(b0(e)&&y0(t,e)===0)return e}function b0({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function mT(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<n.length;++o){const s=n[o].replace(l0," "),i=s.indexOf("="),c=di(i<0?s:s.slice(0,i)),l=i<0?null:di(s.slice(i+1));if(c in e){let u=e[c];hr(u)||(u=e[c]=[u]),u.push(l)}else e[c]=l}return e}function Ff(t){let e="";for(let r in t){const n=t[r];if(r=$E(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(hr(n)?n.map(s=>s&&iu(s)):[n&&iu(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function yT(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=hr(n)?n.map(o=>o==null?null:""+o):n==null?n:""+n)}return e}const bT=Symbol(""),Uf=Symbol(""),Sc=Symbol(""),ld=Symbol(""),cu=Symbol("");function Ns(){let t=[];function e(n){return t.push(n),()=>{const o=t.indexOf(n);o>-1&&t.splice(o,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function fn(t,e,r,n,o,s=i=>i()){const i=n&&(n.enterCallbacks[o]=n.enterCallbacks[o]||[]);return()=>new Promise((c,l)=>{const u=g=>{g===!1?l(Go(4,{from:r,to:e})):g instanceof Error?l(g):rT(g)?l(Go(2,{from:e,to:g})):(i&&n.enterCallbacks[o]===i&&typeof g=="function"&&i.push(g),c())},d=s(()=>t.call(n&&n.instances[o],e,r,u));let f=Promise.resolve(d);t.length<3&&(f=f.then(u)),f.catch(g=>l(g))})}function Pl(t,e,r,n,o=s=>s()){const s=[];for(const i of t)for(const c in i.components){let l=i.components[c];if(!(e!=="beforeRouteEnter"&&!i.instances[c]))if(a0(l)){const d=(l.__vccOpts||l)[e];d&&s.push(fn(d,r,n,i,c,o))}else{let u=l();s.push(()=>u.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${c}" at "${i.path}"`);const f=kE(d)?d.default:d;i.mods[c]=d,i.components[c]=f;const m=(f.__vccOpts||f)[e];return m&&fn(m,r,n,i,c,o)()}))}}return s}function jf(t){const e=dr(Sc),r=dr(ld),n=qt(()=>{const l=eo(t.to);return e.resolve(l)}),o=qt(()=>{const{matched:l}=n.value,{length:u}=l,d=l[u-1],f=r.matched;if(!d||!f.length)return-1;const g=f.findIndex(Ko.bind(null,d));if(g>-1)return g;const m=zf(l[u-2]);return u>1&&zf(d)===m&&f[f.length-1].path!==m?f.findIndex(Ko.bind(null,l[u-2])):g}),s=qt(()=>o.value>-1&&TT(r.params,n.value.params)),i=qt(()=>o.value>-1&&o.value===r.matched.length-1&&f0(r.params,n.value.params));function c(l={}){if(ET(l)){const u=e[eo(t.replace)?"replace":"push"](eo(t.to)).catch(Ys);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:qt(()=>n.value.href),isActive:s,isExactActive:i,navigate:c}}function vT(t){return t.length===1?t[0]:t}const _T=xm({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:jf,setup(t,{slots:e}){const r=xi(jf(t)),{options:n}=dr(Sc),o=qt(()=>({[qf(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[qf(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=e.default&&vT(e.default(r));return t.custom?s:o0("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:o.value},s)}}}),wT=_T;function ET(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function TT(t,e){for(const r in e){const n=e[r],o=t[r];if(typeof n=="string"){if(n!==o)return!1}else if(!hr(o)||o.length!==n.length||n.some((s,i)=>s!==o[i]))return!1}return!0}function zf(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const qf=(t,e,r)=>t??e??r,CT=xm({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=dr(cu),o=qt(()=>t.route||n.value),s=dr(Uf,0),i=qt(()=>{let u=eo(s);const{matched:d}=o.value;let f;for(;(f=d[u])&&!f.components;)u++;return u}),c=qt(()=>o.value.matched[i.value]);Ea(Uf,qt(()=>i.value+1)),Ea(bT,c),Ea(cu,o);const l=we();return jr(()=>[l.value,c.value,t.name],([u,d,f],[g,m,_])=>{d&&(d.instances[f]=u,m&&m!==d&&u&&u===g&&(d.leaveGuards.size||(d.leaveGuards=m.leaveGuards),d.updateGuards.size||(d.updateGuards=m.updateGuards))),u&&d&&(!m||!Ko(d,m)||!g)&&(d.enterCallbacks[f]||[]).forEach(S=>S(u))},{flush:"post"}),()=>{const u=o.value,d=t.name,f=c.value,g=f&&f.components[d];if(!g)return Hf(r.default,{Component:g,route:u});const m=f.props[d],_=m?m===!0?u.params:typeof m=="function"?m(u):m:null,k=o0(g,Ne({},_,e,{onVnodeUnmounted:V=>{V.component.isUnmounted&&(f.instances[d]=null)},ref:l}));return Hf(r.default,{Component:k,route:u})||k}}});function Hf(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const kT=CT;function IT(t){const e=dT(t.routes,t),r=t.parseQuery||mT,n=t.stringifyQuery||Ff,o=t.history,s=Ns(),i=Ns(),c=Ns(),l=N_(ln);let u=ln;Io&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Sl.bind(null,B=>""+B),f=Sl.bind(null,BE),g=Sl.bind(null,di);function m(B,Z){let Y,ne;return g0(B)?(Y=e.getRecordMatcher(B),ne=Z):ne=B,e.addRoute(ne,Y)}function _(B){const Z=e.getRecordMatcher(B);Z&&e.removeRoute(Z)}function S(){return e.getRoutes().map(B=>B.record)}function k(B){return!!e.getRecordMatcher(B)}function V(B,Z){if(Z=Ne({},Z||l.value),typeof B=="string"){const x=Al(r,B,Z.path),F=e.resolve({path:x.path},Z),j=o.createHref(x.fullPath);return Ne(x,F,{params:g(F.params),hash:di(x.hash),redirectedFrom:void 0,href:j})}let Y;if(B.path!=null)Y=Ne({},B,{path:Al(r,B.path,Z.path).path});else{const x=Ne({},B.params);for(const F in x)x[F]==null&&delete x[F];Y=Ne({},B,{params:f(x)}),Z.params=f(Z.params)}const ne=e.resolve(Y,Z),Oe=B.hash||"";ne.params=d(g(ne.params));const w=UE(n,Ne({},B,{hash:VE(Oe),path:ne.path})),C=o.createHref(w);return Ne({fullPath:w,hash:Oe,query:n===Ff?yT(B.query):B.query||{}},ne,{redirectedFrom:void 0,href:C})}function $(B){return typeof B=="string"?Al(r,B,l.value.path):Ne({},B)}function U(B,Z){if(u!==B)return Go(8,{from:Z,to:B})}function W(B){return v(B)}function re(B){return W(Ne($(B),{replace:!0}))}function ee(B){const Z=B.matched[B.matched.length-1];if(Z&&Z.redirect){const{redirect:Y}=Z;let ne=typeof Y=="function"?Y(B):Y;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=$(ne):{path:ne},ne.params={}),Ne({query:B.query,hash:B.hash,params:ne.path!=null?{}:B.params},ne)}}function v(B,Z){const Y=u=V(B),ne=l.value,Oe=B.state,w=B.force,C=B.replace===!0,x=ee(Y);if(x)return v(Ne($(x),{state:typeof x=="object"?Ne({},Oe,x.state):Oe,force:w,replace:C}),Z||Y);const F=Y;F.redirectedFrom=Z;let j;return!w&&jE(n,ne,Y)&&(j=Go(16,{to:F,from:ne}),Ae(ne,ne,!0,!1)),(j?Promise.resolve(j):R(F,ne)).catch(M=>Vr(M)?Vr(M,2)?M:Xe(M):ae(M,F,ne)).then(M=>{if(M){if(Vr(M,2))return v(Ne({replace:C},$(M.to),{state:typeof M.to=="object"?Ne({},Oe,M.to.state):Oe,force:w}),Z||F)}else M=A(F,ne,!0,C,Oe);return I(F,ne,M),M})}function b(B,Z){const Y=U(B,Z);return Y?Promise.reject(Y):Promise.resolve()}function E(B){const Z=Qe.values().next().value;return Z&&typeof Z.runWithContext=="function"?Z.runWithContext(B):B()}function R(B,Z){let Y;const[ne,Oe,w]=RT(B,Z);Y=Pl(ne.reverse(),"beforeRouteLeave",B,Z);for(const x of ne)x.leaveGuards.forEach(F=>{Y.push(fn(F,B,Z))});const C=b.bind(null,B,Z);return Y.push(C),ct(Y).then(()=>{Y=[];for(const x of s.list())Y.push(fn(x,B,Z));return Y.push(C),ct(Y)}).then(()=>{Y=Pl(Oe,"beforeRouteUpdate",B,Z);for(const x of Oe)x.updateGuards.forEach(F=>{Y.push(fn(F,B,Z))});return Y.push(C),ct(Y)}).then(()=>{Y=[];for(const x of w)if(x.beforeEnter)if(hr(x.beforeEnter))for(const F of x.beforeEnter)Y.push(fn(F,B,Z));else Y.push(fn(x.beforeEnter,B,Z));return Y.push(C),ct(Y)}).then(()=>(B.matched.forEach(x=>x.enterCallbacks={}),Y=Pl(w,"beforeRouteEnter",B,Z,E),Y.push(C),ct(Y))).then(()=>{Y=[];for(const x of i.list())Y.push(fn(x,B,Z));return Y.push(C),ct(Y)}).catch(x=>Vr(x,8)?x:Promise.reject(x))}function I(B,Z,Y){c.list().forEach(ne=>E(()=>ne(B,Z,Y)))}function A(B,Z,Y,ne,Oe){const w=U(B,Z);if(w)return w;const C=Z===ln,x=Io?history.state:{};Y&&(ne||C?o.replace(B.fullPath,Ne({scroll:C&&x&&x.scroll},Oe)):o.push(B.fullPath,Oe)),l.value=B,Ae(B,Z,Y,C),Xe()}let T;function Ee(){T||(T=o.listen((B,Z,Y)=>{if(!Ut.listening)return;const ne=V(B),Oe=ee(ne);if(Oe){v(Ne(Oe,{replace:!0,force:!0}),ne).catch(Ys);return}u=ne;const w=l.value;Io&&YE(xf(w.fullPath,Y.delta),Rc()),R(ne,w).catch(C=>Vr(C,12)?C:Vr(C,2)?(v(Ne($(C.to),{force:!0}),ne).then(x=>{Vr(x,20)&&!Y.delta&&Y.type===hi.pop&&o.go(-1,!1)}).catch(Ys),Promise.reject()):(Y.delta&&o.go(-Y.delta,!1),ae(C,ne,w))).then(C=>{C=C||A(ne,w,!1),C&&(Y.delta&&!Vr(C,8)?o.go(-Y.delta,!1):Y.type===hi.pop&&Vr(C,20)&&o.go(-1,!1)),I(ne,w,C)}).catch(Ys)}))}let qe=Ns(),_e=Ns(),be;function ae(B,Z,Y){Xe(B);const ne=_e.list();return ne.length?ne.forEach(Oe=>Oe(B,Z,Y)):console.error(B),Promise.reject(B)}function Ke(){return be&&l.value!==ln?Promise.resolve():new Promise((B,Z)=>{qe.add([B,Z])})}function Xe(B){return be||(be=!B,Ee(),qe.list().forEach(([Z,Y])=>B?Y(B):Z()),qe.reset()),B}function Ae(B,Z,Y,ne){const{scrollBehavior:Oe}=t;if(!Io||!Oe)return Promise.resolve();const w=!Y&&JE(xf(B.fullPath,0))||(ne||!Y)&&history.state&&history.state.scroll||null;return wc().then(()=>Oe(B,Z,w)).then(C=>C&&QE(C)).catch(C=>ae(C,B,Z))}const xe=B=>o.go(B);let ht;const Qe=new Set,Ut={currentRoute:l,listening:!0,addRoute:m,removeRoute:_,clearRoutes:e.clearRoutes,hasRoute:k,getRoutes:S,resolve:V,options:t,push:W,replace:re,go:xe,back:()=>xe(-1),forward:()=>xe(1),beforeEach:s.add,beforeResolve:i.add,afterEach:c.add,onError:_e.add,isReady:Ke,install(B){const Z=this;B.component("RouterLink",wT),B.component("RouterView",kT),B.config.globalProperties.$router=Z,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>eo(l)}),Io&&!ht&&l.value===ln&&(ht=!0,W(o.location).catch(Oe=>{}));const Y={};for(const Oe in ln)Object.defineProperty(Y,Oe,{get:()=>l.value[Oe],enumerable:!0});B.provide(Sc,Z),B.provide(ld,Tm(Y)),B.provide(cu,l);const ne=B.unmount;Qe.add(B),B.unmount=function(){Qe.delete(B),Qe.size<1&&(u=ln,T&&T(),T=null,l.value=ln,ht=!1,be=!1),ne()}}};function ct(B){return B.reduce((Z,Y)=>Z.then(()=>E(Y)),Promise.resolve())}return Ut}function RT(t,e){const r=[],n=[],o=[],s=Math.max(e.matched.length,t.matched.length);for(let i=0;i<s;i++){const c=e.matched[i];c&&(t.matched.find(u=>Ko(u,c))?n.push(c):r.push(c));const l=t.matched[i];l&&(e.matched.find(u=>Ko(u,l))||o.push(l))}return[r,n,o]}function Ac(){return dr(Sc)}function v0(t){return dr(ld)}const _0="admin",ST="Password123!",Di=we(JSON.parse(localStorage.getItem("auth")||"false"));qt(()=>Di.value?{username:_0}:null);function AT(t,e){const r=t===_0&&e===ST;return Di.value=r,localStorage.setItem("auth",JSON.stringify(r)),r}function PT(){Di.value=!1,localStorage.setItem("auth","false")}const xT={class:"d-flex justify-content-center"},OT={class:"nav nav-pills align-items-center"},NT={class:"nav-item"},DT={class:"nav-item"},VT={class:"nav-item"},$T={class:"nav-item"},LT={class:"nav-item"},BT={class:"nave-item"},MT={class:"nave-item"},FT={class:"nav-item"},UT={key:0,class:"nav-item ms-3"},jT={key:1,class:"nav-item ms-3"},zT={__name:"BHeader",setup(t){const e=Ac();function r(){PT(),e.push("/login")}return(n,o)=>{const s=io("router-link");return fe(),me("header",xT,[P("ul",OT,[P("li",NT,[Re(s,{to:"/",class:"nav-link","active-class":"active","aria-current":"page"},{default:Mt(()=>o[0]||(o[0]=[et(" Home ",-1)])),_:1,__:[0]})]),P("li",DT,[Re(s,{to:"/AddBook",class:"nav-link","active-class":"active"},{default:Mt(()=>o[1]||(o[1]=[et(" Manage Book ",-1)])),_:1,__:[1]})]),P("li",VT,[Re(s,{to:"/GetBookCount",class:"nav-link","active-class":"active"},{default:Mt(()=>o[2]||(o[2]=[et(" Get Book Count ",-1)])),_:1,__:[2]})]),P("li",$T,[Re(s,{to:"/CountBookAPI",class:"nav-link","active-class":"active"},{default:Mt(()=>o[3]||(o[3]=[et(" Count Book API ",-1)])),_:1,__:[3]})]),P("li",LT,[Re(s,{to:"/WeatherCheck",class:"nav-link","active-class":"active"},{default:Mt(()=>o[4]||(o[4]=[et(" Get Weather ",-1)])),_:1,__:[4]})]),P("li",BT,[Re(s,{to:"/Firelogin",class:"nav-link","active-class":"active"},{default:Mt(()=>o[5]||(o[5]=[et("Firebase Login",-1)])),_:1,__:[5]})]),P("li",MT,[Re(s,{to:"/FireRegister",class:"nav-link","active-class":"active"},{default:Mt(()=>o[6]||(o[6]=[et("Firebase Register",-1)])),_:1,__:[6]})]),P("li",FT,[Re(s,{to:"/about",class:"nav-link","active-class":"active"},{default:Mt(()=>o[7]||(o[7]=[et(" About ",-1)])),_:1,__:[7]})]),eo(Di)?(fe(),me("li",jT,[P("button",{class:"btn btn-outline-secondary btn-sm",onClick:r},"Logout")])):(fe(),me("li",UT,[Re(s,{to:"/login",class:"btn btn-outline-primary btn-sm"},{default:Mt(()=>o[8]||(o[8]=[et("Login",-1)])),_:1,__:[8]})]))])])}}},qT={class:"app-shell"},HT={key:0},WT={class:"container py-3"},KT={class:"container py-4"},GT={__name:"App",setup(t){const e=v0(),r=qt(()=>e.name!=="CountBookAPI");return(n,o)=>{const s=io("router-view");return fe(),me("div",qT,[r.value?(fe(),me("header",HT,[P("div",WT,[Re(zT)])])):vt("",!0),P("main",KT,[Re(s)])])}}},$n=(t,e)=>{const r=t.__vccOpts||t;for(const[n,o]of e)r[n]=o;return r},QT={class:"row"},YT={class:"col-md-8 offset-md-2"},JT={class:"row mb-3"},XT={class:"col-md-6 col-sm-6"},ZT={key:0,class:"text-danger"},eC={class:"col-md-6 col-sm-6"},tC={key:0,class:"invalid-feedback"},rC={class:"row mb-3"},nC={class:"col-md-6 col-sm-6"},oC={key:0,class:"text-danger"},sC={class:"col-md-6 col-sm-6"},iC={key:0,class:"text-danger"},aC={class:"row mb-3"},cC={class:"col-md-6 col-sm-6"},lC={class:"form-check"},uC={class:"mb-3"},dC={key:0,class:"invalid-feedback"},hC={key:1,class:"text-success d-block mt-1"},fC={class:"mb-3"},Wf=10,pC={__name:"HomeView",setup(t){const e={username:"",password:"",confirmPassword:"",isAustralian:!1,reason:"",gender:"",suburb:"Clayton"},r=we({...e}),n=we([]),o=we({username:"",password:"",confirmPassword:"",gender:"",reason:""}),s=g=>{r.value.username.length<3?g&&(o.value.username="Name must be at least 3 characters"):o.value.username=""},i=g=>{const m=r.value.password,_=8,S=/[A-Z]/.test(m),k=/[a-z]/.test(m),V=/\d/.test(m),$=/[!@#$%^&*(),.?":{}|<>]/.test(m);m.length<_?g&&(o.value.password=`Password must be at least ${_} characters long.`):S?k?V?$?o.value.password="":g&&(o.value.password="Password must contain at least one special character."):g&&(o.value.password="Password must contain at least one number."):g&&(o.value.password="Password must contain at least one lowercase letter."):g&&(o.value.password="Password must contain at least one uppercase letter.")},c=g=>{r.value.password!==r.value.confirmPassword?o.value.confirmPassword="Passwords do not match.":o.value.confirmPassword=""},l=qt(()=>{const g=r.value.reason||"";return/\bfriend\b/i.test(g)}),u=()=>(s(!0),i(!0),c(),o.value.gender=r.value.gender?"":"Please select your gender.",o.value.reason=r.value.reason&&r.value.reason.trim().length>=Wf?"":`Reason must be at least ${Wf} characters.`,!o.value.username&&!o.value.password&&!o.value.confirmPassword&&!o.value.gender&&!o.value.reason),d=()=>{u()&&n.value.push({...r.value})},f=()=>{Object.assign(r.value,e),o.value.username="",o.value.password="",o.value.confirmPassword="",o.value.gender="",o.value.reason=""};return(g,m)=>{const _=io("Column"),S=io("DataTable");return fe(),me("div",QT,[P("div",YT,[m[21]||(m[21]=Lw('<header class="page-header mb-4 text-center" data-v-83e656f8><div class="d-inline-flex align-items-center" data-v-83e656f8><span class="me-2" style="font-size:1.6rem;" data-v-83e656f8></span><h1 class="h2 mb-0" data-v-83e656f8>W5. Library Registration Form</h1></div><p class="text-muted subtitle mb-0" data-v-83e656f8> Let&#39;s build some more advanced features into our form. </p></header>',1)),P("form",{onSubmit:ad(d,["prevent"])},[P("div",JT,[P("div",XT,[m[12]||(m[12]=P("label",{for:"username",class:"form-label"},"Username",-1)),Ge(P("input",{type:"text",class:Ur(["form-control",{"is-invalid":!r.value.username||!!o.value.username}]),id:"username","onUpdate:modelValue":m[0]||(m[0]=k=>r.value.username=k),onBlur:m[1]||(m[1]=()=>s(!0)),onInput:m[2]||(m[2]=()=>s(!1))},null,34),[[ut,r.value.username]]),o.value.username?(fe(),me("div",ZT,je(o.value.username),1)):vt("",!0)]),P("div",eC,[m[14]||(m[14]=P("label",{for:"gender",class:"form-label"},"Gender",-1)),Ge(P("select",{class:Ur(["form-select",{"is-invalid":o.value.gender}]),id:"gender","onUpdate:modelValue":m[3]||(m[3]=k=>r.value.gender=k)},m[13]||(m[13]=[P("option",{value:""},"-- Select --",-1),P("option",{value:"male"},"Male",-1),P("option",{value:"female"},"Female",-1),P("option",{value:"other"},"Other",-1)]),2),[[Ka,r.value.gender]]),o.value.gender?(fe(),me("div",tC,je(o.value.gender),1)):vt("",!0)])]),P("div",rC,[P("div",nC,[m[15]||(m[15]=P("label",{for:"password",class:"form-label"},"Password",-1)),Ge(P("input",{type:"password",class:Ur(["form-control",{"is-invalid":!r.value.password||!!o.value.password}]),id:"password","onUpdate:modelValue":m[4]||(m[4]=k=>r.value.password=k),onBlur:m[5]||(m[5]=()=>i(!0)),onInput:m[6]||(m[6]=()=>i(!1))},null,34),[[ut,r.value.password]]),o.value.password?(fe(),me("div",oC,je(o.value.password),1)):vt("",!0)]),P("div",sC,[m[16]||(m[16]=P("label",{for:"confirm-password",class:"form-label"},"Confirm password",-1)),Ge(P("input",{type:"password",class:"form-control",id:"confirm-password","onUpdate:modelValue":m[7]||(m[7]=k=>r.value.confirmPassword=k),onBlur:m[8]||(m[8]=()=>c())},null,544),[[ut,r.value.confirmPassword]]),o.value.confirmPassword?(fe(),me("div",iC,je(o.value.confirmPassword),1)):vt("",!0)])]),P("div",aC,[P("div",cC,[P("div",lC,[Ge(P("input",{type:"checkbox",class:"form-check-input",id:"isAustralian","onUpdate:modelValue":m[9]||(m[9]=k=>r.value.isAustralian=k)},null,512),[[gE,r.value.isAustralian]]),m[17]||(m[17]=P("label",{class:"form-check-label",for:"isAustralian"},"Australian Resident?",-1))])])]),P("div",uC,[m[18]||(m[18]=P("label",{for:"reason",class:"form-label"},"Reason for joining",-1)),Ge(P("textarea",{class:Ur(["form-control",{"is-invalid":o.value.reason}]),id:"reason",rows:"3","onUpdate:modelValue":m[10]||(m[10]=k=>r.value.reason=k)},null,2),[[ut,r.value.reason]]),o.value.reason?(fe(),me("div",dC,je(o.value.reason),1)):vt("",!0),l.value?(fe(),me("small",hC," Great to have a friend ")):vt("",!0)]),P("div",fC,[m[19]||(m[19]=P("label",{for:"suburb",class:"form-label"},"Suburb",-1)),Ge(P("input",{type:"text",class:"form-control",id:"suburb","onUpdate:modelValue":m[11]||(m[11]=k=>r.value.suburb=k)},null,512),[[ut,r.value.suburb]])]),P("div",{class:"text-center"},[m[20]||(m[20]=P("button",{type:"submit",class:"btn btn-primary me-2"},"Submit",-1)),P("button",{type:"button",class:"btn btn-secondary",onClick:f},"Clear")]),n.value.length?(fe(),e0(S,{key:0,value:n.value,class:"mt-5",tableStyle:"min-width: 50rem"},{default:Mt(()=>[Re(_,{field:"username",header:"Username"}),Re(_,{field:"password",header:"Password"}),Re(_,{field:"isAustralian",header:"Australian Resident"}),Re(_,{field:"gender",header:"Gender"}),Re(_,{field:"reason",header:"Reason"}),Re(_,{field:"suburb",header:"Suburb"})]),_:1},8,["value"])):vt("",!0)],32)])])}}},gC=$n(pC,[["__scopeId","data-v-83e656f8"]]),mC={class:"about"},yC={__name:"AboutView",setup(t){return(e,r)=>(fe(),me("div",mC,r[0]||(r[0]=[P("h1",null,"About Our Library",-1),P("p",null," Welcome to our digital library! We're dedicated to providing a vast collection of books and resources to our community. ",-1)])))}},bC={class:"row justify-content-center"},vC={class:"col-md-6 col-lg-5"},_C={class:"card p-4"},wC={class:"mb-3"},EC={key:0,class:"invalid-feedback"},TC={class:"mb-3"},CC={key:0,class:"invalid-feedback"},kC={key:0,class:"alert alert-danger py-2"},IC={__name:"LoginView",setup(t){const e=v0(),r=Ac(),n=we(""),o=we(""),s=we(""),i=we(!1);async function c(){if(i.value=!0,s.value="",!n.value||!o.value)return;if(!AT(n.value,o.value)){s.value="Invalid credentials.";return}const u=e.query.redirect||"/about";r.push(u)}return(l,u)=>(fe(),me("section",null,[u[5]||(u[5]=P("h1",{class:"page-title"},"Login",-1)),u[6]||(u[6]=P("p",{class:"page-subtitle"},"Use demo credentials to access member pages.",-1)),P("div",bC,[P("div",vC,[P("div",_C,[P("form",{onSubmit:ad(c,["prevent"])},[P("div",wC,[u[2]||(u[2]=P("label",{class:"form-label",for:"login-username"},"Username",-1)),Ge(P("input",{id:"login-username","onUpdate:modelValue":u[0]||(u[0]=d=>n.value=d),type:"text",class:Ur(["form-control",{"is-invalid":i.value&&!n.value}])},null,2),[[ut,n.value]]),i.value&&!n.value?(fe(),me("div",EC,"Username is required.")):vt("",!0)]),P("div",TC,[u[3]||(u[3]=P("label",{class:"form-label",for:"login-password"},"Password",-1)),Ge(P("input",{id:"login-password","onUpdate:modelValue":u[1]||(u[1]=d=>o.value=d),type:"password",class:Ur(["form-control",{"is-invalid":i.value&&!o.value}])},null,2),[[ut,o.value]]),i.value&&!o.value?(fe(),me("div",CC,"Password is required.")):vt("",!0)]),s.value?(fe(),me("div",kC,je(s.value),1)):vt("",!0),u[4]||(u[4]=P("div",{class:"d-flex gap-2"},[P("button",{type:"submit",class:"btn btn-primary"},"Login")],-1))],32)])])])]))}},RC={},SC={class:"text-center"};function AC(t,e){const r=io("router-link");return fe(),me("section",SC,[e[1]||(e[1]=P("h1",{class:"page-title"},"Access denied",-1)),e[2]||(e[2]=P("p",{class:"page-subtitle"},"You must be logged in to view this page.",-1)),Re(r,{to:{path:"/login",query:{redirect:t.$route.query.redirect||"/about"}},class:"btn btn-primary"},{default:Mt(()=>e[0]||(e[0]=[et(" Go to Login ",-1)])),_:1,__:[0]},8,["to"])])}const PC=$n(RC,[["render",AC]]),xC=()=>{};var Kf={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let o=t.charCodeAt(n);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},OC=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const o=t[r++];if(o<128)e[n++]=String.fromCharCode(o);else if(o>191&&o<224){const s=t[r++];e[n++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){const s=t[r++],i=t[r++],c=t[r++],l=((o&7)<<18|(s&63)<<12|(i&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],i=t[r++];e[n++]=String.fromCharCode((o&15)<<12|(s&63)<<6|i&63)}}return e.join("")},E0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let o=0;o<t.length;o+=3){const s=t[o],i=o+1<t.length,c=i?t[o+1]:0,l=o+2<t.length,u=l?t[o+2]:0,d=s>>2,f=(s&3)<<4|c>>4;let g=(c&15)<<2|u>>6,m=u&63;l||(m=64,i||(g=64)),n.push(r[d],r[f],r[g],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(w0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let o=0;o<t.length;){const s=r[t.charAt(o++)],c=o<t.length?r[t.charAt(o)]:0;++o;const u=o<t.length?r[t.charAt(o)]:64;++o;const f=o<t.length?r[t.charAt(o)]:64;if(++o,s==null||c==null||u==null||f==null)throw new NC;const g=s<<2|c>>4;if(n.push(g),u!==64){const m=c<<4&240|u>>2;if(n.push(m),f!==64){const _=u<<6&192|f;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DC=function(t){const e=w0(t);return E0.encodeByteArray(e,!0)},Ga=function(t){return DC(t).replace(/\./g,"")},T0=function(t){try{return E0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=()=>VC().__FIREBASE_DEFAULTS__,LC=()=>{if(typeof process>"u"||typeof Kf>"u")return;const t=Kf.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&T0(t[1]);return e&&JSON.parse(e)},Pc=()=>{try{return xC()||$C()||LC()||BC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},C0=t=>Pc()?.emulatorHosts?.[t],MC=t=>{const e=C0(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},k0=()=>Pc()?.config,I0=t=>Pc()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function R0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${n}`,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ga(JSON.stringify(r)),Ga(JSON.stringify(i)),""].join(".")}const Xs={};function jC(){const t={prod:[],emulator:[]};for(const e of Object.keys(Xs))Xs[e]?t.emulator.push(e):t.prod.push(e);return t}function zC(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let Gf=!1;function S0(t,e){if(typeof window>"u"||typeof document>"u"||!is(window.location.host)||Xs[t]===e||Xs[t]||Gf)return;Xs[t]=e;function r(g){return`__firebase__banner__${g}`}const n="__firebase__banner",s=jC().prod.length>0;function i(){const g=document.getElementById(n);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Gf=!0,i()},g}function d(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){const g=zC(n),m=r("text"),_=document.getElementById(m)||document.createElement("span"),S=r("learnmore"),k=document.getElementById(S)||document.createElement("a"),V=r("preprendIcon"),$=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const U=g.element;c(U),d(k,S);const W=u();l($,V),U.append($,_,k,W),document.body.appendChild(U)}s?(_.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function HC(){const t=Pc()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QC(){const t=$t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function YC(){return!HC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JC(){try{return typeof indexedDB=="object"}catch{return!1}}function XC(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="FirebaseError";class tn extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=ZC,Object.setPrototypeOf(this,tn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vi.prototype.create)}}class Vi{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},o=`${this.service}/${e}`,s=this.errors[e],i=s?ek(s,n):"Error",c=`${this.serviceName}: ${i} (${o}).`;return new tn(o,c,n)}}function ek(t,e){return t.replace(tk,(r,n)=>{const o=e[n];return o!=null?String(o):`<${n}?>`})}const tk=/\{\$([^}]+)}/g;function rk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ao(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const o of r){if(!n.includes(o))return!1;const s=t[o],i=e[o];if(Qf(s)&&Qf(i)){if(!ao(s,i))return!1}else if(s!==i)return!1}for(const o of n)if(!r.includes(o))return!1;return!0}function Qf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(o=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function $s(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[o,s]=n.split("=");e[decodeURIComponent(o)]=decodeURIComponent(s)}}),e}function Ls(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function nk(t,e){const r=new ok(t,e);return r.subscribe.bind(r)}class ok{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let o;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");sk(e,["next","error","complete"])?o=e:o={next:e,error:r,complete:n},o.next===void 0&&(o.next=xl),o.error===void 0&&(o.error=xl),o.complete===void 0&&(o.complete=xl);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sk(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function xl(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class co{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new FC;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&n.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(n)return null;throw o}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ck(e))try{this.getOrInitializeService({instanceIdentifier:Yn})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:o});n.resolve(s)}catch{}}}}clearInstance(e=Yn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yn){return this.instances.has(e)}getOptions(e=Yn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,i]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);n===c&&i.resolve(o)}return o}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),o=this.onInitCallbacks.get(n)??new Set;o.add(e),this.onInitCallbacks.set(n,o);const s=this.instances.get(n);return s&&e(s,n),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const o of n)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:ak(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Yn){return this.component?this.component.multipleInstances?e:Yn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ak(t){return t===Yn?void 0:t}function ck(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new ik(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const uk={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},dk=Ce.INFO,hk={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},fk=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),o=hk[e];if(o)console[o](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ud{constructor(e){this.name=e,this._logLevel=dk,this._logHandler=fk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const pk=(t,e)=>e.some(r=>t instanceof r);let Yf,Jf;function gk(){return Yf||(Yf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mk(){return Jf||(Jf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A0=new WeakMap,lu=new WeakMap,P0=new WeakMap,Ol=new WeakMap,dd=new WeakMap;function yk(t){const e=new Promise((r,n)=>{const o=()=>{t.removeEventListener("success",s),t.removeEventListener("error",i)},s=()=>{r(En(t.result)),o()},i=()=>{n(t.error),o()};t.addEventListener("success",s),t.addEventListener("error",i)});return e.then(r=>{r instanceof IDBCursor&&A0.set(r,t)}).catch(()=>{}),dd.set(e,t),e}function bk(t){if(lu.has(t))return;const e=new Promise((r,n)=>{const o=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",i),t.removeEventListener("abort",i)},s=()=>{r(),o()},i=()=>{n(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",s),t.addEventListener("error",i),t.addEventListener("abort",i)});lu.set(t,e)}let uu={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return lu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||P0.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return En(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vk(t){uu=t(uu)}function _k(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Nl(this),e,...r);return P0.set(n,e.sort?e.sort():[e]),En(n)}:mk().includes(t)?function(...e){return t.apply(Nl(this),e),En(A0.get(this))}:function(...e){return En(t.apply(Nl(this),e))}}function wk(t){return typeof t=="function"?_k(t):(t instanceof IDBTransaction&&bk(t),pk(t,gk())?new Proxy(t,uu):t)}function En(t){if(t instanceof IDBRequest)return yk(t);if(Ol.has(t))return Ol.get(t);const e=wk(t);return e!==t&&(Ol.set(t,e),dd.set(e,t)),e}const Nl=t=>dd.get(t);function Ek(t,e,{blocked:r,upgrade:n,blocking:o,terminated:s}={}){const i=indexedDB.open(t,e),c=En(i);return n&&i.addEventListener("upgradeneeded",l=>{n(En(i.result),l.oldVersion,l.newVersion,En(i.transaction),l)}),r&&i.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),c.then(l=>{s&&l.addEventListener("close",()=>s()),o&&l.addEventListener("versionchange",u=>o(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const Tk=["get","getKey","getAll","getAllKeys","count"],Ck=["put","add","delete","clear"],Dl=new Map;function Xf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dl.get(e))return Dl.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,o=Ck.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(o||Tk.includes(r)))return;const s=async function(i,...c){const l=this.transaction(i,o?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(c.shift())),(await Promise.all([u[r](...c),o&&l.done]))[0]};return Dl.set(e,s),s}vk(t=>({...t,get:(e,r,n)=>Xf(e,r)||t.get(e,r,n),has:(e,r)=>!!Xf(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Ik(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Ik(t){return t.getComponent()?.type==="VERSION"}const du="@firebase/app",Zf="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new ud("@firebase/app"),Rk="@firebase/app-compat",Sk="@firebase/analytics-compat",Ak="@firebase/analytics",Pk="@firebase/app-check-compat",xk="@firebase/app-check",Ok="@firebase/auth",Nk="@firebase/auth-compat",Dk="@firebase/database",Vk="@firebase/data-connect",$k="@firebase/database-compat",Lk="@firebase/functions",Bk="@firebase/functions-compat",Mk="@firebase/installations",Fk="@firebase/installations-compat",Uk="@firebase/messaging",jk="@firebase/messaging-compat",zk="@firebase/performance",qk="@firebase/performance-compat",Hk="@firebase/remote-config",Wk="@firebase/remote-config-compat",Kk="@firebase/storage",Gk="@firebase/storage-compat",Qk="@firebase/firestore",Yk="@firebase/ai",Jk="@firebase/firestore-compat",Xk="firebase",Zk="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu="[DEFAULT]",eI={[du]:"fire-core",[Rk]:"fire-core-compat",[Ak]:"fire-analytics",[Sk]:"fire-analytics-compat",[xk]:"fire-app-check",[Pk]:"fire-app-check-compat",[Ok]:"fire-auth",[Nk]:"fire-auth-compat",[Dk]:"fire-rtdb",[Vk]:"fire-data-connect",[$k]:"fire-rtdb-compat",[Lk]:"fire-fn",[Bk]:"fire-fn-compat",[Mk]:"fire-iid",[Fk]:"fire-iid-compat",[Uk]:"fire-fcm",[jk]:"fire-fcm-compat",[zk]:"fire-perf",[qk]:"fire-perf-compat",[Hk]:"fire-rc",[Wk]:"fire-rc-compat",[Kk]:"fire-gcs",[Gk]:"fire-gcs-compat",[Qk]:"fire-fst",[Jk]:"fire-fst-compat",[Yk]:"fire-vertex","fire-js":"fire-js",[Xk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new Map,tI=new Map,fu=new Map;function ep(t,e){try{t.container.addComponent(e)}catch(r){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Qo(t){const e=t.name;if(fu.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;fu.set(e,t);for(const r of Qa.values())ep(r,t);for(const r of tI.values())ep(r,t);return!0}function hd(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function tr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tn=new Vi("app","Firebase",rI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=Zk;function x0(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:hu,automaticDataCollectionEnabled:!0,...e},o=n.name;if(typeof o!="string"||!o)throw Tn.create("bad-app-name",{appName:String(o)});if(r||(r=k0()),!r)throw Tn.create("no-options");const s=Qa.get(o);if(s){if(ao(r,s.options)&&ao(n,s.config))return s;throw Tn.create("duplicate-app",{appName:o})}const i=new lk(o);for(const l of fu.values())i.addComponent(l);const c=new nI(r,n,i);return Qa.set(o,c),c}function O0(t=hu){const e=Qa.get(t);if(!e&&t===hu&&k0())return x0();if(!e)throw Tn.create("no-app",{appName:t});return e}function Cn(t,e,r){let n=eI[t]??t;r&&(n+=`-${r}`);const o=n.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const i=[`Unable to register library "${n}" with version "${e}":`];o&&i.push(`library name "${n}" contains illegal characters (whitespace or "/")`),o&&s&&i.push("and"),s&&i.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(i.join(" "));return}Qo(new co(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="firebase-heartbeat-database",sI=1,fi="firebase-heartbeat-store";let Vl=null;function N0(){return Vl||(Vl=Ek(oI,sI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fi)}catch(r){console.warn(r)}}}}).catch(t=>{throw Tn.create("idb-open",{originalErrorMessage:t.message})})),Vl}async function iI(t){try{const r=(await N0()).transaction(fi),n=await r.objectStore(fi).get(D0(t));return await r.done,n}catch(e){if(e instanceof tn)Yr.warn(e.message);else{const r=Tn.create("idb-get",{originalErrorMessage:e?.message});Yr.warn(r.message)}}}async function tp(t,e){try{const n=(await N0()).transaction(fi,"readwrite");await n.objectStore(fi).put(e,D0(t)),await n.done}catch(r){if(r instanceof tn)Yr.warn(r.message);else{const n=Tn.create("idb-set",{originalErrorMessage:r?.message});Yr.warn(n.message)}}}function D0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=1024,cI=30;class lI{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new dI(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=rp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(o=>o.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>cI){const o=hI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Yr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rp(),{heartbeatsToSend:r,unsentEntries:n}=uI(this._heartbeatsCache.heartbeats),o=Ga(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Yr.warn(e),""}}}function rp(){return new Date().toISOString().substring(0,10)}function uI(t,e=aI){const r=[];let n=t.slice();for(const o of t){const s=r.find(i=>i.agent===o.agent);if(s){if(s.dates.push(o.date),np(r)>e){s.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),np(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class dI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JC()?XC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await iI(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return tp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return tp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function np(t){return Ga(JSON.stringify({version:2,heartbeats:t})).length}function hI(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t){Qo(new co("platform-logger",e=>new kk(e),"PRIVATE")),Qo(new co("heartbeat",e=>new lI(e),"PRIVATE")),Cn(du,Zf,t),Cn(du,Zf,"esm2020"),Cn("fire-js","")}fI("");var pI="firebase",gI="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn(pI,gI,"app");var op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kn,V0;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(v,b){function E(){}E.prototype=b.prototype,v.F=b.prototype,v.prototype=new E,v.prototype.constructor=v,v.D=function(R,I,A){for(var T=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)T[Ee-2]=arguments[Ee];return b.prototype[I].apply(R,T)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(v,b,E){E||(E=0);const R=Array(16);if(typeof b=="string")for(var I=0;I<16;++I)R[I]=b.charCodeAt(E++)|b.charCodeAt(E++)<<8|b.charCodeAt(E++)<<16|b.charCodeAt(E++)<<24;else for(I=0;I<16;++I)R[I]=b[E++]|b[E++]<<8|b[E++]<<16|b[E++]<<24;b=v.g[0],E=v.g[1],I=v.g[2];let A=v.g[3],T;T=b+(A^E&(I^A))+R[0]+3614090360&4294967295,b=E+(T<<7&4294967295|T>>>25),T=A+(I^b&(E^I))+R[1]+3905402710&4294967295,A=b+(T<<12&4294967295|T>>>20),T=I+(E^A&(b^E))+R[2]+606105819&4294967295,I=A+(T<<17&4294967295|T>>>15),T=E+(b^I&(A^b))+R[3]+3250441966&4294967295,E=I+(T<<22&4294967295|T>>>10),T=b+(A^E&(I^A))+R[4]+4118548399&4294967295,b=E+(T<<7&4294967295|T>>>25),T=A+(I^b&(E^I))+R[5]+1200080426&4294967295,A=b+(T<<12&4294967295|T>>>20),T=I+(E^A&(b^E))+R[6]+2821735955&4294967295,I=A+(T<<17&4294967295|T>>>15),T=E+(b^I&(A^b))+R[7]+4249261313&4294967295,E=I+(T<<22&4294967295|T>>>10),T=b+(A^E&(I^A))+R[8]+1770035416&4294967295,b=E+(T<<7&4294967295|T>>>25),T=A+(I^b&(E^I))+R[9]+2336552879&4294967295,A=b+(T<<12&4294967295|T>>>20),T=I+(E^A&(b^E))+R[10]+4294925233&4294967295,I=A+(T<<17&4294967295|T>>>15),T=E+(b^I&(A^b))+R[11]+2304563134&4294967295,E=I+(T<<22&4294967295|T>>>10),T=b+(A^E&(I^A))+R[12]+1804603682&4294967295,b=E+(T<<7&4294967295|T>>>25),T=A+(I^b&(E^I))+R[13]+4254626195&4294967295,A=b+(T<<12&4294967295|T>>>20),T=I+(E^A&(b^E))+R[14]+2792965006&4294967295,I=A+(T<<17&4294967295|T>>>15),T=E+(b^I&(A^b))+R[15]+1236535329&4294967295,E=I+(T<<22&4294967295|T>>>10),T=b+(I^A&(E^I))+R[1]+4129170786&4294967295,b=E+(T<<5&4294967295|T>>>27),T=A+(E^I&(b^E))+R[6]+3225465664&4294967295,A=b+(T<<9&4294967295|T>>>23),T=I+(b^E&(A^b))+R[11]+643717713&4294967295,I=A+(T<<14&4294967295|T>>>18),T=E+(A^b&(I^A))+R[0]+3921069994&4294967295,E=I+(T<<20&4294967295|T>>>12),T=b+(I^A&(E^I))+R[5]+3593408605&4294967295,b=E+(T<<5&4294967295|T>>>27),T=A+(E^I&(b^E))+R[10]+38016083&4294967295,A=b+(T<<9&4294967295|T>>>23),T=I+(b^E&(A^b))+R[15]+3634488961&4294967295,I=A+(T<<14&4294967295|T>>>18),T=E+(A^b&(I^A))+R[4]+3889429448&4294967295,E=I+(T<<20&4294967295|T>>>12),T=b+(I^A&(E^I))+R[9]+568446438&4294967295,b=E+(T<<5&4294967295|T>>>27),T=A+(E^I&(b^E))+R[14]+3275163606&4294967295,A=b+(T<<9&4294967295|T>>>23),T=I+(b^E&(A^b))+R[3]+4107603335&4294967295,I=A+(T<<14&4294967295|T>>>18),T=E+(A^b&(I^A))+R[8]+1163531501&4294967295,E=I+(T<<20&4294967295|T>>>12),T=b+(I^A&(E^I))+R[13]+2850285829&4294967295,b=E+(T<<5&4294967295|T>>>27),T=A+(E^I&(b^E))+R[2]+4243563512&4294967295,A=b+(T<<9&4294967295|T>>>23),T=I+(b^E&(A^b))+R[7]+1735328473&4294967295,I=A+(T<<14&4294967295|T>>>18),T=E+(A^b&(I^A))+R[12]+2368359562&4294967295,E=I+(T<<20&4294967295|T>>>12),T=b+(E^I^A)+R[5]+4294588738&4294967295,b=E+(T<<4&4294967295|T>>>28),T=A+(b^E^I)+R[8]+2272392833&4294967295,A=b+(T<<11&4294967295|T>>>21),T=I+(A^b^E)+R[11]+1839030562&4294967295,I=A+(T<<16&4294967295|T>>>16),T=E+(I^A^b)+R[14]+4259657740&4294967295,E=I+(T<<23&4294967295|T>>>9),T=b+(E^I^A)+R[1]+2763975236&4294967295,b=E+(T<<4&4294967295|T>>>28),T=A+(b^E^I)+R[4]+1272893353&4294967295,A=b+(T<<11&4294967295|T>>>21),T=I+(A^b^E)+R[7]+4139469664&4294967295,I=A+(T<<16&4294967295|T>>>16),T=E+(I^A^b)+R[10]+3200236656&4294967295,E=I+(T<<23&4294967295|T>>>9),T=b+(E^I^A)+R[13]+681279174&4294967295,b=E+(T<<4&4294967295|T>>>28),T=A+(b^E^I)+R[0]+3936430074&4294967295,A=b+(T<<11&4294967295|T>>>21),T=I+(A^b^E)+R[3]+3572445317&4294967295,I=A+(T<<16&4294967295|T>>>16),T=E+(I^A^b)+R[6]+76029189&4294967295,E=I+(T<<23&4294967295|T>>>9),T=b+(E^I^A)+R[9]+3654602809&4294967295,b=E+(T<<4&4294967295|T>>>28),T=A+(b^E^I)+R[12]+3873151461&4294967295,A=b+(T<<11&4294967295|T>>>21),T=I+(A^b^E)+R[15]+530742520&4294967295,I=A+(T<<16&4294967295|T>>>16),T=E+(I^A^b)+R[2]+3299628645&4294967295,E=I+(T<<23&4294967295|T>>>9),T=b+(I^(E|~A))+R[0]+4096336452&4294967295,b=E+(T<<6&4294967295|T>>>26),T=A+(E^(b|~I))+R[7]+1126891415&4294967295,A=b+(T<<10&4294967295|T>>>22),T=I+(b^(A|~E))+R[14]+2878612391&4294967295,I=A+(T<<15&4294967295|T>>>17),T=E+(A^(I|~b))+R[5]+4237533241&4294967295,E=I+(T<<21&4294967295|T>>>11),T=b+(I^(E|~A))+R[12]+1700485571&4294967295,b=E+(T<<6&4294967295|T>>>26),T=A+(E^(b|~I))+R[3]+2399980690&4294967295,A=b+(T<<10&4294967295|T>>>22),T=I+(b^(A|~E))+R[10]+4293915773&4294967295,I=A+(T<<15&4294967295|T>>>17),T=E+(A^(I|~b))+R[1]+2240044497&4294967295,E=I+(T<<21&4294967295|T>>>11),T=b+(I^(E|~A))+R[8]+1873313359&4294967295,b=E+(T<<6&4294967295|T>>>26),T=A+(E^(b|~I))+R[15]+4264355552&4294967295,A=b+(T<<10&4294967295|T>>>22),T=I+(b^(A|~E))+R[6]+2734768916&4294967295,I=A+(T<<15&4294967295|T>>>17),T=E+(A^(I|~b))+R[13]+1309151649&4294967295,E=I+(T<<21&4294967295|T>>>11),T=b+(I^(E|~A))+R[4]+4149444226&4294967295,b=E+(T<<6&4294967295|T>>>26),T=A+(E^(b|~I))+R[11]+3174756917&4294967295,A=b+(T<<10&4294967295|T>>>22),T=I+(b^(A|~E))+R[2]+718787259&4294967295,I=A+(T<<15&4294967295|T>>>17),T=E+(A^(I|~b))+R[9]+3951481745&4294967295,v.g[0]=v.g[0]+b&4294967295,v.g[1]=v.g[1]+(I+(T<<21&4294967295|T>>>11))&4294967295,v.g[2]=v.g[2]+I&4294967295,v.g[3]=v.g[3]+A&4294967295}n.prototype.v=function(v,b){b===void 0&&(b=v.length);const E=b-this.blockSize,R=this.C;let I=this.h,A=0;for(;A<b;){if(I==0)for(;A<=E;)o(this,v,A),A+=this.blockSize;if(typeof v=="string"){for(;A<b;)if(R[I++]=v.charCodeAt(A++),I==this.blockSize){o(this,R),I=0;break}}else for(;A<b;)if(R[I++]=v[A++],I==this.blockSize){o(this,R),I=0;break}}this.h=I,this.o+=b},n.prototype.A=function(){var v=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);v[0]=128;for(var b=1;b<v.length-8;++b)v[b]=0;b=this.o*8;for(var E=v.length-8;E<v.length;++E)v[E]=b&255,b/=256;for(this.v(v),v=Array(16),b=0,E=0;E<4;++E)for(let R=0;R<32;R+=8)v[b++]=this.g[E]>>>R&255;return v};function s(v,b){var E=c;return Object.prototype.hasOwnProperty.call(E,v)?E[v]:E[v]=b(v)}function i(v,b){this.h=b;const E=[];let R=!0;for(let I=v.length-1;I>=0;I--){const A=v[I]|0;R&&A==b||(E[I]=A,R=!1)}this.g=E}var c={};function l(v){return-128<=v&&v<128?s(v,function(b){return new i([b|0],b<0?-1:0)}):new i([v|0],v<0?-1:0)}function u(v){if(isNaN(v)||!isFinite(v))return f;if(v<0)return k(u(-v));const b=[];let E=1;for(let R=0;v>=E;R++)b[R]=v/E|0,E*=4294967296;return new i(b,0)}function d(v,b){if(v.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(v.charAt(0)=="-")return k(d(v.substring(1),b));if(v.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=u(Math.pow(b,8));let R=f;for(let A=0;A<v.length;A+=8){var I=Math.min(8,v.length-A);const T=parseInt(v.substring(A,A+I),b);I<8?(I=u(Math.pow(b,I)),R=R.j(I).add(u(T))):(R=R.j(E),R=R.add(u(T)))}return R}var f=l(0),g=l(1),m=l(16777216);t=i.prototype,t.m=function(){if(S(this))return-k(this).m();let v=0,b=1;for(let E=0;E<this.g.length;E++){const R=this.i(E);v+=(R>=0?R:4294967296+R)*b,b*=4294967296}return v},t.toString=function(v){if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(_(this))return"0";if(S(this))return"-"+k(this).toString(v);const b=u(Math.pow(v,6));var E=this;let R="";for(;;){const I=W(E,b).g;E=V(E,I.j(b));let A=((E.g.length>0?E.g[0]:E.h)>>>0).toString(v);if(E=I,_(E))return A+R;for(;A.length<6;)A="0"+A;R=A+R}},t.i=function(v){return v<0?0:v<this.g.length?this.g[v]:this.h};function _(v){if(v.h!=0)return!1;for(let b=0;b<v.g.length;b++)if(v.g[b]!=0)return!1;return!0}function S(v){return v.h==-1}t.l=function(v){return v=V(this,v),S(v)?-1:_(v)?0:1};function k(v){const b=v.g.length,E=[];for(let R=0;R<b;R++)E[R]=~v.g[R];return new i(E,~v.h).add(g)}t.abs=function(){return S(this)?k(this):this},t.add=function(v){const b=Math.max(this.g.length,v.g.length),E=[];let R=0;for(let I=0;I<=b;I++){let A=R+(this.i(I)&65535)+(v.i(I)&65535),T=(A>>>16)+(this.i(I)>>>16)+(v.i(I)>>>16);R=T>>>16,A&=65535,T&=65535,E[I]=T<<16|A}return new i(E,E[E.length-1]&-2147483648?-1:0)};function V(v,b){return v.add(k(b))}t.j=function(v){if(_(this)||_(v))return f;if(S(this))return S(v)?k(this).j(k(v)):k(k(this).j(v));if(S(v))return k(this.j(k(v)));if(this.l(m)<0&&v.l(m)<0)return u(this.m()*v.m());const b=this.g.length+v.g.length,E=[];for(var R=0;R<2*b;R++)E[R]=0;for(R=0;R<this.g.length;R++)for(let I=0;I<v.g.length;I++){const A=this.i(R)>>>16,T=this.i(R)&65535,Ee=v.i(I)>>>16,qe=v.i(I)&65535;E[2*R+2*I]+=T*qe,$(E,2*R+2*I),E[2*R+2*I+1]+=A*qe,$(E,2*R+2*I+1),E[2*R+2*I+1]+=T*Ee,$(E,2*R+2*I+1),E[2*R+2*I+2]+=A*Ee,$(E,2*R+2*I+2)}for(v=0;v<b;v++)E[v]=E[2*v+1]<<16|E[2*v];for(v=b;v<2*b;v++)E[v]=0;return new i(E,0)};function $(v,b){for(;(v[b]&65535)!=v[b];)v[b+1]+=v[b]>>>16,v[b]&=65535,b++}function U(v,b){this.g=v,this.h=b}function W(v,b){if(_(b))throw Error("division by zero");if(_(v))return new U(f,f);if(S(v))return b=W(k(v),b),new U(k(b.g),k(b.h));if(S(b))return b=W(v,k(b)),new U(k(b.g),b.h);if(v.g.length>30){if(S(v)||S(b))throw Error("slowDivide_ only works with positive integers.");for(var E=g,R=b;R.l(v)<=0;)E=re(E),R=re(R);var I=ee(E,1),A=ee(R,1);for(R=ee(R,2),E=ee(E,2);!_(R);){var T=A.add(R);T.l(v)<=0&&(I=I.add(E),A=T),R=ee(R,1),E=ee(E,1)}return b=V(v,I.j(b)),new U(I,b)}for(I=f;v.l(b)>=0;){for(E=Math.max(1,Math.floor(v.m()/b.m())),R=Math.ceil(Math.log(E)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),A=u(E),T=A.j(b);S(T)||T.l(v)>0;)E-=R,A=u(E),T=A.j(b);_(A)&&(A=g),I=I.add(A),v=V(v,T)}return new U(I,v)}t.B=function(v){return W(this,v).h},t.and=function(v){const b=Math.max(this.g.length,v.g.length),E=[];for(let R=0;R<b;R++)E[R]=this.i(R)&v.i(R);return new i(E,this.h&v.h)},t.or=function(v){const b=Math.max(this.g.length,v.g.length),E=[];for(let R=0;R<b;R++)E[R]=this.i(R)|v.i(R);return new i(E,this.h|v.h)},t.xor=function(v){const b=Math.max(this.g.length,v.g.length),E=[];for(let R=0;R<b;R++)E[R]=this.i(R)^v.i(R);return new i(E,this.h^v.h)};function re(v){const b=v.g.length+1,E=[];for(let R=0;R<b;R++)E[R]=v.i(R)<<1|v.i(R-1)>>>31;return new i(E,v.h)}function ee(v,b){const E=b>>5;b%=32;const R=v.g.length-E,I=[];for(let A=0;A<R;A++)I[A]=b>0?v.i(A+E)>>>b|v.i(A+E+1)<<32-b:v.i(A+E);return new i(I,v.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,V0=n,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.B,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=u,i.fromString=d,kn=i}).apply(typeof op<"u"?op:typeof self<"u"?self:typeof window<"u"?window:{});var ua=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $0,Bs,L0,Ia,pu,B0,M0,F0;(function(){var t,e=Object.defineProperty;function r(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof ua=="object"&&ua];for(var h=0;h<a.length;++h){var p=a[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var n=r(this);function o(a,h){if(h)e:{var p=n;a=a.split(".");for(var y=0;y<a.length-1;y++){var O=a[y];if(!(O in p))break e;p=p[O]}a=a[a.length-1],y=p[a],h=h(y),h!=y&&h!=null&&e(p,a,{configurable:!0,writable:!0,value:h})}}o("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(a){return a||function(h){var p=[],y;for(y in h)Object.prototype.hasOwnProperty.call(h,y)&&p.push([y,h[y]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},i=this||self;function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function l(a,h,p){return a.call.apply(a.bind,arguments)}function u(a,h,p){return u=l,u.apply(null,arguments)}function d(a,h){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),a.apply(this,y)}}function f(a,h){function p(){}p.prototype=h.prototype,a.Z=h.prototype,a.prototype=new p,a.prototype.constructor=a,a.Ob=function(y,O,D){for(var G=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)G[ve-2]=arguments[ve];return h.prototype[O].apply(y,G)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function m(a){const h=a.length;if(h>0){const p=Array(h);for(let y=0;y<h;y++)p[y]=a[y];return p}return[]}function _(a,h){for(let y=1;y<arguments.length;y++){const O=arguments[y];var p=typeof O;if(p=p!="object"?p:O?Array.isArray(O)?"array":p:"null",p=="array"||p=="object"&&typeof O.length=="number"){p=a.length||0;const D=O.length||0;a.length=p+D;for(let G=0;G<D;G++)a[p+G]=O[G]}else a.push(O)}}class S{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function k(a){i.setTimeout(()=>{throw a},0)}function V(){var a=v;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class ${constructor(){this.h=this.g=null}add(h,p){const y=U.get();y.set(h,p),this.h?this.h.next=y:this.g=y,this.h=y}}var U=new S(()=>new W,a=>a.reset());class W{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ee=!1,v=new $,b=()=>{const a=Promise.resolve(void 0);re=()=>{a.then(E)}};function E(){for(var a;a=V();){try{a.h.call(a.g)}catch(p){k(p)}var h=U;h.j(a),h.h<100&&(h.h++,a.next=h.g,h.g=a)}ee=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var A=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};i.addEventListener("test",p,h),i.removeEventListener("test",p,h)}catch{}return a}();function T(a){return/^[\s\xa0]*$/.test(a)}function Ee(a,h){I.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,h)}f(Ee,I),Ee.prototype.init=function(a,h){const p=this.type=a.type,y=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget,h||(p=="mouseover"?h=a.fromElement:p=="mouseout"&&(h=a.toElement)),this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&Ee.Z.h.call(this)},Ee.prototype.h=function(){Ee.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var qe="closure_listenable_"+(Math.random()*1e6|0),_e=0;function be(a,h,p,y,O){this.listener=a,this.proxy=null,this.src=h,this.type=p,this.capture=!!y,this.ha=O,this.key=++_e,this.da=this.fa=!1}function ae(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ke(a,h,p){for(const y in a)h.call(p,a[y],y,a)}function Xe(a,h){for(const p in a)h.call(void 0,a[p],p,a)}function Ae(a){const h={};for(const p in a)h[p]=a[p];return h}const xe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ht(a,h){let p,y;for(let O=1;O<arguments.length;O++){y=arguments[O];for(p in y)a[p]=y[p];for(let D=0;D<xe.length;D++)p=xe[D],Object.prototype.hasOwnProperty.call(y,p)&&(a[p]=y[p])}}function Qe(a){this.src=a,this.g={},this.h=0}Qe.prototype.add=function(a,h,p,y,O){const D=a.toString();a=this.g[D],a||(a=this.g[D]=[],this.h++);const G=ct(a,h,y,O);return G>-1?(h=a[G],p||(h.fa=!1)):(h=new be(h,this.src,D,!!y,O),h.fa=p,a.push(h)),h};function Ut(a,h){const p=h.type;if(p in a.g){var y=a.g[p],O=Array.prototype.indexOf.call(y,h,void 0),D;(D=O>=0)&&Array.prototype.splice.call(y,O,1),D&&(ae(h),a.g[p].length==0&&(delete a.g[p],a.h--))}}function ct(a,h,p,y){for(let O=0;O<a.length;++O){const D=a[O];if(!D.da&&D.listener==h&&D.capture==!!p&&D.ha==y)return O}return-1}var B="closure_lm_"+(Math.random()*1e6|0),Z={};function Y(a,h,p,y,O){if(Array.isArray(h)){for(let D=0;D<h.length;D++)Y(a,h[D],p,y,O);return null}return p=Q(p),a&&a[qe]?a.J(h,p,c(y)?!!y.capture:!1,O):ne(a,h,p,!1,y,O)}function ne(a,h,p,y,O,D){if(!h)throw Error("Invalid event type");const G=c(O)?!!O.capture:!!O;let ve=j(a);if(ve||(a[B]=ve=new Qe(a)),p=ve.add(h,p,y,G,D),p.proxy)return p;if(y=Oe(),p.proxy=y,y.src=a,y.listener=p,a.addEventListener)A||(O=G),O===void 0&&(O=!1),a.addEventListener(h.toString(),y,O);else if(a.attachEvent)a.attachEvent(x(h.toString()),y);else if(a.addListener&&a.removeListener)a.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Oe(){function a(p){return h.call(a.src,a.listener,p)}const h=F;return a}function w(a,h,p,y,O){if(Array.isArray(h))for(var D=0;D<h.length;D++)w(a,h[D],p,y,O);else y=c(y)?!!y.capture:!!y,p=Q(p),a&&a[qe]?(a=a.i,D=String(h).toString(),D in a.g&&(h=a.g[D],p=ct(h,p,y,O),p>-1&&(ae(h[p]),Array.prototype.splice.call(h,p,1),h.length==0&&(delete a.g[D],a.h--)))):a&&(a=j(a))&&(h=a.g[h.toString()],a=-1,h&&(a=ct(h,p,y,O)),(p=a>-1?h[a]:null)&&C(p))}function C(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[qe])Ut(h.i,a);else{var p=a.type,y=a.proxy;h.removeEventListener?h.removeEventListener(p,y,a.capture):h.detachEvent?h.detachEvent(x(p),y):h.addListener&&h.removeListener&&h.removeListener(y),(p=j(h))?(Ut(p,a),p.h==0&&(p.src=null,h[B]=null)):ae(a)}}}function x(a){return a in Z?Z[a]:Z[a]="on"+a}function F(a,h){if(a.da)a=!0;else{h=new Ee(h,this);const p=a.listener,y=a.ha||a.src;a.fa&&C(a),a=p.call(y,h)}return a}function j(a){return a=a[B],a instanceof Qe?a:null}var M="__closure_events_fn_"+(Math.random()*1e9>>>0);function Q(a){return typeof a=="function"?a:(a[M]||(a[M]=function(h){return a.handleEvent(h)}),a[M])}function K(){R.call(this),this.i=new Qe(this),this.M=this,this.G=null}f(K,R),K.prototype[qe]=!0,K.prototype.removeEventListener=function(a,h,p,y){w(this,a,h,p,y)};function q(a,h){var p,y=a.G;if(y)for(p=[];y;y=y.G)p.push(y);if(a=a.M,y=h.type||h,typeof h=="string")h=new I(h,a);else if(h instanceof I)h.target=h.target||a;else{var O=h;h=new I(y,a),ht(h,O)}O=!0;let D,G;if(p)for(G=p.length-1;G>=0;G--)D=h.g=p[G],O=H(D,y,!0,h)&&O;if(D=h.g=a,O=H(D,y,!0,h)&&O,O=H(D,y,!1,h)&&O,p)for(G=0;G<p.length;G++)D=h.g=p[G],O=H(D,y,!1,h)&&O}K.prototype.N=function(){if(K.Z.N.call(this),this.i){var a=this.i;for(const h in a.g){const p=a.g[h];for(let y=0;y<p.length;y++)ae(p[y]);delete a.g[h],a.h--}}this.G=null},K.prototype.J=function(a,h,p,y){return this.i.add(String(a),h,!1,p,y)},K.prototype.K=function(a,h,p,y){return this.i.add(String(a),h,!0,p,y)};function H(a,h,p,y){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();let O=!0;for(let D=0;D<h.length;++D){const G=h[D];if(G&&!G.da&&G.capture==p){const ve=G.listener,lt=G.ha||G.src;G.fa&&Ut(a.i,G),O=ve.call(lt,y)!==!1&&O}}return O&&!y.defaultPrevented}function se(a,h){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=u(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:i.setTimeout(a,h||0)}function J(a){a.g=se(()=>{a.g=null,a.i&&(a.i=!1,J(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class oe extends R{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:J(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ce(a){R.call(this),this.h=a,this.g={}}f(ce,R);var Te=[];function Le(a){Ke(a.g,function(h,p){this.g.hasOwnProperty(p)&&C(h)},a),a.g={}}ce.prototype.N=function(){ce.Z.N.call(this),Le(this)},ce.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pe=i.JSON.stringify,Tt=i.JSON.parse,Ct=class{stringify(a){return i.JSON.stringify(a,void 0)}parse(a){return i.JSON.parse(a,void 0)}};function Gt(){}function Qt(){}var ir={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function vo(){I.call(this,"d")}f(vo,I);function yt(){I.call(this,"c")}f(yt,I);var ft={},ms=null;function jn(){return ms=ms||new K}ft.Ia="serverreachability";function ch(a){I.call(this,ft.Ia,a)}f(ch,I);function ys(a){const h=jn();q(h,new ch(h))}ft.STAT_EVENT="statevent";function lh(a,h){I.call(this,ft.STAT_EVENT,a),this.stat=h}f(lh,I);function Lt(a){const h=jn();q(h,new lh(h,a))}ft.Ja="timingevent";function uh(a,h){I.call(this,ft.Ja,a),this.size=h}f(uh,I);function bs(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){a()},h)}function vs(){this.g=!0}vs.prototype.ua=function(){this.g=!1};function Ov(a,h,p,y,O,D){a.info(function(){if(a.g)if(D){var G="",ve=D.split("&");for(let Be=0;Be<ve.length;Be++){var lt=ve[Be].split("=");if(lt.length>1){const pt=lt[0];lt=lt[1];const br=pt.split("_");G=br.length>=2&&br[1]=="type"?G+(pt+"="+lt+"&"):G+(pt+"=redacted&")}}}else G=null;else G=D;return"XMLHTTP REQ ("+y+") [attempt "+O+"]: "+h+`
`+p+`
`+G})}function Nv(a,h,p,y,O,D,G){a.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+O+"]: "+h+`
`+p+`
`+D+" "+G})}function _o(a,h,p,y){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+Vv(a,p)+(y?" "+y:"")})}function Dv(a,h){a.info(function(){return"TIMEOUT: "+h})}vs.prototype.info=function(){};function Vv(a,h){if(!a.g)return h;if(!h)return null;try{const D=JSON.parse(h);if(D){for(a=0;a<D.length;a++)if(Array.isArray(D[a])){var p=D[a];if(!(p.length<2)){var y=p[1];if(Array.isArray(y)&&!(y.length<1)){var O=y[0];if(O!="noop"&&O!="stop"&&O!="close")for(let G=1;G<y.length;G++)y[G]=""}}}}return Pe(D)}catch{return h}}var Ji={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dh={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hh;function sl(){}f(sl,Gt),sl.prototype.g=function(){return new XMLHttpRequest},hh=new sl;function _s(a){return encodeURIComponent(String(a))}function $v(a){var h=1;a=a.split(":");const p=[];for(;h>0&&a.length;)p.push(a.shift()),h--;return a.length&&p.push(a.join(":")),p}function rn(a,h,p,y){this.j=a,this.i=h,this.l=p,this.S=y||1,this.V=new ce(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fh}function fh(){this.i=null,this.g="",this.h=!1}var ph={},il={};function al(a,h,p){a.M=1,a.A=Zi(yr(h)),a.u=p,a.R=!0,gh(a,null)}function gh(a,h){a.F=Date.now(),Xi(a),a.B=yr(a.A);var p=a.B,y=a.S;Array.isArray(y)||(y=[String(y)]),Sh(p.i,"t",y),a.C=0,p=a.j.L,a.h=new fh,a.g=Wh(a.j,p?h:null,!a.u),a.P>0&&(a.O=new oe(u(a.Y,a,a.g),a.P)),h=a.V,p=a.g,y=a.ba;var O="readystatechange";Array.isArray(O)||(O&&(Te[0]=O.toString()),O=Te);for(let D=0;D<O.length;D++){const G=Y(p,O[D],y||h.handleEvent,!1,h.h||h);if(!G)break;h.g[G.key]=G}h=a.J?Ae(a.J):{},a.u?(a.v||(a.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,h)):(a.v="GET",a.g.ea(a.B,a.v,null,h)),ys(),Ov(a.i,a.v,a.B,a.l,a.S,a.u)}rn.prototype.ba=function(a){a=a.target;const h=this.O;h&&sn(a)==3?h.j():this.Y(a)},rn.prototype.Y=function(a){try{if(a==this.g)e:{const ve=sn(this.g),lt=this.g.ya(),Be=this.g.ca();if(!(ve<3)&&(ve!=3||this.g&&(this.h.h||this.g.la()||Vh(this.g)))){this.K||ve!=4||lt==7||(lt==8||Be<=0?ys(3):ys(2)),cl(this);var h=this.g.ca();this.X=h;var p=Lv(this);if(this.o=h==200,Nv(this.i,this.v,this.B,this.l,this.S,ve,h),this.o){if(this.U&&!this.L){t:{if(this.g){var y,O=this.g;if((y=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(y)){var D=y;break t}}D=null}if(a=D)_o(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ll(this,a);else{this.o=!1,this.m=3,Lt(12),zn(this),ws(this);break e}}if(this.R){a=!0;let pt;for(;!this.K&&this.C<p.length;)if(pt=Bv(this,p),pt==il){ve==4&&(this.m=4,Lt(14),a=!1),_o(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==ph){this.m=4,Lt(15),_o(this.i,this.l,p,"[Invalid Chunk]"),a=!1;break}else _o(this.i,this.l,pt,null),ll(this,pt);if(mh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||p.length!=0||this.h.h||(this.m=1,Lt(16),a=!1),this.o=this.o&&a,!a)_o(this.i,this.l,p,"[Invalid Chunked Response]"),zn(this),ws(this);else if(p.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),yl(G),G.P=!0,Lt(11))}}else _o(this.i,this.l,p,null),ll(this,p);ve==4&&zn(this),this.o&&!this.K&&(ve==4?jh(this.j,this):(this.o=!1,Xi(this)))}else Xv(this.g),h==400&&p.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),zn(this),ws(this)}}}catch{}finally{}};function Lv(a){if(!mh(a))return a.g.la();const h=Vh(a.g);if(h==="")return"";let p="";const y=h.length,O=sn(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return zn(a),ws(a),"";a.h.i=new i.TextDecoder}for(let D=0;D<y;D++)a.h.h=!0,p+=a.h.i.decode(h[D],{stream:!(O&&D==y-1)});return h.length=0,a.h.g+=p,a.C=0,a.h.g}function mh(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function Bv(a,h){var p=a.C,y=h.indexOf(`
`,p);return y==-1?il:(p=Number(h.substring(p,y)),isNaN(p)?ph:(y+=1,y+p>h.length?il:(h=h.slice(y,y+p),a.C=y+p,h)))}rn.prototype.cancel=function(){this.K=!0,zn(this)};function Xi(a){a.T=Date.now()+a.H,yh(a,a.H)}function yh(a,h){if(a.D!=null)throw Error("WatchDog timer not null");a.D=bs(u(a.aa,a),h)}function cl(a){a.D&&(i.clearTimeout(a.D),a.D=null)}rn.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(Dv(this.i,this.B),this.M!=2&&(ys(),Lt(17)),zn(this),this.m=2,ws(this)):yh(this,this.T-a)};function ws(a){a.j.I==0||a.K||jh(a.j,a)}function zn(a){cl(a);var h=a.O;h&&typeof h.dispose=="function"&&h.dispose(),a.O=null,Le(a.V),a.g&&(h=a.g,a.g=null,h.abort(),h.dispose())}function ll(a,h){try{var p=a.j;if(p.I!=0&&(p.g==a||ul(p.h,a))){if(!a.L&&ul(p.h,a)&&p.I==3){try{var y=p.Ba.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var O=y;if(O[0]==0){e:if(!p.v){if(p.g)if(p.g.F+3e3<a.F)oa(p),ra(p);else break e;ml(p),Lt(18)}}else p.xa=O[1],0<p.xa-p.K&&O[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=bs(u(p.Va,p),6e3));_h(p.h)<=1&&p.ta&&(p.ta=void 0)}else Hn(p,11)}else if((a.L||p.g==a)&&oa(p),!T(h))for(O=p.Ba.g.parse(h),h=0;h<O.length;h++){let Be=O[h];const pt=Be[0];if(!(pt<=p.K))if(p.K=pt,Be=Be[1],p.I==2)if(Be[0]=="c"){p.M=Be[1],p.ba=Be[2];const br=Be[3];br!=null&&(p.ka=br,p.j.info("VER="+p.ka));const Wn=Be[4];Wn!=null&&(p.za=Wn,p.j.info("SVER="+p.za));const an=Be[5];an!=null&&typeof an=="number"&&an>0&&(y=1.5*an,p.O=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;const cn=a.g;if(cn){const ia=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ia){var D=y.h;D.g||ia.indexOf("spdy")==-1&&ia.indexOf("quic")==-1&&ia.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(dl(D,D.h),D.h=null))}if(y.G){const bl=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;bl&&(y.wa=bl,He(y.J,y.G,bl))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-a.F,p.j.info("Handshake RTT: "+p.T+"ms")),y=p;var G=a;if(y.na=Hh(y,y.L?y.ba:null,y.W),G.L){wh(y.h,G);var ve=G,lt=y.O;lt&&(ve.H=lt),ve.D&&(cl(ve),Xi(ve)),y.g=G}else Fh(y);p.i.length>0&&na(p)}else Be[0]!="stop"&&Be[0]!="close"||Hn(p,7);else p.I==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Hn(p,7):gl(p):Be[0]!="noop"&&p.l&&p.l.qa(Be),p.A=0)}}ys(4)}catch{}}var Mv=class{constructor(a,h){this.g=a,this.map=h}};function bh(a){this.l=a||10,i.PerformanceNavigationTiming?(a=i.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vh(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function _h(a){return a.h?1:a.g?a.g.size:0}function ul(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function dl(a,h){a.g?a.g.add(h):a.h=h}function wh(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}bh.prototype.cancel=function(){if(this.i=Eh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Eh(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const p of a.g.values())h=h.concat(p.G);return h}return m(a.i)}var Th=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fv(a,h){if(a){a=a.split("&");for(let p=0;p<a.length;p++){const y=a[p].indexOf("=");let O,D=null;y>=0?(O=a[p].substring(0,y),D=a[p].substring(y+1)):O=a[p],h(O,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function nn(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;a instanceof nn?(this.l=a.l,Es(this,a.j),this.o=a.o,this.g=a.g,Ts(this,a.u),this.h=a.h,hl(this,Ah(a.i)),this.m=a.m):a&&(h=String(a).match(Th))?(this.l=!1,Es(this,h[1]||"",!0),this.o=Cs(h[2]||""),this.g=Cs(h[3]||"",!0),Ts(this,h[4]),this.h=Cs(h[5]||"",!0),hl(this,h[6]||"",!0),this.m=Cs(h[7]||"")):(this.l=!1,this.i=new Is(null,this.l))}nn.prototype.toString=function(){const a=[];var h=this.j;h&&a.push(ks(h,Ch,!0),":");var p=this.g;return(p||h=="file")&&(a.push("//"),(h=this.o)&&a.push(ks(h,Ch,!0),"@"),a.push(_s(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&a.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(ks(p,p.charAt(0)=="/"?zv:jv,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",ks(p,Hv)),a.join("")},nn.prototype.resolve=function(a){const h=yr(this);let p=!!a.j;p?Es(h,a.j):p=!!a.o,p?h.o=a.o:p=!!a.g,p?h.g=a.g:p=a.u!=null;var y=a.h;if(p)Ts(h,a.u);else if(p=!!a.h){if(y.charAt(0)!="/")if(this.g&&!this.h)y="/"+y;else{var O=h.h.lastIndexOf("/");O!=-1&&(y=h.h.slice(0,O+1)+y)}if(O=y,O==".."||O==".")y="";else if(O.indexOf("./")!=-1||O.indexOf("/.")!=-1){y=O.lastIndexOf("/",0)==0,O=O.split("/");const D=[];for(let G=0;G<O.length;){const ve=O[G++];ve=="."?y&&G==O.length&&D.push(""):ve==".."?((D.length>1||D.length==1&&D[0]!="")&&D.pop(),y&&G==O.length&&D.push("")):(D.push(ve),y=!0)}y=D.join("/")}else y=O}return p?h.h=y:p=a.i.toString()!=="",p?hl(h,Ah(a.i)):p=!!a.m,p&&(h.m=a.m),h};function yr(a){return new nn(a)}function Es(a,h,p){a.j=p?Cs(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Ts(a,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);a.u=h}else a.u=null}function hl(a,h,p){h instanceof Is?(a.i=h,Wv(a.i,a.l)):(p||(h=ks(h,qv)),a.i=new Is(h,a.l))}function He(a,h,p){a.i.set(h,p)}function Zi(a){return He(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function Cs(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ks(a,h,p){return typeof a=="string"?(a=encodeURI(a).replace(h,Uv),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Uv(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ch=/[#\/\?@]/g,jv=/[#\?:]/g,zv=/[#\?]/g,qv=/[#\?@]/g,Hv=/#/g;function Is(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function qn(a){a.g||(a.g=new Map,a.h=0,a.i&&Fv(a.i,function(h,p){a.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Is.prototype,t.add=function(a,h){qn(this),this.i=null,a=wo(this,a);let p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(h),this.h+=1,this};function kh(a,h){qn(a),h=wo(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function Ih(a,h){return qn(a),h=wo(a,h),a.g.has(h)}t.forEach=function(a,h){qn(this),this.g.forEach(function(p,y){p.forEach(function(O){a.call(h,O,y,this)},this)},this)};function Rh(a,h){qn(a);let p=[];if(typeof h=="string")Ih(a,h)&&(p=p.concat(a.g.get(wo(a,h))));else for(a=Array.from(a.g.values()),h=0;h<a.length;h++)p=p.concat(a[h]);return p}t.set=function(a,h){return qn(this),this.i=null,a=wo(this,a),Ih(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=Rh(this,a),a.length>0?String(a[0]):h):h};function Sh(a,h,p){kh(a,h),p.length>0&&(a.i=null,a.g.set(wo(a,h),m(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(let y=0;y<h.length;y++){var p=h[y];const O=_s(p);p=Rh(this,p);for(let D=0;D<p.length;D++){let G=O;p[D]!==""&&(G+="="+_s(p[D])),a.push(G)}}return this.i=a.join("&")};function Ah(a){const h=new Is;return h.i=a.i,a.g&&(h.g=new Map(a.g),h.h=a.h),h}function wo(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function Wv(a,h){h&&!a.j&&(qn(a),a.i=null,a.g.forEach(function(p,y){const O=y.toLowerCase();y!=O&&(kh(this,y),Sh(this,O,p))},a)),a.j=h}function Kv(a,h){const p=new vs;if(i.Image){const y=new Image;y.onload=d(on,p,"TestLoadImage: loaded",!0,h,y),y.onerror=d(on,p,"TestLoadImage: error",!1,h,y),y.onabort=d(on,p,"TestLoadImage: abort",!1,h,y),y.ontimeout=d(on,p,"TestLoadImage: timeout",!1,h,y),i.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=a}else h(!1)}function Gv(a,h){const p=new vs,y=new AbortController,O=setTimeout(()=>{y.abort(),on(p,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:y.signal}).then(D=>{clearTimeout(O),D.ok?on(p,"TestPingServer: ok",!0,h):on(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),on(p,"TestPingServer: error",!1,h)})}function on(a,h,p,y,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),y(p)}catch{}}function Qv(){this.g=new Ct}function fl(a){this.i=a.Sb||null,this.h=a.ab||!1}f(fl,Gt),fl.prototype.g=function(){return new ea(this.i,this.h)};function ea(a,h){K.call(this),this.H=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(ea,K),t=ea.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=h,this.readyState=1,Ss(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(h.body=a),(this.H||i).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ss(this)),this.g&&(this.readyState=3,Ss(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof i.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ph(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ph(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Rs(this):Ss(this),this.readyState==3&&Ph(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,Rs(this))},t.Na=function(a){this.g&&(this.response=a,Rs(this))},t.ga=function(){this.g&&Rs(this)};function Rs(a){a.readyState=4,a.l=null,a.j=null,a.B=null,Ss(a)}t.setRequestHeader=function(a,h){this.A.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=h.next();return a.join(`\r
`)};function Ss(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function xh(a){let h="";return Ke(a,function(p,y){h+=y,h+=":",h+=p,h+=`\r
`}),h}function pl(a,h,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=xh(p),typeof a=="string"?p!=null&&_s(p):He(a,h,p))}function Ze(a){K.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Ze,K);var Yv=/^https?$/i,Jv=["POST","PUT"];t=Ze.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,h,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hh.g(),this.g.onreadystatechange=g(u(this.Ca,this));try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(D){Oh(this,D);return}if(a=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var O in y)p.set(O,y[O]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const D of y.keys())p.set(D,y.get(D));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(D=>D.toLowerCase()=="content-type"),O=i.FormData&&a instanceof i.FormData,!(Array.prototype.indexOf.call(Jv,h,void 0)>=0)||y||O||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[D,G]of p)this.g.setRequestHeader(D,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(D){Oh(this,D)}};function Oh(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.o=5,Nh(a),ta(a)}function Nh(a){a.A||(a.A=!0,q(a,"complete"),q(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,q(this,"complete"),q(this,"abort"),ta(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ta(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Dh(this):this.Xa())},t.Xa=function(){Dh(this)};function Dh(a){if(a.h&&typeof s<"u"){if(a.v&&sn(a)==4)setTimeout(a.Ca.bind(a),0);else if(q(a,"readystatechange"),sn(a)==4){a.h=!1;try{const D=a.ca();e:switch(D){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var y;if(y=D===0){let G=String(a.D).match(Th)[1]||null;!G&&i.self&&i.self.location&&(G=i.self.location.protocol.slice(0,-1)),y=!Yv.test(G?G.toLowerCase():"")}p=y}if(p)q(a,"complete"),q(a,"success");else{a.o=6;try{var O=sn(a)>2?a.g.statusText:""}catch{O=""}a.l=O+" ["+a.ca()+"]",Nh(a)}}finally{ta(a)}}}}function ta(a,h){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const p=a.g;a.g=null,h||q(a,"ready");try{p.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function sn(a){return a.g?a.g.readyState:0}t.ca=function(){try{return sn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),Tt(h)}};function Vh(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Xv(a){const h={};a=(a.g&&sn(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<a.length;y++){if(T(a[y]))continue;var p=$v(a[y]);const O=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const D=h[O]||[];h[O]=D,D.push(p)}Xe(h,function(y){return y.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(a,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||h}function $h(a){this.za=0,this.i=[],this.j=new vs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=As("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=As("baseRetryDelayMs",5e3,a),this.Za=As("retryDelaySeedMs",1e4,a),this.Ta=As("forwardChannelMaxRetries",2,a),this.va=As("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new bh(a&&a.concurrentRequestLimit),this.Ba=new Qv,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=$h.prototype,t.ka=8,t.I=1,t.connect=function(a,h,p,y){Lt(0),this.W=a,this.H=h||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.J=Hh(this,null,this.W),na(this)};function gl(a){if(Lh(a),a.I==3){var h=a.V++,p=yr(a.J);if(He(p,"SID",a.M),He(p,"RID",h),He(p,"TYPE","terminate"),Ps(a,p),h=new rn(a,a.j,h),h.M=2,h.A=Zi(yr(p)),p=!1,i.navigator&&i.navigator.sendBeacon)try{p=i.navigator.sendBeacon(h.A.toString(),"")}catch{}!p&&i.Image&&(new Image().src=h.A,p=!0),p||(h.g=Wh(h.j,null),h.g.ea(h.A)),h.F=Date.now(),Xi(h)}qh(a)}function ra(a){a.g&&(yl(a),a.g.cancel(),a.g=null)}function Lh(a){ra(a),a.v&&(i.clearTimeout(a.v),a.v=null),oa(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&i.clearTimeout(a.m),a.m=null)}function na(a){if(!vh(a.h)&&!a.m){a.m=!0;var h=a.Ea;re||b(),ee||(re(),ee=!0),v.add(h,a),a.D=0}}function Zv(a,h){return _h(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=h.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=bs(u(a.Ea,a,h),zh(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const O=new rn(this,this.j,a);let D=this.o;if(this.U&&(D?(D=Ae(D),ht(D,this.U)):D=this.U),this.u!==null||this.R||(O.J=D,D=null),this.S)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,h>4096){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=Mh(this,O,h),p=yr(this.J),He(p,"RID",a),He(p,"CVER",22),this.G&&He(p,"X-HTTP-Session-Id",this.G),Ps(this,p),D&&(this.R?h="headers="+_s(xh(D))+"&"+h:this.u&&pl(p,this.u,D)),dl(this.h,O),this.Ra&&He(p,"TYPE","init"),this.S?(He(p,"$req",h),He(p,"SID","null"),O.U=!0,al(O,p,null)):al(O,p,h),this.I=2}}else this.I==3&&(a?Bh(this,a):this.i.length==0||vh(this.h)||Bh(this))};function Bh(a,h){var p;h?p=h.l:p=a.V++;const y=yr(a.J);He(y,"SID",a.M),He(y,"RID",p),He(y,"AID",a.K),Ps(a,y),a.u&&a.o&&pl(y,a.u,a.o),p=new rn(a,a.j,p,a.D+1),a.u===null&&(p.J=a.o),h&&(a.i=h.G.concat(a.i)),h=Mh(a,p,1e3),p.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),dl(a.h,p),al(p,y,h)}function Ps(a,h){a.H&&Ke(a.H,function(p,y){He(h,y,p)}),a.l&&Ke({},function(p,y){He(h,y,p)})}function Mh(a,h,p){p=Math.min(a.i.length,p);const y=a.l?u(a.l.Ka,a.l,a):null;e:{var O=a.i;let ve=-1;for(;;){const lt=["count="+p];ve==-1?p>0?(ve=O[0].g,lt.push("ofs="+ve)):ve=0:lt.push("ofs="+ve);let Be=!0;for(let pt=0;pt<p;pt++){var D=O[pt].g;const br=O[pt].map;if(D-=ve,D<0)ve=Math.max(0,O[pt].g-100),Be=!1;else try{D="req"+D+"_"||"";try{var G=br instanceof Map?br:Object.entries(br);for(const[Wn,an]of G){let cn=an;c(an)&&(cn=Pe(an)),lt.push(D+Wn+"="+encodeURIComponent(cn))}}catch(Wn){throw lt.push(D+"type="+encodeURIComponent("_badmap")),Wn}}catch{y&&y(br)}}if(Be){G=lt.join("&");break e}}G=void 0}return a=a.i.splice(0,p),h.G=a,G}function Fh(a){if(!a.g&&!a.v){a.Y=1;var h=a.Da;re||b(),ee||(re(),ee=!0),v.add(h,a),a.A=0}}function ml(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=bs(u(a.Da,a),zh(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,Uh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=bs(u(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),ra(this),Uh(this))};function yl(a){a.B!=null&&(i.clearTimeout(a.B),a.B=null)}function Uh(a){a.g=new rn(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var h=yr(a.na);He(h,"RID","rpc"),He(h,"SID",a.M),He(h,"AID",a.K),He(h,"CI",a.F?"0":"1"),!a.F&&a.ia&&He(h,"TO",a.ia),He(h,"TYPE","xmlhttp"),Ps(a,h),a.u&&a.o&&pl(h,a.u,a.o),a.O&&(a.g.H=a.O);var p=a.g;a=a.ba,p.M=1,p.A=Zi(yr(h)),p.u=null,p.R=!0,gh(p,a)}t.Va=function(){this.C!=null&&(this.C=null,ra(this),ml(this),Lt(19))};function oa(a){a.C!=null&&(i.clearTimeout(a.C),a.C=null)}function jh(a,h){var p=null;if(a.g==h){oa(a),yl(a),a.g=null;var y=2}else if(ul(a.h,h))p=h.G,wh(a.h,h),y=1;else return;if(a.I!=0){if(h.o)if(y==1){p=h.u?h.u.length:0,h=Date.now()-h.F;var O=a.D;y=jn(),q(y,new uh(y,p)),na(a)}else Fh(a);else if(O=h.m,O==3||O==0&&h.X>0||!(y==1&&Zv(a,h)||y==2&&ml(a)))switch(p&&p.length>0&&(h=a.h,h.i=h.i.concat(p)),O){case 1:Hn(a,5);break;case 4:Hn(a,10);break;case 3:Hn(a,6);break;default:Hn(a,2)}}}function zh(a,h){let p=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(p*=2),p*h}function Hn(a,h){if(a.j.info("Error code "+h),h==2){var p=u(a.bb,a),y=a.Ua;const O=!y;y=new nn(y||"//www.google.com/images/cleardot.gif"),i.location&&i.location.protocol=="http"||Es(y,"https"),Zi(y),O?Kv(y.toString(),p):Gv(y.toString(),p)}else Lt(2);a.I=0,a.l&&a.l.pa(h),qh(a),Lh(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function qh(a){if(a.I=0,a.ja=[],a.l){const h=Eh(a.h);(h.length!=0||a.i.length!=0)&&(_(a.ja,h),_(a.ja,a.i),a.h.i.length=0,m(a.i),a.i.length=0),a.l.oa()}}function Hh(a,h,p){var y=p instanceof nn?yr(p):new nn(p);if(y.g!="")h&&(y.g=h+"."+y.g),Ts(y,y.u);else{var O=i.location;y=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;const D=new nn(null);y&&Es(D,y),h&&(D.g=h),O&&Ts(D,O),p&&(D.h=p),y=D}return p=a.G,h=a.wa,p&&h&&He(y,p,h),He(y,"VER",a.ka),Ps(a,y),y}function Wh(a,h,p){if(h&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Aa&&!a.ma?new Ze(new fl({ab:p})):new Ze(a.ma),h.Fa(a.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kh(){}t=Kh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function sa(){}sa.prototype.g=function(a,h){return new Yt(a,h)};function Yt(a,h){K.call(this),this.g=new $h(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(a?a["X-WebChannel-Client-Profile"]=h.sa:a={"X-WebChannel-Client-Profile":h.sa}),this.g.U=a,(a=h&&h.Qb)&&!T(a)&&(this.g.u=a),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!T(h)&&(this.g.G=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Eo(this)}f(Yt,K),Yt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){gl(this.g)},Yt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.v&&(p={},p.__data__=Pe(a),a=p);h.i.push(new Mv(h.Ya++,a)),h.I==3&&na(h)},Yt.prototype.N=function(){this.g.l=null,delete this.j,gl(this.g),delete this.g,Yt.Z.N.call(this)};function Gh(a){vo.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const p in h){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}f(Gh,vo);function Qh(){yt.call(this),this.status=1}f(Qh,yt);function Eo(a){this.g=a}f(Eo,Kh),Eo.prototype.ra=function(){q(this.g,"a")},Eo.prototype.qa=function(a){q(this.g,new Gh(a))},Eo.prototype.pa=function(a){q(this.g,new Qh)},Eo.prototype.oa=function(){q(this.g,"b")},sa.prototype.createWebChannel=sa.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,F0=function(){return new sa},M0=function(){return jn()},B0=ft,pu={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ji.NO_ERROR=0,Ji.TIMEOUT=8,Ji.HTTP_ERROR=6,Ia=Ji,dh.COMPLETE="complete",L0=dh,Qt.EventType=ir,ir.OPEN="a",ir.CLOSE="b",ir.ERROR="c",ir.MESSAGE="d",K.prototype.listen=K.prototype.J,Bs=Qt,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,$0=Ze}).apply(typeof ua<"u"?ua:typeof self<"u"?self:typeof window<"u"?window:{});const sp="@firebase/firestore",ip="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cs="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new ud("@firebase/firestore");function Ro(){return lo.logLevel}function te(t,...e){if(lo.logLevel<=Ce.DEBUG){const r=e.map(fd);lo.debug(`Firestore (${cs}): ${t}`,...r)}}function Jr(t,...e){if(lo.logLevel<=Ce.ERROR){const r=e.map(fd);lo.error(`Firestore (${cs}): ${t}`,...r)}}function Yo(t,...e){if(lo.logLevel<=Ce.WARN){const r=e.map(fd);lo.warn(`Firestore (${cs}): ${t}`,...r)}}function fd(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,U0(t,n,r)}function U0(t,e,r){let n=`FIRESTORE (${cs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Jr(n),new Error(n)}function $e(t,e,r,n){let o="Unexpected state";typeof r=="string"?o=r:n=r,t||U0(e,o,n)}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends tn{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(St.UNAUTHENTICATED))}shutdown(){}}class yI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class bI{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){$e(this.o===void 0,42304);let n=this.i;const o=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wr,e.enqueueRetryable(()=>o(this.currentUser))};const i=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await o(this.currentUser)})},c=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wr)}},0),i()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?($e(typeof n.accessToken=="string",31837,{l:n}),new j0(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new St(e)}}class vI{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=St.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _I{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new vI(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ap{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wI{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){$e(this.o===void 0,3512);const n=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const i=s.token!==this.m;return this.m=s.token,te("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const o=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>o(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?o(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ap(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?($e(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new ap(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const o=EI(40);for(let s=0;s<o.length;++s)n.length<20&&o[s]<r&&(n+=e.charAt(o[s]%62))}return n}}function ke(t,e){return t<e?-1:t>e?1:0}function gu(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const o=t.charAt(n),s=e.charAt(n);if(o!==s)return $l(o)===$l(s)?ke(o,s):$l(o)?1:-1}return ke(t.length,e.length)}const TI=55296,CI=57343;function $l(t){const e=t.charCodeAt(0);return e>=TI&&e<=CI}function Jo(t,e,r){return t.length===e.length&&t.every((n,o)=>r(n,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="__name__";class Er{constructor(e,r,n){r===void 0?r=0:r>e.length&&de(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&de(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Er.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let o=0;o<n;o++){const s=Er.compareSegments(e.get(o),r.get(o));if(s!==0)return s}return ke(e.length,r.length)}static compareSegments(e,r){const n=Er.isNumericId(e),o=Er.isNumericId(r);return n&&!o?-1:!n&&o?1:n&&o?Er.extractNumericId(e).compare(Er.extractNumericId(r)):gu(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return kn.fromString(e.substring(4,e.length-2))}}class Ue extends Er{construct(e,r,n){return new Ue(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new X(L.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(o=>o.length>0))}return new Ue(r)}static emptyPath(){return new Ue([])}}const kI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends Er{construct(e,r,n){return new wt(e,r,n)}static isValidIdentifier(e){return kI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cp}static keyField(){return new wt([cp])}static fromServerFormat(e){const r=[];let n="",o=0;const s=()=>{if(n.length===0)throw new X(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let i=!1;for(;o<e.length;){const c=e[o];if(c==="\\"){if(o+1===e.length)throw new X(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,o+=2}else c==="`"?(i=!i,o++):c!=="."||i?(n+=c,o++):(s(),o++)}if(s(),i)throw new X(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(r)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Ue.fromString(e))}static fromName(e){return new ie(Ue.fromString(e).popFirst(5))}static empty(){return new ie(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ue.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Ue(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t,e,r){if(!r)throw new X(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function II(t,e,r,n){if(e===!0&&n===!0)throw new X(L.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function lp(t){if(!ie.isDocumentKey(t))throw new X(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function up(t){if(ie.isDocumentKey(t))throw new X(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function q0(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function xc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de(12329,{type:typeof t})}function fr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=xc(t);throw new X(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function RI(t,e){if(e<=0)throw new X(L.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t,e){const r={typeString:t};return e&&(r.value=e),r}function Li(t,e){if(!q0(t))throw new X(L.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const o=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const i=t[n];if(o&&typeof i!==o){r=`JSON field '${n}' must be a ${o}.`;break}if(s!==void 0&&i!==s.value){r=`Expected '${n}' field to equal '${s.value}'`;break}}if(r)throw new X(L.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp=-62135596800,hp=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*hp);return new We(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new X(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new X(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<dp)throw new X(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hp}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Li(e,We._jsonSchema))return new We(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:it("string",We._jsonSchemaVersion),seconds:it("number"),nanoseconds:it("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new We(0,0))}static max(){return new he(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=-1;function SI(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,o=he.fromTimestamp(n===1e9?new We(r+1,0):new We(r,n));return new An(o,ie.empty(),e)}function AI(t){return new An(t.readTime,t.key,pi)}class An{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new An(he.min(),ie.empty(),pi)}static max(){return new An(he.max(),ie.empty(),pi)}}function PI(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ie.comparator(t.documentKey,e.documentKey),r!==0?r:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ls(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==xI)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new z((n,o)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,o)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,o)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof z?r:z.resolve(r)}catch(r){return z.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):z.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):z.reject(r)}static resolve(e){return new z((r,n)=>{r(e)})}static reject(e){return new z((r,n)=>{n(e)})}static waitFor(e){return new z((r,n)=>{let o=0,s=0,i=!1;e.forEach(c=>{++o,c.next(()=>{++s,i&&s===o&&r()},l=>n(l))}),i=!0,s===o&&r()})}static or(e){let r=z.resolve(!1);for(const n of e)r=r.next(o=>o?z.resolve(o):n());return r}static forEach(e,r){const n=[];return e.forEach((o,s)=>{n.push(r.call(this,o,s))}),this.waitFor(n)}static mapArray(e,r){return new z((n,o)=>{const s=e.length,i=new Array(s);let c=0;for(let l=0;l<s;l++){const u=l;r(e[u]).next(d=>{i[u]=d,++c,c===s&&n(i)},d=>o(d))}})}static doWhile(e,r){return new z((n,o)=>{const s=()=>{e()===!0?r().next(()=>{s()},o):n()};s()})}}function NI(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function us(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Oc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=-1;function Nc(t){return t==null}function Ya(t){return t===0&&1/t==-1/0}function DI(t){return typeof t=="number"&&Number.isInteger(t)&&!Ya(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="";function VI(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=fp(e)),e=$I(t.get(r),e);return fp(e)}function $I(t,e){let r=e;const n=t.length;for(let o=0;o<n;o++){const s=t.charAt(o);switch(s){case"\0":r+="";break;case H0:r+="";break;default:r+=s}}return r}function fp(t){return t+H0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Ln(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function W0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,r){this.comparator=e,this.root=r||bt.EMPTY}insert(e,r){return new Ye(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(o===0)return r+n.left.size;o<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new da(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new da(this.root,e,this.comparator,!1)}getReverseIterator(){return new da(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new da(this.root,e,this.comparator,!0)}}class da{constructor(e,r,n,o){this.isReverse=o,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&o&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,r,n,o,s){this.key=e,this.value=r,this.color=n??bt.RED,this.left=o??bt.EMPTY,this.right=s??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,o,s){return new bt(e??this.key,r??this.value,n??this.color,o??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let o=this;const s=n(e,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(e,r,n),null):s===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,n)),o.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return bt.EMPTY;n=o.right.min(),o=o.copy(n.key,n.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,r,n,o,s){return this}insert(e,r,n){return new bt(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const o=n.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new gp(this.data.getIterator())}getIteratorFrom(e){return new gp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,s=n.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new dt(this.comparator);return r.data=e,r}}class gp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new er([])}unionWith(e){let r=new dt(wt.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new er(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(o){try{return atob(o)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new K0("Invalid base64 string: "+s):s}}(e);return new Et(r)}static fromUint8Array(e){const r=function(o){let s="";for(let i=0;i<o.length;++i)s+=String.fromCharCode(o[i]);return s}(e);return new Et(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let o=0;o<r.length;o++)n[o]=r.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const LI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pn(t){if($e(!!t,39018),typeof t=="string"){let e=0;const r=LI.exec(t);if($e(!!r,46558,{timestamp:t}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xn(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="server_timestamp",Q0="__type__",Y0="__previous_value__",J0="__local_write_time__";function md(t){return(t?.mapValue?.fields||{})[Q0]?.stringValue===G0}function Dc(t){const e=t.mapValue.fields[Y0];return md(e)?Dc(e):e}function gi(t){const e=Pn(t.mapValue.fields[J0].timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,r,n,o,s,i,c,l,u,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=o,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Ja="(default)";class mi{constructor(e,r){this.projectId=e,this.database=r||Ja}static empty(){return new mi("","")}get isDefaultDatabase(){return this.database===Ja}isEqual(e){return e instanceof mi&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="__type__",MI="__max__",ha={mapValue:{}},Z0="__vector__",Xa="value";function On(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?md(t)?4:UI(t)?9007199254740991:FI(t)?10:11:de(28295,{value:t})}function Nr(t,e){if(t===e)return!0;const r=On(t);if(r!==On(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gi(t).isEqual(gi(e));case 3:return function(o,s){if(typeof o.timestampValue=="string"&&typeof s.timestampValue=="string"&&o.timestampValue.length===s.timestampValue.length)return o.timestampValue===s.timestampValue;const i=Pn(o.timestampValue),c=Pn(s.timestampValue);return i.seconds===c.seconds&&i.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,s){return xn(o.bytesValue).isEqual(xn(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,s){return rt(o.geoPointValue.latitude)===rt(s.geoPointValue.latitude)&&rt(o.geoPointValue.longitude)===rt(s.geoPointValue.longitude)}(t,e);case 2:return function(o,s){if("integerValue"in o&&"integerValue"in s)return rt(o.integerValue)===rt(s.integerValue);if("doubleValue"in o&&"doubleValue"in s){const i=rt(o.doubleValue),c=rt(s.doubleValue);return i===c?Ya(i)===Ya(c):isNaN(i)&&isNaN(c)}return!1}(t,e);case 9:return Jo(t.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(o,s){const i=o.mapValue.fields||{},c=s.mapValue.fields||{};if(pp(i)!==pp(c))return!1;for(const l in i)if(i.hasOwnProperty(l)&&(c[l]===void 0||!Nr(i[l],c[l])))return!1;return!0}(t,e);default:return de(52216,{left:t})}}function yi(t,e){return(t.values||[]).find(r=>Nr(r,e))!==void 0}function Xo(t,e){if(t===e)return 0;const r=On(t),n=On(e);if(r!==n)return ke(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(s,i){const c=rt(s.integerValue||s.doubleValue),l=rt(i.integerValue||i.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(t,e);case 3:return mp(t.timestampValue,e.timestampValue);case 4:return mp(gi(t),gi(e));case 5:return gu(t.stringValue,e.stringValue);case 6:return function(s,i){const c=xn(s),l=xn(i);return c.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,i){const c=s.split("/"),l=i.split("/");for(let u=0;u<c.length&&u<l.length;u++){const d=ke(c[u],l[u]);if(d!==0)return d}return ke(c.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,i){const c=ke(rt(s.latitude),rt(i.latitude));return c!==0?c:ke(rt(s.longitude),rt(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yp(t.arrayValue,e.arrayValue);case 10:return function(s,i){const c=s.fields||{},l=i.fields||{},u=c[Xa]?.arrayValue,d=l[Xa]?.arrayValue,f=ke(u?.values?.length||0,d?.values?.length||0);return f!==0?f:yp(u,d)}(t.mapValue,e.mapValue);case 11:return function(s,i){if(s===ha.mapValue&&i===ha.mapValue)return 0;if(s===ha.mapValue)return 1;if(i===ha.mapValue)return-1;const c=s.fields||{},l=Object.keys(c),u=i.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const g=gu(l[f],d[f]);if(g!==0)return g;const m=Xo(c[l[f]],u[d[f]]);if(m!==0)return m}return ke(l.length,d.length)}(t.mapValue,e.mapValue);default:throw de(23264,{he:r})}}function mp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const r=Pn(t),n=Pn(e),o=ke(r.seconds,n.seconds);return o!==0?o:ke(r.nanos,n.nanos)}function yp(t,e){const r=t.values||[],n=e.values||[];for(let o=0;o<r.length&&o<n.length;++o){const s=Xo(r[o],n[o]);if(s)return s}return ke(r.length,n.length)}function Zo(t){return mu(t)}function mu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Pn(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return xn(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return ie.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",o=!0;for(const s of r.values||[])o?o=!1:n+=",",n+=mu(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const i of n)s?s=!1:o+=",",o+=`${i}:${mu(r.fields[i])}`;return o+"}"}(t.mapValue):de(61005,{value:t})}function Ra(t){switch(On(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dc(t);return e?16+Ra(e):16;case 5:return 2*t.stringValue.length;case 6:return xn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((o,s)=>o+Ra(s),0)}(t.arrayValue);case 10:case 11:return function(n){let o=0;return Ln(n.fields,(s,i)=>{o+=s.length+Ra(i)}),o}(t.mapValue);default:throw de(13486,{value:t})}}function bp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function yu(t){return!!t&&"integerValue"in t}function yd(t){return!!t&&"arrayValue"in t}function vp(t){return!!t&&"nullValue"in t}function _p(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sa(t){return!!t&&"mapValue"in t}function FI(t){return(t?.mapValue?.fields||{})[X0]?.stringValue===Z0}function Zs(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ln(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Zs(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Zs(t.arrayValue.values[r]);return e}return{...t}}function UI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===MI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.value=e}static empty(){return new Ht({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Sa(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zs(r)}setAll(e){let r=wt.emptyPath(),n={},o=[];e.forEach((i,c)=>{if(!r.isImmediateParentOf(c)){const l=this.getFieldsMap(r);this.applyChanges(l,n,o),n={},o=[],r=c.popLast()}i?n[c.lastSegment()]=Zs(i):o.push(c.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,o)}delete(e){const r=this.field(e.popLast());Sa(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let o=r.mapValue.fields[e.get(n)];Sa(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=o),r=o}return r.mapValue.fields}applyChanges(e,r,n){Ln(r,(o,s)=>e[o]=s);for(const o of n)delete e[o]}clone(){return new Ht(Zs(this.value))}}function ey(t){const e=[];return Ln(t.fields,(r,n)=>{const o=new wt([r]);if(Sa(n)){const s=ey(n.mapValue).fields;if(s.length===0)e.push(o);else for(const i of s)e.push(o.child(i))}else e.push(o)}),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,r,n,o,s,i,c){this.key=e,this.documentType=r,this.version=n,this.readTime=o,this.createTime=s,this.data=i,this.documentState=c}static newInvalidDocument(e){return new xt(e,0,he.min(),he.min(),he.min(),Ht.empty(),0)}static newFoundDocument(e,r,n,o){return new xt(e,1,r,he.min(),n,o,0)}static newNoDocument(e,r){return new xt(e,2,r,he.min(),he.min(),Ht.empty(),0)}static newUnknownDocument(e,r){return new xt(e,3,r,he.min(),he.min(),Ht.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,r){this.position=e,this.inclusive=r}}function wp(t,e,r){let n=0;for(let o=0;o<t.position.length;o++){const s=e[o],i=t.position[o];if(s.field.isKeyField()?n=ie.comparator(ie.fromName(i.referenceValue),r.key):n=Xo(i,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function Ep(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Nr(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,r="asc"){this.field=e,this.dir=r}}function jI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{}class st extends ty{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new qI(e,r,n):r==="array-contains"?new KI(e,n):r==="in"?new GI(e,n):r==="not-in"?new QI(e,n):r==="array-contains-any"?new YI(e,n):new st(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new HI(e,n):new WI(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Xo(r,this.value)):r!==null&&On(this.value)===On(r)&&this.matchesComparison(Xo(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends ty{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new pr(e,r)}matches(e){return ry(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ry(t){return t.op==="and"}function ny(t){return zI(t)&&ry(t)}function zI(t){for(const e of t.filters)if(e instanceof pr)return!1;return!0}function bu(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+Zo(t.value);if(ny(t))return t.filters.map(e=>bu(e)).join(",");{const e=t.filters.map(r=>bu(r)).join(",");return`${t.op}(${e})`}}function oy(t,e){return t instanceof st?function(n,o){return o instanceof st&&n.op===o.op&&n.field.isEqual(o.field)&&Nr(n.value,o.value)}(t,e):t instanceof pr?function(n,o){return o instanceof pr&&n.op===o.op&&n.filters.length===o.filters.length?n.filters.reduce((s,i,c)=>s&&oy(i,o.filters[c]),!0):!1}(t,e):void de(19439)}function sy(t){return t instanceof st?function(r){return`${r.field.canonicalString()} ${r.op} ${Zo(r.value)}`}(t):t instanceof pr?function(r){return r.op.toString()+" {"+r.getFilters().map(sy).join(" ,")+"}"}(t):"Filter"}class qI extends st{constructor(e,r,n){super(e,r,n),this.key=ie.fromName(n.referenceValue)}matches(e){const r=ie.comparator(e.key,this.key);return this.matchesComparison(r)}}class HI extends st{constructor(e,r){super(e,"in",r),this.keys=iy("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class WI extends st{constructor(e,r){super(e,"not-in",r),this.keys=iy("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function iy(t,e){return(e.arrayValue?.values||[]).map(r=>ie.fromName(r.referenceValue))}class KI extends st{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return yd(r)&&yi(r.arrayValue,this.value)}}class GI extends st{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&yi(this.value.arrayValue,r)}}class QI extends st{constructor(e,r){super(e,"not-in",r)}matches(e){if(yi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!yi(this.value.arrayValue,r)}}class YI extends st{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!yd(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>yi(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,r=null,n=[],o=[],s=null,i=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=o,this.limit=s,this.startAt=i,this.endAt=c,this.Te=null}}function Tp(t,e=null,r=[],n=[],o=null,s=null,i=null){return new JI(t,e,r,n,o,s,i)}function bd(t){const e=pe(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>bu(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),Nc(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Zo(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Zo(n)).join(",")),e.Te=r}return e.Te}function vd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!jI(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!oy(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ep(t.startAt,e.startAt)&&Ep(t.endAt,e.endAt)}function vu(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,r=null,n=[],o=[],s=null,i="F",c=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=o,this.limit=s,this.limitType=i,this.startAt=c,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XI(t,e,r,n,o,s,i,c){return new ds(t,e,r,n,o,s,i,c)}function _d(t){return new ds(t)}function Cp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ay(t){return t.collectionGroup!==null}function ei(t){const e=pe(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let c=new dt(wt.comparator);return i.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(c=c.add(u.field))})}),c})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new bi(s,n))}),r.has(wt.keyField().canonicalString())||e.Ie.push(new bi(wt.keyField(),n))}return e.Ie}function kr(t){const e=pe(t);return e.Ee||(e.Ee=ZI(e,ei(t))),e.Ee}function ZI(t,e){if(t.limitType==="F")return Tp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const s=o.dir==="desc"?"asc":"desc";return new bi(o.field,s)});const r=t.endAt?new Za(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Za(t.startAt.position,t.startAt.inclusive):null;return Tp(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function _u(t,e){const r=t.filters.concat([e]);return new ds(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function ec(t,e,r){return new ds(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Vc(t,e){return vd(kr(t),kr(e))&&t.limitType===e.limitType}function cy(t){return`${bd(kr(t))}|lt:${t.limitType}`}function So(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(o=>sy(o)).join(", ")}]`),Nc(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(o=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(o)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(o=>Zo(o)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(o=>Zo(o)).join(",")),`Target(${n})`}(kr(t))}; limitType=${t.limitType})`}function $c(t,e){return e.isFoundDocument()&&function(n,o){const s=o.key.path;return n.collectionGroup!==null?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):ie.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,o){for(const s of ei(n))if(!s.field.isKeyField()&&o.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,o){for(const s of n.filters)if(!s.matches(o))return!1;return!0}(t,e)&&function(n,o){return!(n.startAt&&!function(i,c,l){const u=wp(i,c,l);return i.inclusive?u<=0:u<0}(n.startAt,ei(n),o)||n.endAt&&!function(i,c,l){const u=wp(i,c,l);return i.inclusive?u>=0:u>0}(n.endAt,ei(n),o))}(t,e)}function e1(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ly(t){return(e,r)=>{let n=!1;for(const o of ei(t)){const s=t1(o,e,r);if(s!==0)return s;n=n||o.field.isKeyField()}return 0}}function t1(t,e,r){const n=t.field.isKeyField()?ie.comparator(e.key,r.key):function(s,i,c){const l=i.data.field(s),u=c.data.field(s);return l!==null&&u!==null?Xo(l,u):de(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return de(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[o,s]of n)if(this.equalsFn(o,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),o=this.inner[n];if(o===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],e))return void(o[s]=[e,r]);o.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let o=0;o<n.length;o++)if(this.equalsFn(n[o][0],e))return n.length===1?delete this.inner[r]:n.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ln(this.inner,(r,n)=>{for(const[o,s]of n)e(o,s)})}isEmpty(){return W0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=new Ye(ie.comparator);function Xr(){return r1}const uy=new Ye(ie.comparator);function Ms(...t){let e=uy;for(const r of t)e=e.insert(r.key,r);return e}function dy(t){let e=uy;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Jn(){return ti()}function hy(){return ti()}function ti(){return new go(t=>t.toString(),(t,e)=>t.isEqual(e))}const n1=new Ye(ie.comparator),o1=new dt(ie.comparator);function Ie(...t){let e=o1;for(const r of t)e=e.add(r);return e}const s1=new dt(ke);function i1(){return s1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ya(e)?"-0":e}}function fy(t){return{integerValue:""+t}}function a1(t,e){return DI(e)?fy(e):wd(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(){this._=void 0}}function c1(t,e,r){return t instanceof vi?function(o,s){const i={fields:{[Q0]:{stringValue:G0},[J0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return s&&md(s)&&(s=Dc(s)),s&&(i.fields[Y0]=s),{mapValue:i}}(r,e):t instanceof _i?gy(t,e):t instanceof wi?my(t,e):function(o,s){const i=py(o,s),c=kp(i)+kp(o.Ae);return yu(i)&&yu(o.Ae)?fy(c):wd(o.serializer,c)}(t,e)}function l1(t,e,r){return t instanceof _i?gy(t,e):t instanceof wi?my(t,e):r}function py(t,e){return t instanceof tc?function(n){return yu(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class vi extends Lc{}class _i extends Lc{constructor(e){super(),this.elements=e}}function gy(t,e){const r=yy(e);for(const n of t.elements)r.some(o=>Nr(o,n))||r.push(n);return{arrayValue:{values:r}}}class wi extends Lc{constructor(e){super(),this.elements=e}}function my(t,e){let r=yy(e);for(const n of t.elements)r=r.filter(o=>!Nr(o,n));return{arrayValue:{values:r}}}class tc extends Lc{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function kp(t){return rt(t.integerValue||t.doubleValue)}function yy(t){return yd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,r){this.field=e,this.transform=r}}function d1(t,e){return t.field.isEqual(e.field)&&function(n,o){return n instanceof _i&&o instanceof _i||n instanceof wi&&o instanceof wi?Jo(n.elements,o.elements,Nr):n instanceof tc&&o instanceof tc?Nr(n.Ae,o.Ae):n instanceof vi&&o instanceof vi}(t.transform,e.transform)}class h1{constructor(e,r){this.version=e,this.transformResults=r}}class or{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Aa(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bc{}function by(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ed(t.key,or.none()):new Bi(t.key,t.data,or.none());{const r=t.data,n=Ht.empty();let o=new dt(wt.comparator);for(let s of e.fields)if(!o.has(s)){let i=r.field(s);i===null&&s.length>1&&(s=s.popLast(),i=r.field(s)),i===null?n.delete(s):n.set(s,i),o=o.add(s)}return new Bn(t.key,n,new er(o.toArray()),or.none())}}function f1(t,e,r){t instanceof Bi?function(o,s,i){const c=o.value.clone(),l=Rp(o.fieldTransforms,s,i.transformResults);c.setAll(l),s.convertToFoundDocument(i.version,c).setHasCommittedMutations()}(t,e,r):t instanceof Bn?function(o,s,i){if(!Aa(o.precondition,s))return void s.convertToUnknownDocument(i.version);const c=Rp(o.fieldTransforms,s,i.transformResults),l=s.data;l.setAll(vy(o)),l.setAll(c),s.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(t,e,r):function(o,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,r)}function ri(t,e,r,n){return t instanceof Bi?function(s,i,c,l){if(!Aa(s.precondition,i))return c;const u=s.value.clone(),d=Sp(s.fieldTransforms,l,i);return u.setAll(d),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Bn?function(s,i,c,l){if(!Aa(s.precondition,i))return c;const u=Sp(s.fieldTransforms,l,i),d=i.data;return d.setAll(vy(s)),d.setAll(u),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(s,i,c){return Aa(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):c}(t,e,r)}function p1(t,e){let r=null;for(const n of t.fieldTransforms){const o=e.data.field(n.field),s=py(n.transform,o||null);s!=null&&(r===null&&(r=Ht.empty()),r.set(n.field,s))}return r||null}function Ip(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,o){return n===void 0&&o===void 0||!(!n||!o)&&Jo(n,o,(s,i)=>d1(s,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bi extends Bc{constructor(e,r,n,o=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Bn extends Bc{constructor(e,r,n,o,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=o,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function vy(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function Rp(t,e,r){const n=new Map;$e(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let o=0;o<r.length;o++){const s=t[o],i=s.transform,c=e.data.field(s.field);n.set(s.field,l1(i,c,r[o]))}return n}function Sp(t,e,r){const n=new Map;for(const o of t){const s=o.transform,i=r.data.field(o.field);n.set(o.field,c1(s,i,e))}return n}class Ed extends Bc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g1 extends Bc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,r,n,o){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=o}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const s=this.mutations[o];s.key.isEqual(e.key)&&f1(s,e,n[o])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=ri(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=ri(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=hy();return this.mutations.forEach(o=>{const s=e.get(o.key),i=s.overlayedDocument;let c=this.applyToLocalView(i,s.mutatedFields);c=r.has(o.key)?null:c;const l=by(i,c);l!==null&&n.set(o.key,l),i.isValidDocument()||i.convertToNoDocument(he.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,(r,n)=>Ip(r,n))&&Jo(this.baseMutations,e.baseMutations,(r,n)=>Ip(r,n))}}class Td{constructor(e,r,n,o){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=o}static from(e,r,n){$e(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let o=function(){return n1}();const s=e.mutations;for(let i=0;i<s.length;i++)o=o.insert(s[i].key,n[i].version);return new Td(e,r,n,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,Se;function v1(t){switch(t){case L.OK:return de(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return de(15467,{code:t})}}function _y(t){if(t===void 0)return Jr("GRPC error has no .code"),L.UNKNOWN;switch(t){case ot.OK:return L.OK;case ot.CANCELLED:return L.CANCELLED;case ot.UNKNOWN:return L.UNKNOWN;case ot.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case ot.INTERNAL:return L.INTERNAL;case ot.UNAVAILABLE:return L.UNAVAILABLE;case ot.UNAUTHENTICATED:return L.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case ot.NOT_FOUND:return L.NOT_FOUND;case ot.ALREADY_EXISTS:return L.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return L.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case ot.ABORTED:return L.ABORTED;case ot.OUT_OF_RANGE:return L.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return L.UNIMPLEMENTED;case ot.DATA_LOSS:return L.DATA_LOSS;default:return de(39323,{code:t})}}(Se=ot||(ot={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new kn([4294967295,4294967295],0);function Ap(t){const e=_1().encode(t),r=new V0;return r.update(e),new Uint8Array(r.digest())}function Pp(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),o=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new kn([r,n],0),new kn([o,s],0)]}class Cd{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Fs(`Invalid padding: ${r}`);if(n<0)throw new Fs(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Fs(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Fs(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=kn.fromNumber(this.ge)}ye(e,r,n){let o=e.add(r.multiply(kn.fromNumber(n)));return o.compare(w1)===1&&(o=new kn([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=Ap(e),[n,o]=Pp(r);for(let s=0;s<this.hashCount;s++){const i=this.ye(n,o,s);if(!this.we(i))return!1}return!0}static create(e,r,n){const o=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new Cd(s,o,r);return n.forEach(c=>i.insert(c)),i}insert(e){if(this.ge===0)return;const r=Ap(e),[n,o]=Pp(r);for(let s=0;s<this.hashCount;s++){const i=this.ye(n,o,s);this.Se(i)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Fs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,r,n,o,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=o,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const o=new Map;return o.set(e,Mi.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Mc(he.min(),o,new Ye(ke),Xr(),Ie())}}class Mi{constructor(e,r,n,o,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=o,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Mi(n,r,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,r,n,o){this.be=e,this.removedTargetIds=r,this.key=n,this.De=o}}class wy{constructor(e,r){this.targetId=e,this.Ce=r}}class Ey{constructor(e,r,n=Et.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=o}}class xp{constructor(){this.ve=0,this.Fe=Op(),this.Me=Et.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ie(),r=Ie(),n=Ie();return this.Fe.forEach((o,s)=>{switch(s){case 0:e=e.add(o);break;case 2:r=r.add(o);break;case 1:n=n.add(o);break;default:de(38017,{changeType:s})}}),new Mi(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=Op()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class E1{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xr(),this.Je=fa(),this.He=fa(),this.Ye=new Ye(ke)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:de(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,o)=>{this.rt(o)&&r(o)})}st(e){const r=e.targetId,n=e.Ce.count,o=this.ot(r);if(o){const s=o.target;if(vu(s))if(n===0){const i=new ie(s.path);this.et(r,i,xt.newNoDocument(i,he.min()))}else $e(n===1,20013,{expectedCount:n});else{const i=this._t(r);if(i!==n){const c=this.ut(e),l=c?this.ct(c,e,i):1;if(l!==0){this.it(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:o=0},hashCount:s=0}=r;let i,c;try{i=xn(n).toUint8Array()}catch(l){if(l instanceof K0)return Yo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new Cd(i,o,s)}catch(l){return Yo(l instanceof Fs?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.ge===0?null:c}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let o=0;return n.forEach(s=>{const i=this.Ge.ht(),c=`projects/${i.projectId}/databases/${i.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(r,s,null),o++)}),o}Tt(e){const r=new Map;this.ze.forEach((s,i)=>{const c=this.ot(i);if(c){if(s.current&&vu(c.target)){const l=new ie(c.target.path);this.It(l).has(i)||this.Et(i,l)||this.et(i,l,xt.newNoDocument(l,e))}s.Be&&(r.set(i,s.ke()),s.qe())}});let n=Ie();this.He.forEach((s,i)=>{let c=!0;i.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(s))}),this.je.forEach((s,i)=>i.setReadTime(e));const o=new Mc(e,r,this.Ye,this.je,n);return this.je=Xr(),this.Je=fa(),this.He=fa(),this.Ye=new Ye(ke),o}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,r)?o.Qe(r,1):o.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new xp,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new dt(ke),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new dt(ke),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||te("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xp),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function fa(){return new Ye(ie.comparator)}function Op(){return new Ye(ie.comparator)}const T1={asc:"ASCENDING",desc:"DESCENDING"},C1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k1={and:"AND",or:"OR"};class I1{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function wu(t,e){return t.useProto3Json||Nc(e)?e:{value:e}}function rc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ty(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function R1(t,e){return rc(t,e.toTimestamp())}function Ir(t){return $e(!!t,49232),he.fromTimestamp(function(r){const n=Pn(r);return new We(n.seconds,n.nanos)}(t))}function kd(t,e){return Eu(t,e).canonicalString()}function Eu(t,e){const r=function(o){return new Ue(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?r:r.child(e)}function Cy(t){const e=Ue.fromString(t);return $e(Ay(e),10190,{key:e.toString()}),e}function Tu(t,e){return kd(t.databaseId,e.path)}function Ll(t,e){const r=Cy(e);if(r.get(1)!==t.databaseId.projectId)throw new X(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new X(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ie(Iy(r))}function ky(t,e){return kd(t.databaseId,e)}function S1(t){const e=Cy(t);return e.length===4?Ue.emptyPath():Iy(e)}function Cu(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Iy(t){return $e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Np(t,e,r){return{name:Tu(t,e),fields:r.value.mapValue.fields}}function A1(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:de(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?($e(d===void 0||typeof d=="string",58123),Et.fromBase64String(d||"")):($e(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Et.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,c=i&&function(u){const d=u.code===void 0?L.UNKNOWN:_y(u.code);return new X(d,u.message||"")}(i);r=new Ey(n,o,s,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const o=Ll(t,n.document.name),s=Ir(n.document.updateTime),i=n.document.createTime?Ir(n.document.createTime):he.min(),c=new Ht({mapValue:{fields:n.document.fields}}),l=xt.newFoundDocument(o,s,i,c),u=n.targetIds||[],d=n.removedTargetIds||[];r=new Pa(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const o=Ll(t,n.document),s=n.readTime?Ir(n.readTime):he.min(),i=xt.newNoDocument(o,s),c=n.removedTargetIds||[];r=new Pa([],c,i.key,i)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const o=Ll(t,n.document),s=n.removedTargetIds||[];r=new Pa([],s,o,null)}else{if(!("filter"in e))return de(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:o=0,unchangedNames:s}=n,i=new b1(o,s),c=n.targetId;r=new wy(c,i)}}return r}function P1(t,e){let r;if(e instanceof Bi)r={update:Np(t,e.key,e.value)};else if(e instanceof Ed)r={delete:Tu(t,e.key)};else if(e instanceof Bn)r={update:Np(t,e.key,e.data),updateMask:M1(e.fieldMask)};else{if(!(e instanceof g1))return de(16599,{Vt:e.type});r={verify:Tu(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,i){const c=i.transform;if(c instanceof vi)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof _i)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof wi)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof tc)return{fieldPath:i.field.canonicalString(),increment:c.Ae};throw de(20930,{transform:i.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(o,s){return s.updateTime!==void 0?{updateTime:R1(o,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:de(27497)}(t,e.precondition)),r}function x1(t,e){return t&&t.length>0?($e(e!==void 0,14353),t.map(r=>function(o,s){let i=o.updateTime?Ir(o.updateTime):Ir(s);return i.isEqual(he.min())&&(i=Ir(s)),new h1(i,o.transformResults||[])}(r,e))):[]}function O1(t,e){return{documents:[ky(t,e.path)]}}function N1(t,e){const r={structuredQuery:{}},n=e.path;let o;e.collectionGroup!==null?(o=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=ky(t,o);const s=function(u){if(u.length!==0)return Sy(pr.create(u,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const i=function(u){if(u.length!==0)return u.map(d=>function(g){return{field:Ao(g.field),direction:$1(g.dir)}}(d))}(e.orderBy);i&&(r.structuredQuery.orderBy=i);const c=wu(t,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:r,parent:o}}function D1(t){let e=S1(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let o=null;if(n>0){$e(n===1,65062);const d=r.from[0];d.allDescendants?o=d.collectionId:e=e.child(d.collectionId)}let s=[];r.where&&(s=function(f){const g=Ry(f);return g instanceof pr&&ny(g)?g.getFilters():[g]}(r.where));let i=[];r.orderBy&&(i=function(f){return f.map(g=>function(_){return new bi(Po(_.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(g))}(r.orderBy));let c=null;r.limit&&(c=function(f){let g;return g=typeof f=="object"?f.value:f,Nc(g)?null:g}(r.limit));let l=null;r.startAt&&(l=function(f){const g=!!f.before,m=f.values||[];return new Za(m,g)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const g=!f.before,m=f.values||[];return new Za(m,g)}(r.endAt)),XI(e,o,i,s,c,"F",l,u)}function V1(t,e){const r=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:o})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function Ry(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Po(r.unaryFilter.field);return st.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=Po(r.unaryFilter.field);return st.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Po(r.unaryFilter.field);return st.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Po(r.unaryFilter.field);return st.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}}(t):t.fieldFilter!==void 0?function(r){return st.create(Po(r.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return pr.create(r.compositeFilter.filters.map(n=>Ry(n)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return de(1026)}}(r.compositeFilter.op))}(t):de(30097,{filter:t})}function $1(t){return T1[t]}function L1(t){return C1[t]}function B1(t){return k1[t]}function Ao(t){return{fieldPath:t.canonicalString()}}function Po(t){return wt.fromServerFormat(t.fieldPath)}function Sy(t){return t instanceof st?function(r){if(r.op==="=="){if(_p(r.value))return{unaryFilter:{field:Ao(r.field),op:"IS_NAN"}};if(vp(r.value))return{unaryFilter:{field:Ao(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(_p(r.value))return{unaryFilter:{field:Ao(r.field),op:"IS_NOT_NAN"}};if(vp(r.value))return{unaryFilter:{field:Ao(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(r.field),op:L1(r.op),value:r.value}}}(t):t instanceof pr?function(r){const n=r.getFilters().map(o=>Sy(o));return n.length===1?n[0]:{compositeFilter:{op:B1(r.op),filters:n}}}(t):de(54877,{filter:t})}function M1(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Ay(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,r,n,o,s=he.min(),i=he.min(),c=Et.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new vn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new vn(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.yt=e}}function U1(t){const e=D1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ec(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.Cn=new z1}addToCollectionParentIndex(e,r){return this.Cn.add(r),z.resolve()}getCollectionParents(e,r){return z.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return z.resolve()}deleteFieldIndex(e,r){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,r){return z.resolve()}getDocumentsMatchingTarget(e,r){return z.resolve(null)}getIndexType(e,r){return z.resolve(0)}getFieldIndexes(e,r){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,r){return z.resolve(An.min())}getMinOffsetFromCollectionGroup(e,r){return z.resolve(An.min())}updateCollectionGroup(e,r,n){return z.resolve()}updateIndexEntries(e,r){return z.resolve()}}class z1{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),o=this.index[r]||new dt(Ue.comparator),s=!o.has(n);return this.index[r]=o.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),o=this.index[r];return o&&o.has(n)}getEntries(e){return(this.index[e]||new dt(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Py=41943040;class zt{static withCacheSize(e){return new zt(e,zt.DEFAULT_COLLECTION_PERCENTILE,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zt.DEFAULT_COLLECTION_PERCENTILE=10,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zt.DEFAULT=new zt(Py,zt.DEFAULT_COLLECTION_PERCENTILE,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zt.DISABLED=new zt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new es(0)}static cr(){return new es(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="LruGarbageCollector",q1=1048576;function $p([t,e],[r,n]){const o=ke(t,r);return o===0?ke(e,n):o}class H1{constructor(e){this.Ir=e,this.buffer=new dt($p),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();$p(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class W1{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){te(Vp,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){us(r)?te(Vp,"Ignoring IndexedDB error during garbage collection: ",r):await ls(r)}await this.Vr(3e5)})}}class K1{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return z.resolve(Oc.ce);const n=new H1(r);return this.mr.forEachTarget(e,o=>n.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>n.Ar(o))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(Dp)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dp):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,o,s,i,c,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),o=this.params.maximumSequenceNumbersToCollect):o=f,i=Date.now(),this.nthSequenceNumber(e,o))).next(f=>(n=f,c=Date.now(),this.removeTargets(e,n,r))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(u=Date.now(),Ro()<=Ce.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${i-d}ms
	Determined least recently used ${o} in `+(c-i)+`ms
	Removed ${s} targets in `+(l-c)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:f})))}}function G1(t,e){return new K1(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(){this.changes=new go(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?z.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,r,n,o){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=o}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(o=>(n=o,this.remoteDocumentCache.getEntry(e,r))).next(o=>(n!==null&&ri(n.mutation,o,er.empty(),We.now()),o))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ie()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ie()){const o=Jn();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,n).next(s=>{let i=Ms();return s.forEach((c,l)=>{i=i.insert(c,l.overlayedDocument)}),i}))}getOverlayedDocuments(e,r){const n=Jn();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ie()))}populateOverlays(e,r,n){const o=[];return n.forEach(s=>{r.has(s)||o.push(s)}),this.documentOverlayCache.getOverlays(e,o).next(s=>{s.forEach((i,c)=>{r.set(i,c)})})}computeViews(e,r,n,o){let s=Xr();const i=ti(),c=function(){return ti()}();return r.forEach((l,u)=>{const d=n.get(u.key);o.has(u.key)&&(d===void 0||d.mutation instanceof Bn)?s=s.insert(u.key,u):d!==void 0?(i.set(u.key,d.mutation.getFieldMask()),ri(d.mutation,u,d.mutation.getFieldMask(),We.now())):i.set(u.key,er.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>i.set(u,d)),r.forEach((u,d)=>c.set(u,new Y1(d,i.get(u)??null))),c))}recalculateAndSaveOverlays(e,r){const n=ti();let o=new Ye((i,c)=>i-c),s=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(i=>{for(const c of i)c.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let d=n.get(l)||er.empty();d=c.applyToLocalView(u,d),n.set(l,d);const f=(o.get(c.batchId)||Ie()).add(l);o=o.insert(c.batchId,f)})}).next(()=>{const i=[],c=o.getReverseIterator();for(;c.hasNext();){const l=c.getNext(),u=l.key,d=l.value,f=hy();d.forEach(g=>{if(!s.has(g)){const m=by(r.get(g),n.get(g));m!==null&&f.set(g,m),s=s.add(g)}}),i.push(this.documentOverlayCache.saveOverlays(e,u,f))}return z.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,o){return function(i){return ie.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):ay(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,o):this.getDocumentsMatchingCollectionQuery(e,r,n,o)}getNextDocuments(e,r,n,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,o).next(s=>{const i=o-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,o-s.size):z.resolve(Jn());let c=pi,l=s;return i.next(u=>z.forEach(u,(d,f)=>(c<f.largestBatchId&&(c=f.largestBatchId),s.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{l=l.insert(d,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ie())).next(d=>({batchId:c,changes:dy(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ie(r)).next(n=>{let o=Ms();return n.isFoundDocument()&&(o=o.insert(n.key,n)),o})}getDocumentsMatchingCollectionGroupQuery(e,r,n,o){const s=r.collectionGroup;let i=Ms();return this.indexManager.getCollectionParents(e,s).next(c=>z.forEach(c,l=>{const u=function(f,g){return new ds(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n,o).next(d=>{d.forEach((f,g)=>{i=i.insert(f,g)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,r,n,o){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,o))).next(i=>{s.forEach((l,u)=>{const d=u.getKey();i.get(d)===null&&(i=i.insert(d,xt.newInvalidDocument(d)))});let c=Ms();return i.forEach((l,u)=>{const d=s.get(l);d!==void 0&&ri(d.mutation,u,er.empty(),We.now()),$c(r,u)&&(c=c.insert(l,u))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return z.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(o){return{id:o.id,version:o.version,createTime:Ir(o.createTime)}}(r)),z.resolve()}getNamedQuery(e,r){return z.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(o){return{name:o.name,query:U1(o.bundledQuery),readTime:Ir(o.readTime)}}(r)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.overlays=new Ye(ie.comparator),this.qr=new Map}getOverlay(e,r){return z.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Jn();return z.forEach(r,o=>this.getOverlay(e,o).next(s=>{s!==null&&n.set(o,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((o,s)=>{this.St(e,r,s)}),z.resolve()}removeOverlaysForBatchId(e,r,n){const o=this.qr.get(n);return o!==void 0&&(o.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(n)),z.resolve()}getOverlaysForCollection(e,r,n){const o=Jn(),s=r.length+1,i=new ie(r.child("")),c=this.overlays.getIteratorFrom(i);for(;c.hasNext();){const l=c.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>n&&o.set(l.getKey(),l)}return z.resolve(o)}getOverlaysForCollectionGroup(e,r,n,o){let s=new Ye((u,d)=>u-d);const i=this.overlays.getIterator();for(;i.hasNext();){const u=i.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=s.get(u.largestBatchId);d===null&&(d=Jn(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const c=Jn(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>c.set(u,d)),!(c.size()>=o)););return z.resolve(c)}St(e,r,n){const o=this.overlays.get(n.key);if(o!==null){const i=this.qr.get(o.largestBatchId).delete(n.key);this.qr.set(o.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new y1(r,n));let s=this.qr.get(r);s===void 0&&(s=Ie(),this.qr.set(r,s)),this.qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this.Qr=new dt(gt.$r),this.Ur=new dt(gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new gt(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new gt(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new ie(new Ue([])),n=new gt(r,e),o=new gt(r,e+1),s=[];return this.Ur.forEachInRange([n,o],i=>{this.Gr(i),s.push(i.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new ie(new Ue([])),n=new gt(r,e),o=new gt(r,e+1);let s=Ie();return this.Ur.forEachInRange([n,o],i=>{s=s.add(i.key)}),s}containsKey(e){const r=new gt(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class gt{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return ie.comparator(e.key,r.key)||ke(e.Yr,r.Yr)}static Kr(e,r){return ke(e.Yr,r.Yr)||ie.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new dt(gt.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,o){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new m1(s,r,n,o);this.mutationQueue.push(i);for(const c of o)this.Zr=this.Zr.add(new gt(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return z.resolve(i)}lookupMutationBatch(e,r){return z.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,o=this.ei(n),s=o<0?0:o;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?gd:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new gt(r,0),o=new gt(r,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,o],i=>{const c=this.Xr(i.Yr);s.push(c)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new dt(ke);return r.forEach(o=>{const s=new gt(o,0),i=new gt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,i],c=>{n=n.add(c.Yr)})}),z.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,o=n.length+1;let s=n;ie.isDocumentKey(s)||(s=s.child(""));const i=new gt(new ie(s),0);let c=new dt(ke);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===o&&(c=c.add(l.Yr)),!0)},i),z.resolve(this.ti(c))}ti(e){const r=[];return e.forEach(n=>{const o=this.Xr(n);o!==null&&r.push(o)}),r}removeMutationBatch(e,r){$e(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return z.forEach(r.mutations,o=>{const s=new gt(o.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new gt(r,0),o=this.Zr.firstAfterOrEqual(n);return z.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.ri=e,this.docs=function(){return new Ye(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,o=this.docs.get(n),s=o?o.size:0,i=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return z.resolve(n?n.document.mutableCopy():xt.newInvalidDocument(r))}getEntries(e,r){let n=Xr();return r.forEach(o=>{const s=this.docs.get(o);n=n.insert(o,s?s.document.mutableCopy():xt.newInvalidDocument(o))}),z.resolve(n)}getDocumentsMatchingQuery(e,r,n,o){let s=Xr();const i=r.path,c=new ie(i.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!i.isPrefixOf(u.path))break;u.path.length>i.length+1||PI(AI(d),n)<=0||(o.has(d.key)||$c(r,d))&&(s=s.insert(d.key,d.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,r,n,o){de(9500)}ii(e,r){return z.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new nR(this)}getSize(e){return z.resolve(this.size)}}class nR extends Q1{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,o)=>{o.isValidDocument()?r.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(n)}),z.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.persistence=e,this.si=new go(r=>bd(r),vd),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.oi=0,this._i=new Id,this.targetCount=0,this.ai=es.ur()}forEachTarget(e,r){return this.si.forEach((n,o)=>r(o)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),z.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new es(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,z.resolve()}updateTargetData(e,r){return this.Pr(r),z.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,r,n){let o=0;const s=[];return this.si.forEach((i,c)=>{c.sequenceNumber<=r&&n.get(c.targetId)===null&&(this.si.delete(i),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),z.waitFor(s).next(()=>o)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return z.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),z.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const o=this.persistence.referenceDelegate,s=[];return o&&r.forEach(i=>{s.push(o.markPotentiallyOrphaned(e,i))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),z.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return z.resolve(n)}containsKey(e,r){return z.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,r){this.ui={},this.overlays={},this.ci=new Oc(0),this.li=!1,this.li=!0,this.hi=new eR,this.referenceDelegate=e(this),this.Pi=new oR(this),this.indexManager=new j1,this.remoteDocumentCache=function(o){return new rR(o)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new F1(r),this.Ii=new X1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Z1,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new tR(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){te("MemoryPersistence","Starting transaction:",e);const o=new sR(this.ci.next());return this.referenceDelegate.Ei(),n(o).next(s=>this.referenceDelegate.di(o).next(()=>s)).toPromise().then(s=>(o.raiseOnCommittedEvent(),s))}Ai(e,r){return z.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class sR extends OI{constructor(e){super(),this.currentSequenceNumber=e}}class Rd{constructor(e){this.persistence=e,this.Ri=new Id,this.Vi=null}static mi(e){return new Rd(e)}get fi(){if(this.Vi)return this.Vi;throw de(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),z.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),z.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),z.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(o=>this.fi.add(o.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(o=>{o.forEach(s=>this.fi.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,n=>{const o=ie.fromPath(n);return this.gi(e,o).next(s=>{s||r.removeEntry(o,he.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return z.or([()=>z.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class nc{constructor(e,r){this.persistence=e,this.pi=new go(n=>VI(n.path),(n,o)=>n.isEqual(o)),this.garbageCollector=G1(this,r)}static mi(e,r){return new nc(e,r)}Ei(){}di(e){return z.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(o=>n+o))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return z.forEach(this.pi,(n,o)=>this.br(e,n,o).next(s=>s?z.resolve():r(o)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const o=this.persistence.getRemoteDocumentCache(),s=o.newChangeBuffer();return o.ii(e,i=>this.br(e,i,r).next(c=>{c||(n++,s.removeEntry(i,he.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Ra(e.data.value)),r}br(e,r,n){return z.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const o=this.pi.get(r);return z.resolve(o!==void 0&&o>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,r,n,o){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=o}static As(e,r){let n=Ie(),o=Ie();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}return new Sd(e,r.fromCache,n,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return YC()?8:NI($t())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,o){const s={result:null};return this.ys(e,r).next(i=>{s.result=i}).next(()=>{if(!s.result)return this.ws(e,r,o,n).next(i=>{s.result=i})}).next(()=>{if(s.result)return;const i=new iR;return this.Ss(e,r,i).next(c=>{if(s.result=c,this.Vs)return this.bs(e,r,i,c.size)})}).next(()=>s.result)}bs(e,r,n,o){return n.documentReadCount<this.fs?(Ro()<=Ce.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",So(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(Ro()<=Ce.DEBUG&&te("QueryEngine","Query:",So(r),"scans",n.documentReadCount,"local documents and returns",o,"documents as results."),n.documentReadCount>this.gs*o?(Ro()<=Ce.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",So(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(r))):z.resolve())}ys(e,r){if(Cp(r))return z.resolve(null);let n=kr(r);return this.indexManager.getIndexType(e,n).next(o=>o===0?null:(r.limit!==null&&o===1&&(r=ec(r,null,"F"),n=kr(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const i=Ie(...s);return this.ps.getDocuments(e,i).next(c=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.Ds(r,c);return this.Cs(r,u,i,l.readTime)?this.ys(e,ec(r,null,"F")):this.vs(e,u,r,l)}))})))}ws(e,r,n,o){return Cp(r)||o.isEqual(he.min())?z.resolve(null):this.ps.getDocuments(e,n).next(s=>{const i=this.Ds(r,s);return this.Cs(r,i,n,o)?z.resolve(null):(Ro()<=Ce.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),So(r)),this.vs(e,i,r,SI(o,pi)).next(c=>c))})}Ds(e,r){let n=new dt(ly(e));return r.forEach((o,s)=>{$c(e,s)&&(n=n.add(s))}),n}Cs(e,r,n,o){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)}Ss(e,r,n){return Ro()<=Ce.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",So(r)),this.ps.getDocumentsMatchingQuery(e,r,An.min(),n)}vs(e,r,n,o){return this.ps.getDocumentsMatchingQuery(e,n,o).next(s=>(r.forEach(i=>{s=s.insert(i.key,i)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="LocalStore",cR=3e8;class lR{constructor(e,r,n,o){this.persistence=e,this.Fs=r,this.serializer=o,this.Ms=new Ye(ke),this.xs=new go(s=>bd(s),vd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J1(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function uR(t,e,r,n){return new lR(t,e,r,n)}async function Oy(t,e){const r=pe(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let o;return r.mutationQueue.getAllMutationBatches(n).next(s=>(o=s,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const i=[],c=[];let l=Ie();for(const u of o){i.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){c.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return r.localDocuments.getDocuments(n,l).next(u=>({Ls:u,removedBatchIds:i,addedBatchIds:c}))})})}function dR(t,e){const r=pe(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const o=e.batch.keys(),s=r.Ns.newChangeBuffer({trackRemovals:!0});return function(c,l,u,d){const f=u.batch,g=f.keys();let m=z.resolve();return g.forEach(_=>{m=m.next(()=>d.getEntry(l,_)).next(S=>{const k=u.docVersions.get(_);$e(k!==null,48541),S.version.compareTo(k)<0&&(f.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),d.addEntry(S)))})}),m.next(()=>c.mutationQueue.removeMutationBatch(l,f))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,o,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let l=Ie();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(l=l.add(c.batch.mutations[u].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,o))})}function Ny(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function hR(t,e){const r=pe(t),n=e.snapshotVersion;let o=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const i=r.Ns.newChangeBuffer({trackRemovals:!0});o=r.Ms;const c=[];e.targetChanges.forEach((d,f)=>{const g=o.get(f);if(!g)return;c.push(r.Pi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>r.Pi.addMatchingKeys(s,d.addedDocuments,f)));let m=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Et.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,n)),o=o.insert(f,m),function(S,k,V){return S.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=cR?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(g,m,d)&&c.push(r.Pi.updateTargetData(s,m))});let l=Xr(),u=Ie();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(s,d))}),c.push(fR(s,i,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!n.isEqual(he.min())){const d=r.Pi.getLastRemoteSnapshotVersion(s).next(f=>r.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n));c.push(d)}return z.waitFor(c).next(()=>i.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(r.Ms=o,s))}function fR(t,e,r){let n=Ie(),o=Ie();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let i=Xr();return r.forEach((c,l)=>{const u=s.get(c);l.isFoundDocument()!==u.isFoundDocument()&&(o=o.add(c)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(c,l.readTime),i=i.insert(c,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),i=i.insert(c,l)):te(Ad,"Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",l.version)}),{ks:i,qs:o}})}function pR(t,e){const r=pe(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=gd),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function gR(t,e){const r=pe(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let o;return r.Pi.getTargetData(n,e).next(s=>s?(o=s,z.resolve(o)):r.Pi.allocateTargetId(n).next(i=>(o=new vn(e,i,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,o).next(()=>o))))}).then(n=>{const o=r.Ms.get(n.targetId);return(o===null||n.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function ku(t,e,r){const n=pe(t),o=n.Ms.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,i=>n.persistence.referenceDelegate.removeTarget(i,o))}catch(i){if(!us(i))throw i;te(Ad,`Failed to update sequence numbers for target ${e}: ${i}`)}n.Ms=n.Ms.remove(e),n.xs.delete(o.target)}function Lp(t,e,r){const n=pe(t);let o=he.min(),s=Ie();return n.persistence.runTransaction("Execute query","readwrite",i=>function(l,u,d){const f=pe(l),g=f.xs.get(d);return g!==void 0?z.resolve(f.Ms.get(g)):f.Pi.getTargetData(u,d)}(n,i,kr(e)).next(c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(i,c.targetId).next(l=>{s=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(i,e,r?o:he.min(),r?s:Ie())).next(c=>(mR(n,e1(e),c),{documents:c,Qs:s})))}function mR(t,e,r){let n=t.Os.get(e)||he.min();r.forEach((o,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.Os.set(e,n)}class Bp{constructor(){this.activeTargetIds=i1()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yR{constructor(){this.Mo=new Bp,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Bp,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="ConnectivityMonitor";class Fp{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){te(Mp,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){te(Mp,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pa=null;function Iu(){return pa===null?pa=function(){return 268435456+Math.round(2147483648*Math.random())}():pa++,"0x"+pa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl="RestConnection",vR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _R{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${o}`,this.Wo=this.databaseId.database===Ja?`project_id=${n}`:`project_id=${n}&database_id=${o}`}Go(e,r,n,o,s){const i=Iu(),c=this.zo(e,r.toUriEncodedString());te(Bl,`Sending RPC '${e}' ${i}:`,c,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,o,s);const{host:u}=new URL(c),d=is(u);return this.Jo(e,c,l,n,d).then(f=>(te(Bl,`Received RPC '${e}' ${i}: `,f),f),f=>{throw Yo(Bl,`RPC '${e}' ${i} failed with error: `,f,"url: ",c,"request:",n),f})}Ho(e,r,n,o,s,i){return this.Go(e,r,n,o,s)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>e[s]=o),n&&n.headers.forEach((o,s)=>e[s]=o)}zo(e,r){const n=vR[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt="WebChannelConnection";class ER extends _R{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,o,s){const i=Iu();return new Promise((c,l)=>{const u=new $0;u.setWithCredentials(!0),u.listenOnce(L0.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ia.NO_ERROR:const f=u.getResponseJson();te(kt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),c(f);break;case Ia.TIMEOUT:te(kt,`RPC '${e}' ${i} timed out`),l(new X(L.DEADLINE_EXCEEDED,"Request time out"));break;case Ia.HTTP_ERROR:const g=u.getStatus();if(te(kt,`RPC '${e}' ${i} failed with status:`,g,"response text:",u.getResponseText()),g>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m?.error;if(_&&_.status&&_.message){const S=function(V){const $=V.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf($)>=0?$:L.UNKNOWN}(_.status);l(new X(S,_.message))}else l(new X(L.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new X(L.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:i,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{te(kt,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(o);te(kt,`RPC '${e}' ${i} sending request:`,o),u.send(r,"POST",d,n,15)})}T_(e,r,n){const o=Iu(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=F0(),c=M0(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const d=s.join("");te(kt,`Creating RPC '${e}' stream ${o}: ${d}`,l);const f=i.createWebChannel(d,l);this.I_(f);let g=!1,m=!1;const _=new wR({Yo:k=>{m?te(kt,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(g||(te(kt,`Opening RPC '${e}' stream ${o} transport.`),f.open(),g=!0),te(kt,`RPC '${e}' stream ${o} sending:`,k),f.send(k))},Zo:()=>f.close()}),S=(k,V,$)=>{k.listen(V,U=>{try{$(U)}catch(W){setTimeout(()=>{throw W},0)}})};return S(f,Bs.EventType.OPEN,()=>{m||(te(kt,`RPC '${e}' stream ${o} transport opened.`),_.o_())}),S(f,Bs.EventType.CLOSE,()=>{m||(m=!0,te(kt,`RPC '${e}' stream ${o} transport closed`),_.a_(),this.E_(f))}),S(f,Bs.EventType.ERROR,k=>{m||(m=!0,Yo(kt,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),_.a_(new X(L.UNAVAILABLE,"The operation could not be completed")))}),S(f,Bs.EventType.MESSAGE,k=>{if(!m){const V=k.data[0];$e(!!V,16349);const $=V,U=$?.error||$[0]?.error;if(U){te(kt,`RPC '${e}' stream ${o} received error:`,U);const W=U.status;let re=function(b){const E=ot[b];if(E!==void 0)return _y(E)}(W),ee=U.message;re===void 0&&(re=L.INTERNAL,ee="Unknown error status: "+W+" with message "+U.message),m=!0,_.a_(new X(re,ee)),f.close()}else te(kt,`RPC '${e}' stream ${o} received:`,V),_.u_(V)}}),S(c,B0.STAT_EVENT,k=>{k.stat===pu.PROXY?te(kt,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===pu.NOPROXY&&te(kt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{_.__()},0),_}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function Ml(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t){return new I1(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,r,n=1e3,o=1.5,s=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=o,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),o=Math.max(0,r-n);o>0&&te("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="PersistentStream";class Vy{constructor(e,r,n,o,s,i,c,l){this.Mi=e,this.S_=n,this.b_=o,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Dy(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===L.RESOURCE_EXHAUSTED?(Jr(r.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,o])=>{this.D_===r&&this.G_(n,o)},n=>{e(()=>{const o=new X(L.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(o)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{n(()=>this.z_(o))}),this.stream.onMessage(o=>{n(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return te(Up,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(te(Up,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TR extends Vy{constructor(e,r,n,o,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,o,i),this.serializer=s}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=A1(this.serializer,e),n=function(s){if(!("targetChange"in s))return he.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?he.min():i.readTime?Ir(i.readTime):he.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=Cu(this.serializer),r.addTarget=function(s,i){let c;const l=i.target;if(c=vu(l)?{documents:O1(s,l)}:{query:N1(s,l).ft},c.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){c.resumeToken=Ty(s,i.resumeToken);const u=wu(s,i.expectedCount);u!==null&&(c.expectedCount=u)}else if(i.snapshotVersion.compareTo(he.min())>0){c.readTime=rc(s,i.snapshotVersion.toTimestamp());const u=wu(s,i.expectedCount);u!==null&&(c.expectedCount=u)}return c}(this.serializer,e);const n=V1(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=Cu(this.serializer),r.removeTarget=e,this.q_(r)}}class CR extends Vy{constructor(e,r,n,o,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,o,i),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=x1(e.writeResults,e.commitTime),n=Ir(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=Cu(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>P1(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{}class IR extends kR{constructor(e,r,n,o){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new X(L.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Go(e,Eu(r,n),o,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(L.UNKNOWN,s.toString())})}Ho(e,r,n,o,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,c])=>this.connection.Ho(e,Eu(r,n),o,i,c,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(L.UNKNOWN,i.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class RR{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Jr(r),this.aa=!1):te("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="RemoteStore";class SR{constructor(e,r,n,o,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(i=>{n.enqueueAndForget(async()=>{mo(this)&&(te(uo,"Restarting streams for network reachability change."),await async function(l){const u=pe(l);u.Ea.add(4),await Fi(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Uc(u)}(this))})}),this.Ra=new RR(n,o)}}async function Uc(t){if(mo(t))for(const e of t.da)await e(!0)}async function Fi(t){for(const e of t.da)await e(!1)}function $y(t,e){const r=pe(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),Nd(r)?Od(r):hs(r).O_()&&xd(r,e))}function Pd(t,e){const r=pe(t),n=hs(r);r.Ia.delete(e),n.O_()&&Ly(r,e),r.Ia.size===0&&(n.O_()?n.L_():mo(r)&&r.Ra.set("Unknown"))}function xd(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}hs(t).Y_(e)}function Ly(t,e){t.Va.Ue(e),hs(t).Z_(e)}function Od(t){t.Va=new E1({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),hs(t).start(),t.Ra.ua()}function Nd(t){return mo(t)&&!hs(t).x_()&&t.Ia.size>0}function mo(t){return pe(t).Ea.size===0}function By(t){t.Va=void 0}async function AR(t){t.Ra.set("Online")}async function PR(t){t.Ia.forEach((e,r)=>{xd(t,e)})}async function xR(t,e){By(t),Nd(t)?(t.Ra.ha(e),Od(t)):t.Ra.set("Unknown")}async function OR(t,e,r){if(t.Ra.set("Online"),e instanceof Ey&&e.state===2&&e.cause)try{await async function(o,s){const i=s.cause;for(const c of s.targetIds)o.Ia.has(c)&&(await o.remoteSyncer.rejectListen(c,i),o.Ia.delete(c),o.Va.removeTarget(c))}(t,e)}catch(n){te(uo,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await oc(t,n)}else if(e instanceof Pa?t.Va.Ze(e):e instanceof wy?t.Va.st(e):t.Va.tt(e),!r.isEqual(he.min()))try{const n=await Ny(t.localStore);r.compareTo(n)>=0&&await function(s,i){const c=s.Va.Tt(i);return c.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ia.get(u);d&&s.Ia.set(u,d.withResumeToken(l.resumeToken,i))}}),c.targetMismatches.forEach((l,u)=>{const d=s.Ia.get(l);if(!d)return;s.Ia.set(l,d.withResumeToken(Et.EMPTY_BYTE_STRING,d.snapshotVersion)),Ly(s,l);const f=new vn(d.target,l,u,d.sequenceNumber);xd(s,f)}),s.remoteSyncer.applyRemoteEvent(c)}(t,r)}catch(n){te(uo,"Failed to raise snapshot:",n),await oc(t,n)}}async function oc(t,e,r){if(!us(e))throw e;t.Ea.add(1),await Fi(t),t.Ra.set("Offline"),r||(r=()=>Ny(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te(uo,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await Uc(t)})}function My(t,e){return e().catch(r=>oc(t,r,e))}async function jc(t){const e=pe(t),r=Nn(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gd;for(;NR(e);)try{const o=await pR(e.localStore,n);if(o===null){e.Ta.length===0&&r.L_();break}n=o.batchId,DR(e,o)}catch(o){await oc(e,o)}Fy(e)&&Uy(e)}function NR(t){return mo(t)&&t.Ta.length<10}function DR(t,e){t.Ta.push(e);const r=Nn(t);r.O_()&&r.X_&&r.ea(e.mutations)}function Fy(t){return mo(t)&&!Nn(t).x_()&&t.Ta.length>0}function Uy(t){Nn(t).start()}async function VR(t){Nn(t).ra()}async function $R(t){const e=Nn(t);for(const r of t.Ta)e.ea(r.mutations)}async function LR(t,e,r){const n=t.Ta.shift(),o=Td.from(n,e,r);await My(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await jc(t)}async function BR(t,e){e&&Nn(t).X_&&await async function(n,o){if(function(i){return v1(i)&&i!==L.ABORTED}(o.code)){const s=n.Ta.shift();Nn(n).B_(),await My(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,o)),await jc(n)}}(t,e),Fy(t)&&Uy(t)}async function jp(t,e){const r=pe(t);r.asyncQueue.verifyOperationInProgress(),te(uo,"RemoteStore received new credentials");const n=mo(r);r.Ea.add(3),await Fi(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Uc(r)}async function MR(t,e){const r=pe(t);e?(r.Ea.delete(2),await Uc(r)):e||(r.Ea.add(2),await Fi(r),r.Ra.set("Unknown"))}function hs(t){return t.ma||(t.ma=function(r,n,o){const s=pe(r);return s.sa(),new TR(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(t.datastore,t.asyncQueue,{Xo:AR.bind(null,t),t_:PR.bind(null,t),r_:xR.bind(null,t),H_:OR.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Nd(t)?Od(t):t.Ra.set("Unknown")):(await t.ma.stop(),By(t))})),t.ma}function Nn(t){return t.fa||(t.fa=function(r,n,o){const s=pe(r);return s.sa(),new CR(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:VR.bind(null,t),r_:BR.bind(null,t),ta:$R.bind(null,t),na:LR.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await jc(t)):(await t.fa.stop(),t.Ta.length>0&&(te(uo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,r,n,o,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=o,this.removalCallback=s,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,o,s){const i=Date.now()+n,c=new Dd(e,r,i,o,s);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vd(t,e){if(Jr("AsyncQueue",`${e}: ${t}`),us(t))return new X(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(e){return new Mo(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||ie.comparator(r.key,n.key):(r,n)=>ie.comparator(r.key,n.key),this.keyedMap=Ms(),this.sortedSet=new Ye(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,s=n.getNext().key;if(!o.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Mo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(){this.ga=new Ye(ie.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):de(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class ts{constructor(e,r,n,o,s,i,c,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=o,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,o,s){const i=[];return r.forEach(c=>{i.push({type:0,doc:c})}),new ts(e,r,Mo.emptySet(r),i,n,o,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==n[o].type||!r[o].doc.isEqual(n[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class UR{constructor(){this.queries=qp(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const o=pe(r),s=o.queries;o.queries=qp(),s.forEach((i,c)=>{for(const l of c.Sa)l.onError(n)})})(this,new X(L.ABORTED,"Firestore shutting down"))}}function qp(){return new go(t=>cy(t),Vc)}async function jy(t,e){const r=pe(t);let n=3;const o=e.query;let s=r.queries.get(o);s?!s.ba()&&e.Da()&&(n=2):(s=new FR,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await r.onListen(o,!0);break;case 1:s.wa=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(i){const c=Vd(i,`Initialization of query '${So(e.query)}' failed`);return void e.onError(c)}r.queries.set(o,s),s.Sa.push(e),e.va(r.onlineState),s.wa&&e.Fa(s.wa)&&$d(r)}async function zy(t,e){const r=pe(t),n=e.query;let o=3;const s=r.queries.get(n);if(s){const i=s.Sa.indexOf(e);i>=0&&(s.Sa.splice(i,1),s.Sa.length===0?o=e.Da()?0:1:!s.ba()&&e.Da()&&(o=2))}switch(o){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function jR(t,e){const r=pe(t);let n=!1;for(const o of e){const s=o.query,i=r.queries.get(s);if(i){for(const c of i.Sa)c.Fa(o)&&(n=!0);i.wa=o}}n&&$d(r)}function zR(t,e,r){const n=pe(t),o=n.queries.get(e);if(o)for(const s of o.Sa)s.onError(r);n.queries.delete(e)}function $d(t){t.Ca.forEach(e=>{e.next()})}var Ru,Hp;(Hp=Ru||(Ru={})).Ma="default",Hp.Cache="cache";class qy{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const o of e.docChanges)o.type!==3&&n.push(o);e=new ts(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=ts.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ru.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this.key=e}}class Wy{constructor(e){this.key=e}}class qR{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ie(),this.mutatedKeys=Ie(),this.eu=ly(e),this.tu=new Mo(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new zp,o=r?r.tu:this.tu;let s=r?r.mutatedKeys:this.mutatedKeys,i=o,c=!1;const l=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,u=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((d,f)=>{const g=o.get(d),m=$c(this.query,f)?f:null,_=!!g&&this.mutatedKeys.has(g.key),S=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let k=!1;g&&m?g.data.isEqual(m.data)?_!==S&&(n.track({type:3,doc:m}),k=!0):this.su(g,m)||(n.track({type:2,doc:m}),k=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(c=!0)):!g&&m?(n.track({type:0,doc:m}),k=!0):g&&!m&&(n.track({type:1,doc:g}),k=!0,(l||u)&&(c=!0)),k&&(m?(i=i.add(m),s=S?s.add(d):s.delete(d)):(i=i.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const d=this.query.limitType==="F"?i.last():i.first();i=i.delete(d.key),s=s.delete(d.key),n.track({type:1,doc:d})}return{tu:i,iu:n,Cs:c,mutatedKeys:s}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,o){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((d,f)=>function(m,_){const S=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Rt:k})}};return S(m)-S(_)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(n),o=o??!1;const c=r&&!o?this._u():[],l=this.Xa.size===0&&this.current&&!o?1:0,u=l!==this.Za;return this.Za=l,i.length!==0||u?{snapshot:new ts(this.query,e.tu,s,i,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ie(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new Wy(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new Hy(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=Ie();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return ts.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ld="SyncEngine";class HR{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class WR{constructor(e){this.key=e,this.hu=!1}}class KR{constructor(e,r,n,o,s,i){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new go(c=>cy(c),Vc),this.Iu=new Map,this.Eu=new Set,this.du=new Ye(ie.comparator),this.Au=new Map,this.Ru=new Id,this.Vu={},this.mu=new Map,this.fu=es.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GR(t,e,r=!0){const n=Xy(t);let o;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),o=s.view.lu()):o=await Ky(n,e,r,!0),o}async function QR(t,e){const r=Xy(t);await Ky(r,e,!0,!1)}async function Ky(t,e,r,n){const o=await gR(t.localStore,kr(e)),s=o.targetId,i=t.sharedClientState.addLocalQueryTarget(s,r);let c;return n&&(c=await YR(t,e,s,i==="current",o.resumeToken)),t.isPrimaryClient&&r&&$y(t.remoteStore,o),c}async function YR(t,e,r,n,o){t.pu=(f,g,m)=>async function(S,k,V,$){let U=k.view.ru(V);U.Cs&&(U=await Lp(S.localStore,k.query,!1).then(({documents:v})=>k.view.ru(v,U)));const W=$&&$.targetChanges.get(k.targetId),re=$&&$.targetMismatches.get(k.targetId)!=null,ee=k.view.applyChanges(U,S.isPrimaryClient,W,re);return Kp(S,k.targetId,ee.au),ee.snapshot}(t,f,g,m);const s=await Lp(t.localStore,e,!0),i=new qR(e,s.Qs),c=i.ru(s.documents),l=Mi.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",o),u=i.applyChanges(c,t.isPrimaryClient,l);Kp(t,r,u.au);const d=new HR(e,r,i);return t.Tu.set(e,d),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function JR(t,e,r){const n=pe(t),o=n.Tu.get(e),s=n.Iu.get(o.targetId);if(s.length>1)return n.Iu.set(o.targetId,s.filter(i=>!Vc(i,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||await ku(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),r&&Pd(n.remoteStore,o.targetId),Su(n,o.targetId)}).catch(ls)):(Su(n,o.targetId),await ku(n.localStore,o.targetId,!0))}async function XR(t,e){const r=pe(t),n=r.Tu.get(e),o=r.Iu.get(n.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Pd(r.remoteStore,n.targetId))}async function ZR(t,e,r){const n=iS(t);try{const o=await function(i,c){const l=pe(i),u=We.now(),d=c.reduce((m,_)=>m.add(_.key),Ie());let f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let _=Xr(),S=Ie();return l.Ns.getEntries(m,d).next(k=>{_=k,_.forEach((V,$)=>{$.isValidDocument()||(S=S.add(V))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,_)).next(k=>{f=k;const V=[];for(const $ of c){const U=p1($,f.get($.key).overlayedDocument);U!=null&&V.push(new Bn($.key,U,ey(U.value.mapValue),or.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,V,c)}).next(k=>{g=k;const V=k.applyToLocalDocumentSet(f,S);return l.documentOverlayCache.saveOverlays(m,k.batchId,V)})}).then(()=>({batchId:g.batchId,changes:dy(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(o.batchId),function(i,c,l){let u=i.Vu[i.currentUser.toKey()];u||(u=new Ye(ke)),u=u.insert(c,l),i.Vu[i.currentUser.toKey()]=u}(n,o.batchId,r),await Ui(n,o.changes),await jc(n.remoteStore)}catch(o){const s=Vd(o,"Failed to persist write");r.reject(s)}}async function Gy(t,e){const r=pe(t);try{const n=await hR(r.localStore,e);e.targetChanges.forEach((o,s)=>{const i=r.Au.get(s);i&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?i.hu=!0:o.modifiedDocuments.size>0?$e(i.hu,14607):o.removedDocuments.size>0&&($e(i.hu,42227),i.hu=!1))}),await Ui(r,n,e)}catch(n){await ls(n)}}function Wp(t,e,r){const n=pe(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const o=[];n.Tu.forEach((s,i)=>{const c=i.view.va(e);c.snapshot&&o.push(c.snapshot)}),function(i,c){const l=pe(i);l.onlineState=c;let u=!1;l.queries.forEach((d,f)=>{for(const g of f.Sa)g.va(c)&&(u=!0)}),u&&$d(l)}(n.eventManager,e),o.length&&n.Pu.H_(o),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function eS(t,e,r){const n=pe(t);n.sharedClientState.updateQueryState(e,"rejected",r);const o=n.Au.get(e),s=o&&o.key;if(s){let i=new Ye(ie.comparator);i=i.insert(s,xt.newNoDocument(s,he.min()));const c=Ie().add(s),l=new Mc(he.min(),new Map,new Ye(ke),i,c);await Gy(n,l),n.du=n.du.remove(s),n.Au.delete(e),Bd(n)}else await ku(n.localStore,e,!1).then(()=>Su(n,e,r)).catch(ls)}async function tS(t,e){const r=pe(t),n=e.batch.batchId;try{const o=await dR(r.localStore,e);Yy(r,n,null),Qy(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Ui(r,o)}catch(o){await ls(o)}}async function rS(t,e,r){const n=pe(t);try{const o=await function(i,c){const l=pe(i);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,c).next(f=>($e(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(n.localStore,e);Yy(n,e,r),Qy(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Ui(n,o)}catch(o){await ls(o)}}function Qy(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function Yy(t,e,r){const n=pe(t);let o=n.Vu[n.currentUser.toKey()];if(o){const s=o.get(e);s&&(r?s.reject(r):s.resolve(),o=o.remove(e)),n.Vu[n.currentUser.toKey()]=o}}function Su(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||Jy(t,n)})}function Jy(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(Pd(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),Bd(t))}function Kp(t,e,r){for(const n of r)n instanceof Hy?(t.Ru.addReference(n.key,e),nS(t,n)):n instanceof Wy?(te(Ld,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||Jy(t,n.key)):de(19791,{wu:n})}function nS(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(te(Ld,"New document in limbo: "+r),t.Eu.add(n),Bd(t))}function Bd(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new ie(Ue.fromString(e)),n=t.fu.next();t.Au.set(n,new WR(r)),t.du=t.du.insert(r,n),$y(t.remoteStore,new vn(kr(_d(r.path)),n,"TargetPurposeLimboResolution",Oc.ce))}}async function Ui(t,e,r){const n=pe(t),o=[],s=[],i=[];n.Tu.isEmpty()||(n.Tu.forEach((c,l)=>{i.push(n.pu(l,e,r).then(u=>{if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:r?.targetChanges.get(l.targetId)?.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){o.push(u);const d=Sd.As(l.targetId,u);s.push(d)}}))}),await Promise.all(i),n.Pu.H_(o),await async function(l,u){const d=pe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(u,g=>z.forEach(g.Es,m=>d.persistence.referenceDelegate.addReference(f,g.targetId,m)).next(()=>z.forEach(g.ds,m=>d.persistence.referenceDelegate.removeReference(f,g.targetId,m)))))}catch(f){if(!us(f))throw f;te(Ad,"Failed to update sequence numbers: "+f)}for(const f of u){const g=f.targetId;if(!f.fromCache){const m=d.Ms.get(g),_=m.snapshotVersion,S=m.withLastLimboFreeSnapshotVersion(_);d.Ms=d.Ms.insert(g,S)}}}(n.localStore,s))}async function oS(t,e){const r=pe(t);if(!r.currentUser.isEqual(e)){te(Ld,"User change. New user:",e.toKey());const n=await Oy(r.localStore,e);r.currentUser=e,function(s,i){s.mu.forEach(c=>{c.forEach(l=>{l.reject(new X(L.CANCELLED,i))})}),s.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ui(r,n.Ls)}}function sS(t,e){const r=pe(t),n=r.Au.get(e);if(n&&n.hu)return Ie().add(n.key);{let o=Ie();const s=r.Iu.get(e);if(!s)return o;for(const i of s){const c=r.Tu.get(i);o=o.unionWith(c.view.nu)}return o}}function Xy(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eS.bind(null,e),e.Pu.H_=jR.bind(null,e.eventManager),e.Pu.yu=zR.bind(null,e.eventManager),e}function iS(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rS.bind(null,e),e}class sc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return uR(this.persistence,new aR,e.initialUser,this.serializer)}Cu(e){return new xy(Rd.mi,this.serializer)}Du(e){return new yR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sc.provider={build:()=>new sc};class aS extends sc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){$e(this.persistence.referenceDelegate instanceof nc,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new W1(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?zt.withCacheSize(this.cacheSizeBytes):zt.DEFAULT;return new xy(n=>nc.mi(n,r),this.serializer)}}class Au{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Wp(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=oS.bind(null,this.syncEngine),await MR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UR}()}createDatastore(e){const r=Fc(e.databaseInfo.databaseId),n=function(s){return new ER(s)}(e.databaseInfo);return function(s,i,c,l){return new IR(s,i,c,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,o,s,i,c){return new SR(n,o,s,i,c)}(this.localStore,this.datastore,e.asyncQueue,r=>Wp(this.syncEngine,r,0),function(){return Fp.v()?new Fp:new bR}())}createSyncEngine(e,r){return function(o,s,i,c,l,u,d){const f=new KR(o,s,i,c,l,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await async function(r){const n=pe(r);te(uo,"RemoteStore shutting down."),n.Ea.add(5),await Fi(n),n.Aa.shutdown(),n.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Au.provider={build:()=>new Au};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="FirestoreClient";class cS{constructor(e,r,n,o,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=o,this.user=St.UNAUTHENTICATED,this.clientId=pd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async i=>{te(Dn,"Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(n,i=>(te(Dn,"Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Vd(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Fl(t,e){t.asyncQueue.verifyOperationInProgress(),te(Dn,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async o=>{n.isEqual(o)||(await Oy(e.localStore,o),n=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Gp(t,e){t.asyncQueue.verifyOperationInProgress();const r=await lS(t);te(Dn,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>jp(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,o)=>jp(e.remoteStore,o)),t._onlineComponents=e}async function lS(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te(Dn,"Using user provided OfflineComponentProvider");try{await Fl(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(o){return o.name==="FirebaseError"?o.code===L.FAILED_PRECONDITION||o.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(r))throw r;Yo("Error using user provided cache. Falling back to memory cache: "+r),await Fl(t,new sc)}}else te(Dn,"Using default OfflineComponentProvider"),await Fl(t,new aS(void 0));return t._offlineComponents}async function eb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te(Dn,"Using user provided OnlineComponentProvider"),await Gp(t,t._uninitializedComponentsProvider._online)):(te(Dn,"Using default OnlineComponentProvider"),await Gp(t,new Au))),t._onlineComponents}function uS(t){return eb(t).then(e=>e.syncEngine)}async function tb(t){const e=await eb(t),r=e.eventManager;return r.onListen=GR.bind(null,e.syncEngine),r.onUnlisten=JR.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=QR.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=XR.bind(null,e.syncEngine),r}function dS(t,e,r={}){const n=new Wr;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,c,l,u){const d=new Zy({next:g=>{d.Nu(),i.enqueueAndForget(()=>zy(s,f));const m=g.docs.has(c);!m&&g.fromCache?u.reject(new X(L.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&l&&l.source==="server"?u.reject(new X(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new qy(_d(c.path),d,{includeMetadataChanges:!0,qa:!0});return jy(s,f)}(await tb(t),t.asyncQueue,e,r,n)),n.promise}function hS(t,e,r={}){const n=new Wr;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,c,l,u){const d=new Zy({next:g=>{d.Nu(),i.enqueueAndForget(()=>zy(s,f)),g.fromCache&&l.source==="server"?u.reject(new X(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new qy(c,d,{includeMetadataChanges:!0,qa:!0});return jy(s,f)}(await tb(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="firestore.googleapis.com",Yp=!0;class Jp{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new X(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nb,this.ssl=Yp}else this.host=e.host,this.ssl=e.ssl??Yp;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Py;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<q1)throw new X(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}II("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rb(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new X(L.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new X(L.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new X(L.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,o){return n.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zc{constructor(e,r,n,o){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new mI;switch(n.type){case"firstParty":return new _I(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new X(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=Qp.get(r);n&&(te("ComponentProvider","Removing Datastore"),Qp.delete(r),n.terminate())}(this),Promise.resolve()}}function fS(t,e,r,n={}){t=fr(t,zc);const o=is(e),s=t._getSettings(),i={...s,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${r}`;o&&(R0(`https://${c}`),S0("Firestore",!0)),s.host!==nb&&s.host!==c&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:c,ssl:o,emulatorOptions:n};if(!ao(l,i)&&(t._setSettings(l),n.mockUserToken)){let u,d;if(typeof n.mockUserToken=="string")u=n.mockUserToken,d=St.MOCK_USER;else{u=UC(n.mockUserToken,t._app?.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new X(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new St(f)}t._authCredentials=new yI(new j0(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Mn(this.firestore,e,this._query)}}class nt{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new In(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nt(this.firestore,e,this._key)}toJSON(){return{type:nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Li(r,nt._jsonSchema))return new nt(e,n||null,new ie(Ue.fromString(r.referencePath)))}}nt._jsonSchemaVersion="firestore/documentReference/1.0",nt._jsonSchema={type:it("string",nt._jsonSchemaVersion),referencePath:it("string")};class In extends Mn{constructor(e,r,n){super(e,r,_d(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nt(this.firestore,null,new ie(e))}withConverter(e){return new In(this.firestore,e,this._path)}}function pS(t,e,...r){if(t=mt(t),z0("collection","path",e),t instanceof zc){const n=Ue.fromString(e,...r);return up(n),new In(t,null,n)}{if(!(t instanceof nt||t instanceof In))throw new X(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ue.fromString(e,...r));return up(n),new In(t.firestore,null,n)}}function rs(t,e,...r){if(t=mt(t),arguments.length===1&&(e=pd.newId()),z0("doc","path",e),t instanceof zc){const n=Ue.fromString(e,...r);return lp(n),new nt(t,null,new ie(n))}{if(!(t instanceof nt||t instanceof In))throw new X(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ue.fromString(e,...r));return lp(n),new nt(t.firestore,t instanceof In?t.converter:null,new ie(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="AsyncQueue";class Zp{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Dy(this,"async_queue_retry"),this._c=()=>{const n=Ml();n&&te(Xp,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=Ml();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=Ml();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new Wr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!us(e))throw e;te(Xp,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Jr("INTERNAL UNHANDLED ERROR: ",eg(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const o=Dd.createAndSchedule(this,e,r,n,s=>this.hc(s));return this.tc.push(o),o}uc(){this.nc&&de(47125,{Pc:eg(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function eg(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class yo extends zc{constructor(e,r,n,o){super(e,r,n,o),this.type="firestore",this._queue=new Zp,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zp(e),this._firestoreClient=void 0,await e}}}function gS(t,e){const r=typeof t=="object"?t:O0(),n=typeof t=="string"?t:Ja,o=hd(r,"firestore").getImmediate({identifier:n});if(!o._initialized){const s=MC("firestore");s&&fS(o,...s)}return o}function Md(t){if(t._terminated)throw new X(L.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||mS(t),t._firestoreClient}function mS(t){const e=t._freezeSettings(),r=function(o,s,i,c){return new BI(o,s,i,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,rb(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new cS(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(o){const s=o?._online.build();return{_offline:o?._offline.build(s),_online:s}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rr(Et.fromBase64String(e))}catch(r){throw new X(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new rr(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:rr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Li(e,rr._jsonSchema))return rr.fromBase64String(e.bytes)}}rr._jsonSchemaVersion="firestore/bytes/1.0",rr._jsonSchema={type:it("string",rr._jsonSchemaVersion),bytes:it("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new X(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new X(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new X(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rr._jsonSchemaVersion}}static fromJSON(e){if(Li(e,Rr._jsonSchema))return new Rr(e.latitude,e.longitude)}}Rr._jsonSchemaVersion="firestore/geoPoint/1.0",Rr._jsonSchema={type:it("string",Rr._jsonSchemaVersion),latitude:it("number"),longitude:it("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,o){if(n.length!==o.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==o[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Li(e,Sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new Sr(e.vectorValues);throw new X(L.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Sr._jsonSchemaVersion="firestore/vectorValue/1.0",Sr._jsonSchema={type:it("string",Sr._jsonSchemaVersion),vectorValues:it("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=/^__.*__$/;class bS{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Bn(e,this.data,this.fieldMask,r,this.fieldTransforms):new Bi(e,this.data,r,this.fieldTransforms)}}class ob{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Bn(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function sb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{Ac:t})}}class Fd{constructor(e,r,n,o,s,i){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=o,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Fd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ic(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(sb(this.Ac)&&yS.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vS{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Fc(e)}Cc(e,r,n,o=!1){return new Fd({Ac:e,methodName:r,Dc:n,path:wt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wc(t){const e=t._freezeSettings(),r=Fc(t._databaseId);return new vS(t._databaseId,!!e.ignoreUndefinedProperties,r)}function ib(t,e,r,n,o,s={}){const i=t.Cc(s.merge||s.mergeFields?2:0,e,r,o);jd("Data must be an object, but it was:",i,n);const c=ab(n,i);let l,u;if(s.merge)l=new er(i.fieldMask),u=i.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const g=Pu(e,f,r);if(!i.contains(g))throw new X(L.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);lb(d,g)||d.push(g)}l=new er(d),u=i.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=i.fieldTransforms;return new bS(new Ht(c),l,u)}class Kc extends Hc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kc}}class Ud extends Hc{_toFieldTransform(e){return new u1(e.path,new vi)}isEqual(e){return e instanceof Ud}}function _S(t,e,r,n){const o=t.Cc(1,e,r);jd("Data must be an object, but it was:",o,n);const s=[],i=Ht.empty();Ln(n,(l,u)=>{const d=zd(e,l,r);u=mt(u);const f=o.yc(d);if(u instanceof Kc)s.push(d);else{const g=ji(u,f);g!=null&&(s.push(d),i.set(d,g))}});const c=new er(s);return new ob(i,c,o.fieldTransforms)}function wS(t,e,r,n,o,s){const i=t.Cc(1,e,r),c=[Pu(e,n,r)],l=[o];if(s.length%2!=0)throw new X(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)c.push(Pu(e,s[g])),l.push(s[g+1]);const u=[],d=Ht.empty();for(let g=c.length-1;g>=0;--g)if(!lb(u,c[g])){const m=c[g];let _=l[g];_=mt(_);const S=i.yc(m);if(_ instanceof Kc)u.push(m);else{const k=ji(_,S);k!=null&&(u.push(m),d.set(m,k))}}const f=new er(u);return new ob(d,f,i.fieldTransforms)}function ES(t,e,r,n=!1){return ji(r,t.Cc(n?4:3,e))}function ji(t,e){if(cb(t=mt(t)))return jd("Unsupported field value:",e,t),ab(t,e);if(t instanceof Hc)return function(n,o){if(!sb(o.Ac))throw o.Sc(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(o);s&&o.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,o){const s=[];let i=0;for(const c of n){let l=ji(c,o.wc(i));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),i++}return{arrayValue:{values:s}}}(t,e)}return function(n,o){if((n=mt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return a1(o.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=We.fromDate(n);return{timestampValue:rc(o.serializer,s)}}if(n instanceof We){const s=new We(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:rc(o.serializer,s)}}if(n instanceof Rr)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof rr)return{bytesValue:Ty(o.serializer,n._byteString)};if(n instanceof nt){const s=o.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw o.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:kd(n.firestore._databaseId||o.databaseId,n._key.path)}}if(n instanceof Sr)return function(i,c){return{mapValue:{fields:{[X0]:{stringValue:Z0},[Xa]:{arrayValue:{values:i.toArray().map(u=>{if(typeof u!="number")throw c.Sc("VectorValues must only contain numeric values.");return wd(c.serializer,u)})}}}}}}(n,o);throw o.Sc(`Unsupported field value: ${xc(n)}`)}(t,e)}function ab(t,e){const r={};return W0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ln(t,(n,o)=>{const s=ji(o,e.mc(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function cb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof We||t instanceof Rr||t instanceof rr||t instanceof nt||t instanceof Hc||t instanceof Sr)}function jd(t,e,r){if(!cb(r)||!q0(r)){const n=xc(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function Pu(t,e,r){if((e=mt(e))instanceof qc)return e._internalPath;if(typeof e=="string")return zd(t,e);throw ic("Field path arguments must be of type string or ",t,!1,void 0,r)}const TS=new RegExp("[~\\*/\\[\\]]");function zd(t,e,r){if(e.search(TS)>=0)throw ic(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new qc(...e.split("."))._internalPath}catch{throw ic(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function ic(t,e,r,n,o){const s=n&&!n.isEmpty(),i=o!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(s||i)&&(l+=" (found",s&&(l+=` in field ${n}`),i&&(l+=` in document ${o}`),l+=")"),new X(L.INVALID_ARGUMENT,c+t+l)}function lb(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,r,n,o,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=o,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Gc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class CS extends ub{data(){return super.data()}}function Gc(t,e){return typeof e=="string"?zd(t,e):e instanceof qc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qd{}class Hd extends qd{}function IS(t,e,...r){let n=[];e instanceof qd&&n.push(e),n=n.concat(r),function(s){const i=s.filter(l=>l instanceof Wd).length,c=s.filter(l=>l instanceof Qc).length;if(i>1||i>0&&c>0)throw new X(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)t=o._apply(t);return t}class Qc extends Hd{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Qc(e,r,n)}_apply(e){const r=this._parse(e);return db(e._query,r),new Mn(e.firestore,e.converter,_u(e._query,r))}_parse(e){const r=Wc(e.firestore);return function(s,i,c,l,u,d,f){let g;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new X(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){rg(f,d);const _=[];for(const S of f)_.push(tg(l,s,S));g={arrayValue:{values:_}}}else g=tg(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||rg(f,d),g=ES(c,i,f,d==="in"||d==="not-in");return st.create(u,d,g)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function RS(t,e,r){const n=e,o=Gc("where",t);return Qc._create(o,n,r)}class Wd extends qd{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Wd(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:pr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(o,s){let i=o;const c=s.getFlattenedFilters();for(const l of c)db(i,l),i=_u(i,l)}(e._query,r),new Mn(e.firestore,e.converter,_u(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kd extends Hd{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Kd(e,r)}_apply(e){const r=function(o,s,i){if(o.startAt!==null)throw new X(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new X(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bi(s,i)}(e._query,this._field,this._direction);return new Mn(e.firestore,e.converter,function(o,s){const i=o.explicitOrderBy.concat([s]);return new ds(o.path,o.collectionGroup,i,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}function SS(t,e="asc"){const r=e,n=Gc("orderBy",t);return Kd._create(n,r)}class Gd extends Hd{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new Gd(e,r,n)}_apply(e){return new Mn(e.firestore,e.converter,ec(e._query,this._limit,this._limitType))}}function AS(t){return RI("limit",t),Gd._create("limit",t,"F")}function tg(t,e,r){if(typeof(r=mt(r))=="string"){if(r==="")throw new X(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ay(e)&&r.indexOf("/")!==-1)throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Ue.fromString(r));if(!ie.isDocumentKey(n))throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return bp(t,new ie(n))}if(r instanceof nt)return bp(t,r._key);throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xc(r)}.`)}function rg(t,e){if(!Array.isArray(t)||t.length===0)throw new X(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function db(t,e){const r=function(o,s){for(const i of o)for(const c of i.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new X(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class PS{convertValue(e,r="none"){switch(On(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(xn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Ln(e,(o,s)=>{n[o]=this.convertValue(s,r)}),n}convertVectorValue(e){const r=e.fields?.[Xa].arrayValue?.values?.map(n=>rt(n.doubleValue));return new Sr(r)}convertGeoPoint(e){return new Rr(rt(e.latitude),rt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Dc(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(gi(e));default:return null}}convertTimestamp(e){const r=Pn(e);return new We(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Ue.fromString(e);$e(Ay(n),9688,{name:e});const o=new mi(n.get(1),n.get(3)),s=new ie(n.popFirst(5));return o.isEqual(r)||Jr(`Document ${s} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t,e,r){let n;return n=t?t.toFirestore(e):e,n}class Us{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class to extends ub{constructor(e,r,n,o,s,i){super(e,r,n,o,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new xa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Gc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(L.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=to._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}to._jsonSchemaVersion="firestore/documentSnapshot/1.0",to._jsonSchema={type:it("string",to._jsonSchemaVersion),bundleSource:it("string","DocumentSnapshot"),bundleName:it("string"),bundle:it("string")};class xa extends to{data(e={}){return super.data(e)}}class Fo{constructor(e,r,n,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new Us(o.hasPendingWrites,o.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new xa(this._firestore,this._userDataWriter,n.key,n,new Us(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new X(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){let i=0;return o._snapshot.docChanges.map(c=>{const l=new xa(o._firestore,o._userDataWriter,c.doc.key,c.doc,new Us(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:i++}})}{let i=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const l=new xa(o._firestore,o._userDataWriter,c.doc.key,c.doc,new Us(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let u=-1,d=-1;return c.type!==0&&(u=i.indexOf(c.doc.key),i=i.delete(c.doc.key)),c.type!==1&&(i=i.add(c.doc),d=i.indexOf(c.doc.key)),{type:xS(c.type),doc:l,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(L.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],o=[];return this.docs.forEach(s=>{s._document!==null&&(r.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),o.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xS(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t){t=fr(t,nt);const e=fr(t.firestore,yo);return dS(Md(e),t._key).then(r=>LS(e,t,r))}Fo._jsonSchemaVersion="firestore/querySnapshot/1.0",Fo._jsonSchema={type:it("string",Fo._jsonSchemaVersion),bundleSource:it("string","QuerySnapshot"),bundleName:it("string"),bundle:it("string")};class fb extends PS{constructor(e){super(),this.firestore=e}convertBytes(e){return new rr(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,r)}}function OS(t){t=fr(t,Mn);const e=fr(t.firestore,yo),r=Md(e),n=new fb(e);return kS(t._query),hS(r,t._query).then(o=>new Fo(e,n,t,o))}function NS(t,e,r){t=fr(t,nt);const n=fr(t.firestore,yo),o=hb(t.converter,e);return Yc(n,[ib(Wc(n),"setDoc",t._key,o,t.converter!==null,r).toMutation(t._key,or.none())])}function DS(t,e,r,...n){t=fr(t,nt);const o=fr(t.firestore,yo),s=Wc(o);let i;return i=typeof(e=mt(e))=="string"||e instanceof qc?wS(s,"updateDoc",t._key,e,r,n):_S(s,"updateDoc",t._key,e),Yc(o,[i.toMutation(t._key,or.exists(!0))])}function VS(t){return Yc(fr(t.firestore,yo),[new Ed(t._key,or.none())])}function $S(t,e){const r=fr(t.firestore,yo),n=rs(t),o=hb(t.converter,e);return Yc(r,[ib(Wc(t.firestore),"addDoc",n._key,o,t.converter!==null,{}).toMutation(n._key,or.exists(!1))]).then(()=>n)}function Yc(t,e){return function(n,o){const s=new Wr;return n.asyncQueue.enqueueAndForget(async()=>ZR(await uS(n),o,s)),s.promise}(Md(t),e)}function LS(t,e,r){const n=r.docs.get(e._key),o=new fb(t);return new to(t,o,e._key,n,new Us(r.hasPendingWrites,r.fromCache),e.converter)}function pb(){return new Ud("serverTimestamp")}(function(e,r=!0){(function(o){cs=o})(as),Qo(new co("firestore",(n,{instanceIdentifier:o,options:s})=>{const i=n.getProvider("app").getImmediate(),c=new yo(new bI(n.getProvider("auth-internal")),new wI(i,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mi(u.options.projectId,d)}(i,o),i);return s={useFetchStreams:r,...s},c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Cn(sp,ip,e),Cn(sp,ip,"esm2020")})();function gb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BS=gb,mb=new Vi("auth","Firebase",gb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new ud("@firebase/auth");function MS(t,...e){ac.logLevel<=Ce.WARN&&ac.warn(`Auth (${as}): ${t}`,...e)}function Oa(t,...e){ac.logLevel<=Ce.ERROR&&ac.error(`Auth (${as}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t,...e){throw Qd(t,...e)}function Ar(t,...e){return Qd(t,...e)}function yb(t,e,r){const n={...BS(),[e]:r};return new Vi("auth","Firebase",n).create(e,{appName:t.name})}function Kr(t){return yb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qd(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return mb.create(t,...e)}function ue(t,e,...r){if(!t)throw Qd(e,...r)}function zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Oa(e),new Error(e)}function Zr(t,e){t||zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(){return typeof self<"u"&&self.location?.href||""}function FS(){return og()==="http:"||og()==="https:"}function og(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FS()||KC()||"connection"in navigator)?navigator.onLine:!0}function jS(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,r){this.shortDelay=e,this.longDelay=r,Zr(r>e,"Short delay should be less than long delay!"),this.isMobile=qC()||GC()}get(){return US()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t,e){Zr(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HS=new zi(3e4,6e4);function Fn(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Un(t,e,r,n,o={}){return vb(t,o,async()=>{let s={},i={};n&&(e==="GET"?i=n:s={body:JSON.stringify(n)});const c=$i({key:t.config.apiKey,...i}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return WC()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&is(t.emulatorConfig.host)&&(u.credentials="include"),bb.fetch()(await _b(t,t.config.apiHost,r,c),u)})}async function vb(t,e,r){t._canInitEmulator=!1;const n={...zS,...e};try{const o=new KS(t),s=await Promise.race([r(),o.promise]);o.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw ga(t,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const c=s.ok?i.errorMessage:i.error.message,[l,u]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ga(t,"credential-already-in-use",i);if(l==="EMAIL_EXISTS")throw ga(t,"email-already-in-use",i);if(l==="USER_DISABLED")throw ga(t,"user-disabled",i);const d=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw yb(t,d,u);gr(t,d)}}catch(o){if(o instanceof tn)throw o;gr(t,"network-request-failed",{message:String(o)})}}async function qi(t,e,r,n,o={}){const s=await Un(t,e,r,n,o);return"mfaPendingCredential"in s&&gr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function _b(t,e,r,n){const o=`${e}${r}?${n}`,s=t,i=s.config.emulator?Yd(t.config,o):`${t.config.apiScheme}://${o}`;return qS.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(i).toString():i}function WS(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ar(this.auth,"network-request-failed")),HS.get())})}}function ga(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const o=Ar(t,e,n);return o.customData._tokenResponse=r,o}function sg(t){return t!==void 0&&t.enterprise!==void 0}class GS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return WS(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QS(t,e){return Un(t,"GET","/v2/recaptchaConfig",Fn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YS(t,e){return Un(t,"POST","/v1/accounts:delete",e)}async function cc(t,e){return Un(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JS(t,e=!1){const r=mt(t),n=await r.getIdToken(e),o=Jd(n);ue(o&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error");const s=typeof o.firebase=="object"?o.firebase:void 0,i=s?.sign_in_provider;return{claims:o,token:n,authTime:ni(Ul(o.auth_time)),issuedAtTime:ni(Ul(o.iat)),expirationTime:ni(Ul(o.exp)),signInProvider:i||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Ul(t){return Number(t)*1e3}function Jd(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Oa("JWT malformed, contained fewer than 3 sections"),null;try{const o=T0(r);return o?JSON.parse(o):(Oa("Failed to decode base64 JWT payload"),null)}catch(o){return Oa("Caught error parsing JWT payload as JSON",o?.toString()),null}}function ig(t){const e=Jd(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ei(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof tn&&XS(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function XS({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=ni(this.lastLoginAt),this.creationTime=ni(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(t){const e=t.auth,r=await t.getIdToken(),n=await Ei(t,cc(e,{idToken:r}));ue(n?.users.length,e,"internal-error");const o=n.users[0];t._notifyReloadListener(o);const s=o.providerUserInfo?.length?wb(o.providerUserInfo):[],i=tA(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!i?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:i,metadata:new Ou(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function eA(t){const e=mt(t);await lc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tA(t,e){return[...t.filter(n=>!e.some(o=>o.providerId===n.providerId)),...e]}function wb(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rA(t,e){const r=await vb(t,{},async()=>{const n=$i({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:s}=t.config,i=await _b(t,o,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:c,body:n};return t.emulatorConfig&&is(t.emulatorConfig.host)&&(l.credentials="include"),bb.fetch()(i,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function nA(t,e){return Un(t,"POST","/v2/accounts:revokeToken",Fn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ig(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const r=ig(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:o,expiresIn:s}=await rA(e,r);this.updateTokensAndExpiration(n,o,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:o,expirationTime:s}=r,i=new Uo;return n&&(ue(typeof n=="string","internal-error",{appName:e}),i.refreshToken=n),o&&(ue(typeof o=="string","internal-error",{appName:e}),i.accessToken=o),s&&(ue(typeof s=="number","internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class lr{constructor({uid:e,auth:r,stsTokenManager:n,...o}){this.providerId="firebase",this.proactiveRefresh=new ZS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ou(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const r=await Ei(this,this.stsTokenManager.getToken(this.auth,e));return ue(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return JS(this,e)}reload(){return eA(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new lr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await lc(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tr(this.auth.app))return Promise.reject(Kr(this.auth));const e=await this.getIdToken();return await Ei(this,YS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,o=r.email??void 0,s=r.phoneNumber??void 0,i=r.photoURL??void 0,c=r.tenantId??void 0,l=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:f,emailVerified:g,isAnonymous:m,providerData:_,stsTokenManager:S}=r;ue(f&&S,e,"internal-error");const k=Uo.fromJSON(this.name,S);ue(typeof f=="string",e,"internal-error"),un(n,e.name),un(o,e.name),ue(typeof g=="boolean",e,"internal-error"),ue(typeof m=="boolean",e,"internal-error"),un(s,e.name),un(i,e.name),un(c,e.name),un(l,e.name),un(u,e.name),un(d,e.name);const V=new lr({uid:f,auth:e,email:o,emailVerified:g,displayName:n,isAnonymous:m,photoURL:i,phoneNumber:s,tenantId:c,stsTokenManager:k,createdAt:u,lastLoginAt:d});return _&&Array.isArray(_)&&(V.providerData=_.map($=>({...$}))),l&&(V._redirectEventId=l),V}static async _fromIdTokenResponse(e,r,n=!1){const o=new Uo;o.updateFromServerResponse(r);const s=new lr({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:n});return await lc(s),s}static async _fromGetAccountInfoResponse(e,r,n){const o=r.users[0];ue(o.localId!==void 0,"internal-error");const s=o.providerUserInfo!==void 0?wb(o.providerUserInfo):[],i=!(o.email&&o.passwordHash)&&!s?.length,c=new Uo;c.updateFromIdToken(n);const l=new lr({uid:o.localId,auth:e,stsTokenManager:c,isAnonymous:i}),u={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Ou(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!s?.length};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=new Map;function qr(t){Zr(t instanceof Function,"Expected a class definition");let e=ag.get(t);return e?(Zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ag.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Eb.type="NONE";const cg=Eb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t,e,r){return`firebase:${t}:${e}:${r}`}class jo{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:o,name:s}=this.auth;this.fullUserKey=Na(this.userKey,o.apiKey,s),this.fullPersistenceKey=Na("persistence",o.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await cc(this.auth,{idToken:e}).catch(()=>{});return r?lr._fromGetAccountInfoResponse(this.auth,r,e):null}return lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new jo(qr(cg),e,n);const o=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=o[0]||qr(cg);const i=Na(n,e.config.apiKey,e.name);let c=null;for(const u of r)try{const d=await u._get(i);if(d){let f;if(typeof d=="string"){const g=await cc(e,{idToken:d}).catch(()=>{});if(!g)break;f=await lr._fromGetAccountInfoResponse(e,g,d)}else f=lr._fromJSON(e,d);u!==s&&(c=f),s=u;break}}catch{}const l=o.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new jo(s,e,n):(s=l[0],c&&await s._set(i,c.toJSON()),await Promise.all(r.map(async u=>{if(u!==s)try{await u._remove(i)}catch{}})),new jo(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ib(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Tb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Sb(e))return"Blackberry";if(Ab(e))return"Webos";if(Cb(e))return"Safari";if((e.includes("chrome/")||kb(e))&&!e.includes("edge/"))return"Chrome";if(Rb(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function Tb(t=$t()){return/firefox\//i.test(t)}function Cb(t=$t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kb(t=$t()){return/crios\//i.test(t)}function Ib(t=$t()){return/iemobile/i.test(t)}function Rb(t=$t()){return/android/i.test(t)}function Sb(t=$t()){return/blackberry/i.test(t)}function Ab(t=$t()){return/webos/i.test(t)}function Xd(t=$t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oA(t=$t()){return Xd(t)&&!!window.navigator?.standalone}function sA(){return QC()&&document.documentMode===10}function Pb(t=$t()){return Xd(t)||Rb(t)||Ab(t)||Sb(t)||/windows phone/i.test(t)||Ib(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t,e=[]){let r;switch(t){case"Browser":r=lg($t());break;case"Worker":r=`${lg($t())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${as}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((i,c)=>{try{const l=e(s);i(l)}catch(l){c(l)}});n.onAbort=r,this.queue.push(n);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const o of r)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aA(t,e={}){return Un(t,"GET","/v2/passwordPolicy",Fn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=6;class lA{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??cA,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),o&&(r.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let o=0;o<e.length;o++)n=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,o,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,r,n,o){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ug(this),this.idTokenSubscription=new ug(this),this.beforeStateQueue=new iA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=qr(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await jo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await cc(this,{idToken:e}),n=await lr._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(tr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(i=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(i,i))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,i=n?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===i)&&c?.user&&(n=c.user,o=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await lc(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tr(this.app))return Promise.reject(Kr(this));const r=e?mt(e):null;return r&&ue(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tr(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tr(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aA(this),r=new lA(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vi("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await nA(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&qr(e)||this._popupRedirectResolver;ue(r,this,"argument-error"),this.redirectPersistenceManager=await jo.create(this,[qr(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,o){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let i=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(c,this,"internal-error"),c.then(()=>{i||s(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,o);return()=>{i=!0,l()}}else{const l=e.addObserver(r);return()=>{i=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&MS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bo(t){return mt(t)}class ug{constructor(e){this.auth=e,this.observer=null,this.addObserver=nk(r=>this.observer=r)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dA(t){Jc=t}function Ob(t){return Jc.loadJS(t)}function hA(){return Jc.recaptchaEnterpriseScript}function fA(){return Jc.gapiScript}function pA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class gA{constructor(){this.enterprise=new mA}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class mA{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const yA="recaptcha-enterprise",Nb="NO_RECAPTCHA";class bA{constructor(e){this.type=yA,this.auth=bo(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(i,c)=>{QS(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const u=new GS(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,i(u.siteKey)}}).catch(l=>{c(l)})})}function o(s,i,c){const l=window.grecaptcha;sg(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{i(u)}).catch(()=>{i(Nb)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gA().execute("siteKey",{action:"verify"}):new Promise((s,i)=>{n(this.auth).then(c=>{if(!r&&sg(window.grecaptcha))o(c,s,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}let l=hA();l.length!==0&&(l+=c),Ob(l).then(()=>{o(c,s,i)}).catch(u=>{i(u)})}}).catch(c=>{i(c)})})}}async function dg(t,e,r,n=!1,o=!1){const s=new bA(t);let i;if(o)i=Nb;else try{i=await s.verify(r)}catch{i=await s.verify(r,!0)}const c={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const l=c.phoneEnrollmentInfo.phoneNumber,u=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const l=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:i}):Object.assign(c,{captchaResponse:i}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Nu(t,e,r,n,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await dg(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await dg(t,e,r,r==="getOobCode");return n(t,i)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t,e){const r=hd(t,"auth");if(r.isInitialized()){const o=r.getImmediate(),s=r.getOptions();if(ao(s,e??{}))return o;gr(o,"already-initialized")}return r.initialize({options:e})}function _A(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(qr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function wA(t,e,r){const n=bo(t);ue(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const o=!1,s=Db(e),{host:i,port:c}=EA(e),l=c===null?"":`:${c}`,u={url:`${s}//${i}${l}/`},d=Object.freeze({host:i,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!n._canInitEmulator){ue(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ue(ao(u,n.config.emulator)&&ao(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,is(i)?(R0(`${s}//${i}${l}`),S0("Auth",!0)):TA()}function Db(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EA(t){const e=Db(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(n);if(o){const s=o[1];return{host:s,port:hg(n.substr(s.length+1))}}else{const[s,i]=n.split(":");return{host:s,port:hg(i)}}}function hg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TA(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,r){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function CA(t,e){return Un(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(t,e){return qi(t,"POST","/v1/accounts:signInWithPassword",Fn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IA(t,e){return qi(t,"POST","/v1/accounts:signInWithEmailLink",Fn(t,e))}async function RA(t,e){return qi(t,"POST","/v1/accounts:signInWithEmailLink",Fn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Zd{constructor(e,r,n,o=null){super("password",n),this._email=e,this._password=r,this._tenantId=o}static _fromEmailAndPassword(e,r){return new Ti(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Ti(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nu(e,r,"signInWithPassword",kA);case"emailLink":return IA(e,{email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nu(e,n,"signUpPassword",CA);case"emailLink":return RA(e,{idToken:r,email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(t,e){return qi(t,"POST","/v1/accounts:signInWithIdp",Fn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="http://localhost";class ho extends Zd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):gr("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:o,...s}=r;if(!n||!o)return null;const i=new ho(n,o);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){const r=this.buildRequest();return zo(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,zo(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,zo(e,r)}buildRequest(){const e={requestUri:SA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=$i(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PA(t){const e=$s(Ls(t)).link,r=e?$s(Ls(e)).deep_link_id:null,n=$s(Ls(t)).deep_link_id;return(n?$s(Ls(n)).link:null)||n||r||e||t}class eh{constructor(e){const r=$s(Ls(e)),n=r.apiKey??null,o=r.oobCode??null,s=AA(r.mode??null);ue(n&&o&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=o,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=PA(e);try{return new eh(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.providerId=fs.PROVIDER_ID}static credential(e,r){return Ti._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=eh.parseLink(r);return ue(n,"argument-error"),Ti._fromEmailAndCode(e,n.code,n.tenantId)}}fs.PROVIDER_ID="password";fs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Vb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn extends Hi{constructor(){super("facebook.com")}static credential(e){return ho._fromParams({providerId:gn.PROVIDER_ID,signInMethod:gn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gn.credentialFromTaggedObject(e)}static credentialFromError(e){return gn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gn.credential(e.oauthAccessToken)}catch{return null}}}gn.FACEBOOK_SIGN_IN_METHOD="facebook.com";gn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn extends Hi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ho._fromParams({providerId:mn.PROVIDER_ID,signInMethod:mn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return mn.credentialFromTaggedObject(e)}static credentialFromError(e){return mn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return mn.credential(r,n)}catch{return null}}}mn.GOOGLE_SIGN_IN_METHOD="google.com";mn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn extends Hi{constructor(){super("github.com")}static credential(e){return ho._fromParams({providerId:yn.PROVIDER_ID,signInMethod:yn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yn.credentialFromTaggedObject(e)}static credentialFromError(e){return yn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yn.credential(e.oauthAccessToken)}catch{return null}}}yn.GITHUB_SIGN_IN_METHOD="github.com";yn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn extends Hi{constructor(){super("twitter.com")}static credential(e,r){return ho._fromParams({providerId:bn.PROVIDER_ID,signInMethod:bn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return bn.credentialFromTaggedObject(e)}static credentialFromError(e){return bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return bn.credential(r,n)}catch{return null}}}bn.TWITTER_SIGN_IN_METHOD="twitter.com";bn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xA(t,e){return qi(t,"POST","/v1/accounts:signUp",Fn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,o=!1){const s=await lr._fromIdTokenResponse(e,n,o),i=fg(n);return new fo({user:s,providerId:i,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const o=fg(n);return new fo({user:e,providerId:o,_tokenResponse:n,operationType:r})}}function fg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends tn{constructor(e,r,n,o){super(r.code,r.message),this.operationType=n,this.user=o,Object.setPrototypeOf(this,uc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,o){return new uc(e,r,n,o)}}function $b(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?uc._fromErrorAndOperation(t,s,e,n):s})}async function OA(t,e,r=!1){const n=await Ei(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return fo._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NA(t,e,r=!1){const{auth:n}=t;if(tr(n.app))return Promise.reject(Kr(n));const o="reauthenticate";try{const s=await Ei(t,$b(n,o,e,t),r);ue(s.idToken,n,"internal-error");const i=Jd(s.idToken);ue(i,n,"internal-error");const{sub:c}=i;return ue(t.uid===c,n,"user-mismatch"),fo._forOperation(t,o,s)}catch(s){throw s?.code==="auth/user-not-found"&&gr(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lb(t,e,r=!1){if(tr(t.app))return Promise.reject(Kr(t));const n="signIn",o=await $b(t,n,e),s=await fo._fromIdTokenResponse(t,n,o);return r||await t._updateCurrentUser(s.user),s}async function DA(t,e){return Lb(bo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bb(t){const e=bo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function VA(t,e,r){if(tr(t.app))return Promise.reject(Kr(t));const n=bo(t),i=await Nu(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xA).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Bb(t),l}),c=await fo._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(c.user),c}function $A(t,e,r){return tr(t.app)?Promise.reject(Kr(t)):DA(mt(t),fs.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Bb(t),n})}function LA(t,e,r,n){return mt(t).onIdTokenChanged(e,r,n)}function BA(t,e,r){return mt(t).beforeAuthStateChanged(e,r)}function MA(t,e,r,n){return mt(t).onAuthStateChanged(e,r,n)}function FA(t){return mt(t).signOut()}const dc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(dc,"1"),this.storage.removeItem(dc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=1e3,jA=10;class Fb extends Mb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Pb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),o=this.localCache[r];n!==o&&e(r,o,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((i,c,l)=>{this.notifyListeners(i,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const o=()=>{const i=this.storage.getItem(n);!r&&this.localCache[n]===i||this.notifyListeners(n,i)},s=this.storage.getItem(n);sA()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,jA):o()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const o of Array.from(n))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},UA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}Fb.type="LOCAL";const zA=Fb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub extends Mb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Ub.type="SESSION";const jb=Ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(o=>o.isListeningto(e));if(r)return r;const n=new Xc(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:o,data:s}=r.data,i=this.handlersMap[o];if(!i?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:o});const c=Array.from(i).map(async u=>u(r.origin,s)),l=await qA(c);r.ports[0].postMessage({status:"done",eventId:n,eventType:o,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,i;return new Promise((c,l)=>{const u=th("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},n);i={messageChannel:o,onMessage(f){const g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(g.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(i),o.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[o.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(){return window}function WA(t){Pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(){return typeof Pr().WorkerGlobalScope<"u"&&typeof Pr().importScripts=="function"}async function KA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GA(){return navigator?.serviceWorker?.controller||null}function QA(){return zb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="firebaseLocalStorageDb",YA=1,hc="firebaseLocalStorage",Hb="fbase_key";class Wi{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Zc(t,e){return t.transaction([hc],e?"readwrite":"readonly").objectStore(hc)}function JA(){const t=indexedDB.deleteDatabase(qb);return new Wi(t).toPromise()}function Du(){const t=indexedDB.open(qb,YA);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(hc,{keyPath:Hb})}catch(o){r(o)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(hc)?e(n):(n.close(),await JA(),e(await Du()))})})}async function pg(t,e,r){const n=Zc(t,!0).put({[Hb]:e,value:r});return new Wi(n).toPromise()}async function XA(t,e){const r=Zc(t,!1).get(e),n=await new Wi(r).toPromise();return n===void 0?null:n.value}function gg(t,e){const r=Zc(t,!0).delete(e);return new Wi(r).toPromise()}const ZA=800,eP=3;class Wb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Du(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>eP)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xc._getInstance(QA()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await KA(),!this.activeServiceWorker)return;this.sender=new HA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Du();return await pg(e,dc,"1"),await gg(e,dc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>pg(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>XA(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>gg(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const s=Zc(o,!1).getAll();return new Wi(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:o,value:s}of e)n.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!n.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const o of Array.from(n))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wb.type="LOCAL";const tP=Wb;new zi(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(t,e){return e?qr(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends Zd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zo(e,this._buildIdpRequest())}_linkToIdToken(e,r){return zo(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function nP(t){return Lb(t.auth,new rh(t),t.bypassAuthState)}function oP(t){const{auth:e,user:r}=t;return ue(r,e,"internal-error"),NA(r,new rh(t),t.bypassAuthState)}async function sP(t){const{auth:e,user:r}=t;return ue(r,e,"internal-error"),OA(r,new rh(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,r,n,o,s=!1){this.auth=e,this.resolver=n,this.user=o,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:o,tenantId:s,error:i,type:c}=e;if(i){this.reject(i);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nP;case"linkViaPopup":case"linkViaRedirect":return sP;case"reauthViaPopup":case"reauthViaRedirect":return oP;default:gr(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=new zi(2e3,1e4);class Oo extends Kb{constructor(e,r,n,o,s){super(e,r,o,s),this.provider=n,this.authWindow=null,this.pollId=null,Oo.currentPopupAction&&Oo.currentPopupAction.cancel(),Oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=th();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iP.get())};e()}}Oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="pendingRedirect",Da=new Map;class cP extends Kb{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Da.get(this.auth._key());if(!e){try{const n=await lP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Da.set(this.auth._key(),e)}return this.bypassAuthState||Da.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lP(t,e){const r=hP(e),n=dP(t);if(!await n._isAvailable())return!1;const o=await n._get(r)==="true";return await n._remove(r),o}function uP(t,e){Da.set(t._key(),e)}function dP(t){return qr(t._redirectPersistence)}function hP(t){return Na(aP,t.config.apiKey,t.name)}async function fP(t,e,r=!1){if(tr(t.app))return Promise.reject(Kr(t));const n=bo(t),o=rP(n,e),i=await new cP(n,o,r).execute();return i&&!r&&(delete i.user._redirectEventId,await n._persistUserIfCurrent(i.user),await n._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=600*1e3;class gP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mP(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!Gb(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";r.onError(Ar(this.auth,n))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pP&&this.cachedEventUids.clear(),this.cachedEventUids.has(mg(e))}saveEventToCache(e){this.cachedEventUids.add(mg(e)),this.lastProcessedEventTime=Date.now()}}function mg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Gb({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function mP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP(t,e={}){return Un(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vP=/^https?/;async function _P(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yP(t);for(const r of e)try{if(wP(r))return}catch{}gr(t,"unauthorized-domain")}function wP(t){const e=xu(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&i.hostname===n}if(!vP.test(r))return!1;if(bP.test(t))return n===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=new zi(3e4,6e4);function yg(){const t=Pr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function TP(t){return new Promise((e,r)=>{function n(){yg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yg(),r(Ar(t,"network-request-failed"))},timeout:EP.get()})}if(Pr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pr().gapi?.load)n();else{const o=pA("iframefcb");return Pr()[o]=()=>{gapi.load?n():r(Ar(t,"network-request-failed"))},Ob(`${fA()}?onload=${o}`).catch(s=>r(s))}}).catch(e=>{throw Va=null,e})}let Va=null;function CP(t){return Va=Va||TP(t),Va}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=new zi(5e3,15e3),IP="__/auth/iframe",RP="emulator/auth/iframe",SP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PP(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Yd(e,RP):`https://${t.config.authDomain}/${IP}`,n={apiKey:e.apiKey,appName:t.name,v:as},o=AP.get(t.config.apiHost);o&&(n.eid=o);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${$i(n).slice(1)}`}async function xP(t){const e=await CP(t),r=Pr().gapi;return ue(r,t,"internal-error"),e.open({where:document.body,url:PP(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SP,dontclear:!0},n=>new Promise(async(o,s)=>{await n.restyle({setHideOnLeave:!1});const i=Ar(t,"network-request-failed"),c=Pr().setTimeout(()=>{s(i)},kP.get());function l(){Pr().clearTimeout(c),o(n)}n.ping(l).then(l,()=>{s(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NP=500,DP=600,VP="_blank",$P="http://localhost";class bg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LP(t,e,r,n=NP,o=DP){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),i=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const l={...OP,width:n.toString(),height:o.toString(),top:s,left:i},u=$t().toLowerCase();r&&(c=kb(u)?VP:r),Tb(u)&&(e=e||$P,l.scrollbars="yes");const d=Object.entries(l).reduce((g,[m,_])=>`${g}${m}=${_},`,"");if(oA(u)&&c!=="_self")return BP(e||"",c),new bg(null);const f=window.open(e||"",c,d);ue(f,t,"popup-blocked");try{f.focus()}catch{}return new bg(f)}function BP(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="__/auth/handler",FP="emulator/auth/handler",UP=encodeURIComponent("fac");async function vg(t,e,r,n,o,s){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:as,eventId:o};if(e instanceof Vb){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",rk(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))i[d]=f}if(e instanceof Hi){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(i.scopes=d.join(","))}t.tenantId&&(i.tid=t.tenantId);const c=i;for(const d of Object.keys(c))c[d]===void 0&&delete c[d];const l=await t._getAppCheckToken(),u=l?`#${UP}=${encodeURIComponent(l)}`:"";return`${jP(t)}?${$i(c).slice(1)}${u}`}function jP({config:t}){return t.emulator?Yd(t,FP):`https://${t.authDomain}/${MP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl="webStorageSupport";class zP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jb,this._completeRedirectFn=fP,this._overrideRedirectResult=uP}async _openPopup(e,r,n,o){Zr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await vg(e,r,n,xu(),o);return LP(e,s,th())}async _openRedirect(e,r,n,o){await this._originValidation(e);const s=await vg(e,r,n,xu(),o);return WA(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:o,promise:s}=this.eventManagers[r];return o?Promise.resolve(o):(Zr(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await xP(e),n=new gP(e);return r.register("authEvent",o=>(ue(o?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(jl,{type:jl},o=>{const s=o?.[0]?.[jl];s!==void 0&&r(!!s),gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=_P(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Pb()||Cb()||Xd()}}const qP=zP;var _g="@firebase/auth",wg="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KP(t){Qo(new co("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:i,authDomain:c}=n.options;ue(i&&!i.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:i,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xb(t)},u=new uA(n,o,s,l);return _A(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Qo(new co("auth-internal",e=>{const r=bo(e.getProvider("auth").getImmediate());return(n=>new HP(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cn(_g,wg,WP(t)),Cn(_g,wg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=300,QP=I0("authIdTokenMaxAge")||GP;let Eg=null;const YP=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>QP)return;const o=r?.token;Eg!==o&&(Eg=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function JP(t=O0()){const e=hd(t,"auth");if(e.isInitialized())return e.getImmediate();const r=vA(t,{popupRedirectResolver:qP,persistence:[tP,zA,jb]}),n=I0("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const i=YP(s.toString());BA(r,i,()=>i(r.currentUser)),LA(r,c=>i(c))}}const o=C0("auth");return o&&wA(r,`http://${o}`),r}function XP(){return document.getElementsByTagName("head")?.[0]??document}dA({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=o=>{const s=Ar("internal-error");s.customData=o,r(s)},n.type="text/javascript",n.charset="UTF-8",XP().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KP("Browser");const ZP={apiKey:"AIzaSyBj88tGLQQ0mrIxWN-Gn7YR5aqUZy-spsE",authDomain:"week7-rongbo.firebaseapp.com",projectId:"week7-rongbo",storageBucket:"week7-rongbo.firebasestorage.app",messagingSenderId:"875240543678",appId:"1:875240543678:web:b98371caac4cb24432d5ef"},Qb=x0(ZP),qo=gS(Qb),js=JP(Qb),ex={class:"auth-wrap"},tx={class:"card"},rx={key:0,class:"alert"},nx={class:"field"},ox={class:"field"},sx=["disabled"],ix={class:"muted"},ax={class:"idcard"},cx={class:"row"},lx={class:"v"},ux={class:"row"},dx={class:"v"},hx={class:"row"},fx={class:"v"},px={class:"actions"},gx={__name:"FirebaseSigninView",setup(t){const e=we(""),r=we(""),n=we(!1),o=we(""),s=we(null),i=we("");Ac();const c=async()=>{o.value="";try{n.value=!0;const u=await $A(js,e.value,r.value);s.value=u.user;const d=await ng(rs(qo,"users",u.user.uid));i.value=d.exists()&&d.data().role||"",console.log(" Firebase Login Successful!"),console.log("Current User:",js.currentUser),console.log("Role:",i.value)}catch(u){o.value=u?.code||"Sign-in failed",console.error(" Sign-in error:",u)}finally{n.value=!1}},l=async()=>{await FA(js),s.value=null,i.value="",e.value="",r.value="",console.log(" Logged out.")};return Tc(()=>{MA(js,async u=>{if(s.value=u,u){const d=await ng(rs(qo,"users",u.uid));i.value=d.exists()&&d.data().role||"",console.log(" Auth state changed: user logged in",u),console.log("Role:",i.value)}else i.value="",console.log(" Auth state changed: user logged out")})}),(u,d)=>{const f=io("router-link");return fe(),me("section",ex,[P("div",tx,[s.value?(fe(),me(Pt,{key:1},[d[12]||(d[12]=P("h1",{class:"title"},"Welcome",-1)),P("div",ax,[P("div",cx,[d[8]||(d[8]=P("span",{class:"k"},"Email",-1)),P("span",lx,je(s.value.email),1)]),P("div",ux,[d[9]||(d[9]=P("span",{class:"k"},"UID",-1)),P("span",dx,je(s.value.uid),1)]),P("div",hx,[d[10]||(d[10]=P("span",{class:"k"},"Role",-1)),P("span",fx,je(i.value||""),1)])]),P("div",px,[Re(f,{class:"btn ghost",to:"/"},{default:Mt(()=>d[11]||(d[11]=[et("Go Home",-1)])),_:1,__:[11]}),P("button",{class:"btn danger",onClick:l},"Log out")])],64)):(fe(),me(Pt,{key:0},[d[6]||(d[6]=P("h1",{class:"title"},"Sign in",-1)),d[7]||(d[7]=P("p",{class:"roles"},[et(" You can sign in by multiple roles: "),P("b",null,"Tracker"),et(", "),P("b",null,"Researcher"),et(", "),P("b",null,"Admin"),et(". ")],-1)),o.value?(fe(),me("div",rx,je(o.value),1)):vt("",!0),P("div",nx,[d[2]||(d[2]=P("label",null,"Email",-1)),Ge(P("input",{type:"email","onUpdate:modelValue":d[0]||(d[0]=g=>e.value=g),placeholder:"you@example.com"},null,512),[[ut,e.value,void 0,{trim:!0}]])]),P("div",ox,[d[3]||(d[3]=P("label",null,"Password",-1)),Ge(P("input",{type:"password","onUpdate:modelValue":d[1]||(d[1]=g=>r.value=g),placeholder:"Your password"},null,512),[[ut,r.value]])]),P("button",{class:"btn",onClick:c,disabled:n.value},je(n.value?"Signing in...":"Sign in via Firebase"),9,sx),P("p",ix,[d[5]||(d[5]=et(" No account yet? ",-1)),Re(f,{to:"/FireRegister"},{default:Mt(()=>d[4]||(d[4]=[et("Create an account",-1)])),_:1,__:[4]})])],64))])])}}},mx=$n(gx,[["__scopeId","data-v-d1435d64"]]),yx={class:"auth-wrap"},bx={class:"card"},vx={key:0,class:"alert"},_x={key:1,class:"ok"},wx={class:"field"},Ex={class:"field"},Tx={class:"field"},Cx=["disabled"],kx={class:"muted"},Ix={__name:"FirebaseRegisterView",setup(t){const e=we(""),r=we(""),n=we(""),o=we(!1),s=we(""),i=we(""),c=Ac(),l=async()=>{if(s.value="",i.value="",!e.value||!r.value||!n.value){s.value="Please fill in email, password, and role.";return}if(r.value.length<8){s.value="Password must be at least 8 characters.";return}try{o.value=!0;const u=await VA(js,e.value,r.value);await NS(rs(qo,"users",u.user.uid),{email:e.value,role:n.value,createdAt:pb()}),i.value="Register successful! Redirecting to sign in...",setTimeout(()=>c.push("/FireLogin"),600)}catch(u){s.value=u?.code||"Register failed",console.error(u)}finally{o.value=!1}};return(u,d)=>{const f=io("router-link");return fe(),me("section",yx,[P("div",bx,[d[10]||(d[10]=P("h1",{class:"title"},"Create an Account",-1)),s.value?(fe(),me("div",vx,je(s.value),1)):vt("",!0),i.value?(fe(),me("div",_x,je(i.value),1)):vt("",!0),P("div",wx,[d[3]||(d[3]=P("label",null,"Email",-1)),Ge(P("input",{type:"email","onUpdate:modelValue":d[0]||(d[0]=g=>e.value=g),placeholder:"you@example.com"},null,512),[[ut,e.value,void 0,{trim:!0}]])]),P("div",Ex,[d[4]||(d[4]=P("label",null,"Password",-1)),Ge(P("input",{type:"password","onUpdate:modelValue":d[1]||(d[1]=g=>r.value=g),placeholder:"At least 8 chars"},null,512),[[ut,r.value]])]),P("div",Tx,[d[6]||(d[6]=P("label",null,"Role",-1)),Ge(P("select",{"onUpdate:modelValue":d[2]||(d[2]=g=>n.value=g)},d[5]||(d[5]=[P("option",{disabled:"",value:""},"Please choose a role",-1),P("option",{value:"user"},"User",-1),P("option",{value:"admin"},"Admin",-1)]),512),[[Ka,n.value]]),d[7]||(d[7]=P("small",{class:"hint"},"You can sign in by multiple roles in the system.",-1))]),P("button",{class:"btn",onClick:l,disabled:o.value},je(o.value?"Creating...":"Register"),9,Cx),P("p",kx,[d[9]||(d[9]=et(" Already have an account? ",-1)),Re(f,{to:"/FireLogin"},{default:Mt(()=>d[8]||(d[8]=[et("Sign in",-1)])),_:1,__:[8]})])])])}}},Rx=$n(Ix,[["__scopeId","data-v-04b82a7b"]]),Sx={class:"wrap"},Ax={class:"card"},Px={class:"field"},xx={class:"field"},Ox=["disabled"],Nx={class:"card"},Dx={class:"query-grid"},Vx={class:"qfield"},$x={class:"qfield"},Lx={class:"qfield"},Bx={class:"qfield"},Mx={class:"qfield"},Fx={class:"qactions"},Ux=["disabled"],jx={class:"card"},zx={key:0,class:"empty"},qx={key:1,class:"table"},Hx={class:"actions"},Wx=["onClick"],Kx=["onClick"],Gx=["onClick"],Qx={__name:"AddBookView",setup(t){const e=pS(qo,"books"),r=we(""),n=we(""),o=we(!1),s=we(""),i=we(null),c=we("name"),l=we("asc"),u=we(10),d=we(!1),f=we([]),g=we(null),m=we(""),_=we(""),S=async()=>{if(!n.value){alert("Name is required");return}const ee=Number(r.value);if(Number.isNaN(ee)){alert("ISBN must be a valid number");return}try{o.value=!0,await $S(e,{isbn:ee,name:n.value.trim(),createdAt:pb()}),r.value="",n.value="",await k(),alert("Book added successfully!")}catch(v){console.error("Error adding book:",v)}finally{o.value=!1}},k=async()=>{d.value=!0;try{const ee=[];i.value!==null&&i.value!==""&&!Number.isNaN(Number(i.value))&&ee.push(RS("isbn",">=",Number(i.value))),ee.push(SS(c.value,l.value)),ee.push(AS(Math.max(1,Number(u.value)||10)));let b=(await OS(IS(e,...ee))).docs.map(E=>({id:E.id,...E.data()}));if(s.value){const E=s.value.toLowerCase();b=b.filter(R=>String(R.name||"").toLowerCase().includes(E))}f.value=b}catch(ee){console.error("Error querying books:",ee)}finally{d.value=!1}},V=()=>{s.value="",i.value=null,c.value="name",l.value="asc",u.value=10,k()},$=ee=>{g.value=ee.id,m.value=ee.name,_.value=ee.isbn},U=()=>{g.value=null,m.value="",_.value=""},W=async ee=>{const v=Number(_.value);if(Number.isNaN(v)){alert("ISBN must be a valid number");return}try{await DS(rs(qo,"books",ee),{name:String(m.value||"").trim(),isbn:v}),U(),await k(),alert("Updated!")}catch(b){console.error("Error updating:",b)}},re=async ee=>{if(confirm("Delete this book?"))try{await VS(rs(qo,"books",ee)),await k(),alert("Deleted!")}catch(v){console.error("Error deleting:",v)}};return Tc(k),(ee,v)=>(fe(),me("section",Sx,[P("div",Ax,[v[11]||(v[11]=P("h1",{class:"title"},"Add Book",-1)),P("form",{class:"form",onSubmit:ad(S,["prevent"])},[P("div",Px,[v[9]||(v[9]=P("label",{for:"isbn"},"ISBN",-1)),Ge(P("input",{id:"isbn","onUpdate:modelValue":v[0]||(v[0]=b=>r.value=b),type:"text"},null,512),[[ut,r.value]])]),P("div",xx,[v[10]||(v[10]=P("label",{for:"name"},"Name",-1)),Ge(P("input",{id:"name","onUpdate:modelValue":v[1]||(v[1]=b=>n.value=b),type:"text",placeholder:"Book title"},null,512),[[ut,n.value]])]),P("button",{class:"btn",type:"submit",disabled:o.value},je(o.value?"Adding...":"Add Book"),9,Ox)],32)]),P("div",Nx,[v[19]||(v[19]=P("h2",{class:"subtitle"},"Query",-1)),P("div",Dx,[P("div",Vx,[v[12]||(v[12]=P("label",null,"Keyword (name contains)",-1)),Ge(P("input",{"onUpdate:modelValue":v[2]||(v[2]=b=>s.value=b),type:"text",placeholder:"keyword in name"},null,512),[[ut,s.value,void 0,{trim:!0}]])]),P("div",$x,[v[13]||(v[13]=P("label",null,"Min ISBN ()",-1)),Ge(P("input",{"onUpdate:modelValue":v[3]||(v[3]=b=>i.value=b),type:"number",placeholder:"0"},null,512),[[ut,i.value,void 0,{number:!0}]])]),P("div",Lx,[v[15]||(v[15]=P("label",null,"Order By",-1)),Ge(P("select",{"onUpdate:modelValue":v[4]||(v[4]=b=>c.value=b)},v[14]||(v[14]=[P("option",{value:"name"},"name",-1),P("option",{value:"isbn"},"isbn",-1)]),512),[[Ka,c.value]])]),P("div",Bx,[v[17]||(v[17]=P("label",null,"Direction",-1)),Ge(P("select",{"onUpdate:modelValue":v[5]||(v[5]=b=>l.value=b)},v[16]||(v[16]=[P("option",{value:"asc"},"asc",-1),P("option",{value:"desc"},"desc",-1)]),512),[[Ka,l.value]])]),P("div",Mx,[v[18]||(v[18]=P("label",null,"Limit",-1)),Ge(P("input",{"onUpdate:modelValue":v[6]||(v[6]=b=>u.value=b),type:"number",min:"1",placeholder:"10"},null,512),[[ut,u.value,void 0,{number:!0}]])]),P("div",Fx,[P("button",{class:"btn ghost",onClick:V},"Reset"),P("button",{class:"btn",onClick:k,disabled:d.value},je(d.value?"Loading...":"Run Query"),9,Ux)])])]),P("div",jx,[v[21]||(v[21]=P("h2",{class:"subtitle"},"Books",-1)),f.value.length===0?(fe(),me("div",zx,"No data. Try adding or changing query.")):(fe(),me("table",qx,[v[20]||(v[20]=P("thead",null,[P("tr",null,[P("th",{style:{width:"160px"}},"ISBN"),P("th",null,"Name"),P("th",{style:{width:"210px"}},"Actions")])],-1)),P("tbody",null,[(fe(!0),me(Pt,null,sw(f.value,b=>(fe(),me("tr",{key:b.id},[P("td",null,[g.value===b.id?Ge((fe(),me("input",{key:0,"onUpdate:modelValue":v[7]||(v[7]=E=>_.value=E),type:"number",class:"inrow"},null,512)),[[ut,_.value]]):(fe(),me(Pt,{key:1},[et(je(b.isbn),1)],64))]),P("td",null,[g.value===b.id?Ge((fe(),me("input",{key:0,"onUpdate:modelValue":v[8]||(v[8]=E=>m.value=E),type:"text",class:"inrow"},null,512)),[[ut,m.value]]):(fe(),me(Pt,{key:1},[et(je(b.name),1)],64))]),P("td",Hx,[g.value===b.id?(fe(),me(Pt,{key:0},[P("button",{class:"btn small",onClick:E=>W(b.id)},"Save",8,Wx),P("button",{class:"btn ghost small",onClick:U},"Cancel")],64)):(fe(),me(Pt,{key:1},[P("button",{class:"btn small",onClick:E=>$(b)},"Edit",8,Kx),P("button",{class:"btn danger small",onClick:E=>re(b.id)},"Delete",8,Gx)],64))])]))),128))])]))])]))}},Yx=$n(Qx,[["__scopeId","data-v-39a030ad"]]);function Yb(t,e){return function(){return t.apply(e,arguments)}}const{toString:Jx}=Object.prototype,{getPrototypeOf:nh}=Object,{iterator:el,toStringTag:Jb}=Symbol,tl=(t=>e=>{const r=Jx.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),mr=t=>(t=t.toLowerCase(),e=>tl(e)===t),rl=t=>e=>typeof e===t,{isArray:ps}=Array,ns=rl("undefined");function Ki(t){return t!==null&&!ns(t)&&t.constructor!==null&&!ns(t.constructor)&&Wt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Xb=mr("ArrayBuffer");function Xx(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Xb(t.buffer),e}const Zx=rl("string"),Wt=rl("function"),Zb=rl("number"),Gi=t=>t!==null&&typeof t=="object",e5=t=>t===!0||t===!1,$a=t=>{if(tl(t)!=="object")return!1;const e=nh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Jb in t)&&!(el in t)},t5=t=>{if(!Gi(t)||Ki(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},r5=mr("Date"),n5=mr("File"),o5=mr("Blob"),s5=mr("FileList"),i5=t=>Gi(t)&&Wt(t.pipe),a5=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Wt(t.append)&&((e=tl(t))==="formdata"||e==="object"&&Wt(t.toString)&&t.toString()==="[object FormData]"))},c5=mr("URLSearchParams"),[l5,u5,d5,h5]=["ReadableStream","Request","Response","Headers"].map(mr),f5=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qi(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,o;if(typeof t!="object"&&(t=[t]),ps(t))for(n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else{if(Ki(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),i=s.length;let c;for(n=0;n<i;n++)c=s[n],e.call(null,t[c],c,t)}}function ev(t,e){if(Ki(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,o;for(;n-- >0;)if(o=r[n],e===o.toLowerCase())return o;return null}const Xn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tv=t=>!ns(t)&&t!==Xn;function Vu(){const{caseless:t,skipUndefined:e}=tv(this)&&this||{},r={},n=(o,s)=>{const i=t&&ev(r,s)||s;$a(r[i])&&$a(o)?r[i]=Vu(r[i],o):$a(o)?r[i]=Vu({},o):ps(o)?r[i]=o.slice():(!e||!ns(o))&&(r[i]=o)};for(let o=0,s=arguments.length;o<s;o++)arguments[o]&&Qi(arguments[o],n);return r}const p5=(t,e,r,{allOwnKeys:n}={})=>(Qi(e,(o,s)=>{r&&Wt(o)?t[s]=Yb(o,r):t[s]=o},{allOwnKeys:n}),t),g5=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),m5=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},y5=(t,e,r,n)=>{let o,s,i;const c={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),s=o.length;s-- >0;)i=o[s],(!n||n(i,t,e))&&!c[i]&&(e[i]=t[i],c[i]=!0);t=r!==!1&&nh(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},b5=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},v5=t=>{if(!t)return null;if(ps(t))return t;let e=t.length;if(!Zb(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},_5=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&nh(Uint8Array)),w5=(t,e)=>{const n=(t&&t[el]).call(t);let o;for(;(o=n.next())&&!o.done;){const s=o.value;e.call(t,s[0],s[1])}},E5=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},T5=mr("HTMLFormElement"),C5=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),Tg=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),k5=mr("RegExp"),rv=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Qi(r,(o,s)=>{let i;(i=e(o,s,t))!==!1&&(n[s]=i||o)}),Object.defineProperties(t,n)},I5=t=>{rv(t,(e,r)=>{if(Wt(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Wt(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},R5=(t,e)=>{const r={},n=o=>{o.forEach(s=>{r[s]=!0})};return ps(t)?n(t):n(String(t).split(e)),r},S5=()=>{},A5=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function P5(t){return!!(t&&Wt(t.append)&&t[Jb]==="FormData"&&t[el])}const x5=t=>{const e=new Array(10),r=(n,o)=>{if(Gi(n)){if(e.indexOf(n)>=0)return;if(Ki(n))return n;if(!("toJSON"in n)){e[o]=n;const s=ps(n)?[]:{};return Qi(n,(i,c)=>{const l=r(i,o+1);!ns(l)&&(s[c]=l)}),e[o]=void 0,s}}return n};return r(t,0)},O5=mr("AsyncFunction"),N5=t=>t&&(Gi(t)||Wt(t))&&Wt(t.then)&&Wt(t.catch),nv=((t,e)=>t?setImmediate:e?((r,n)=>(Xn.addEventListener("message",({source:o,data:s})=>{o===Xn&&s===r&&n.length&&n.shift()()},!1),o=>{n.push(o),Xn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Wt(Xn.postMessage)),D5=typeof queueMicrotask<"u"?queueMicrotask.bind(Xn):typeof process<"u"&&process.nextTick||nv,V5=t=>t!=null&&Wt(t[el]),N={isArray:ps,isArrayBuffer:Xb,isBuffer:Ki,isFormData:a5,isArrayBufferView:Xx,isString:Zx,isNumber:Zb,isBoolean:e5,isObject:Gi,isPlainObject:$a,isEmptyObject:t5,isReadableStream:l5,isRequest:u5,isResponse:d5,isHeaders:h5,isUndefined:ns,isDate:r5,isFile:n5,isBlob:o5,isRegExp:k5,isFunction:Wt,isStream:i5,isURLSearchParams:c5,isTypedArray:_5,isFileList:s5,forEach:Qi,merge:Vu,extend:p5,trim:f5,stripBOM:g5,inherits:m5,toFlatObject:y5,kindOf:tl,kindOfTest:mr,endsWith:b5,toArray:v5,forEachEntry:w5,matchAll:E5,isHTMLForm:T5,hasOwnProperty:Tg,hasOwnProp:Tg,reduceDescriptors:rv,freezeMethods:I5,toObjectSet:R5,toCamelCase:C5,noop:S5,toFiniteNumber:A5,findKey:ev,global:Xn,isContextDefined:tv,isSpecCompliantForm:P5,toJSONObject:x5,isAsyncFn:O5,isThenable:N5,setImmediate:nv,asap:D5,isIterable:V5};function ye(t,e,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}N.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.status}}});const ov=ye.prototype,sv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{sv[t]={value:t}});Object.defineProperties(ye,sv);Object.defineProperty(ov,"isAxiosError",{value:!0});ye.from=(t,e,r,n,o,s)=>{const i=Object.create(ov);N.toFlatObject(t,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const c=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return ye.call(i,c,l,r,n,o),t&&i.cause==null&&Object.defineProperty(i,"cause",{value:t,configurable:!0}),i.name=t&&t.name||"Error",s&&Object.assign(i,s),i};const $5=null;function $u(t){return N.isPlainObject(t)||N.isArray(t)}function iv(t){return N.endsWith(t,"[]")?t.slice(0,-2):t}function Cg(t,e,r){return t?t.concat(e).map(function(o,s){return o=iv(o),!r&&s?"["+o+"]":o}).join(r?".":""):e}function L5(t){return N.isArray(t)&&!t.some($u)}const B5=N.toFlatObject(N,{},null,function(e){return/^is[A-Z]/.test(e)});function nl(t,e,r){if(!N.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=N.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,k){return!N.isUndefined(k[S])});const n=r.metaTokens,o=r.visitor||d,s=r.dots,i=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(e);if(!N.isFunction(o))throw new TypeError("visitor must be a function");function u(_){if(_===null)return"";if(N.isDate(_))return _.toISOString();if(N.isBoolean(_))return _.toString();if(!l&&N.isBlob(_))throw new ye("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(_)||N.isTypedArray(_)?l&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function d(_,S,k){let V=_;if(_&&!k&&typeof _=="object"){if(N.endsWith(S,"{}"))S=n?S:S.slice(0,-2),_=JSON.stringify(_);else if(N.isArray(_)&&L5(_)||(N.isFileList(_)||N.endsWith(S,"[]"))&&(V=N.toArray(_)))return S=iv(S),V.forEach(function(U,W){!(N.isUndefined(U)||U===null)&&e.append(i===!0?Cg([S],W,s):i===null?S:S+"[]",u(U))}),!1}return $u(_)?!0:(e.append(Cg(k,S,s),u(_)),!1)}const f=[],g=Object.assign(B5,{defaultVisitor:d,convertValue:u,isVisitable:$u});function m(_,S){if(!N.isUndefined(_)){if(f.indexOf(_)!==-1)throw Error("Circular reference detected in "+S.join("."));f.push(_),N.forEach(_,function(V,$){(!(N.isUndefined(V)||V===null)&&o.call(e,V,N.isString($)?$.trim():$,S,g))===!0&&m(V,S?S.concat($):[$])}),f.pop()}}if(!N.isObject(t))throw new TypeError("data must be an object");return m(t),e}function kg(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function oh(t,e){this._pairs=[],t&&nl(t,this,e)}const av=oh.prototype;av.append=function(e,r){this._pairs.push([e,r])};av.toString=function(e){const r=e?function(n){return e.call(this,n,kg)}:kg;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function M5(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function cv(t,e,r){if(!e)return t;const n=r&&r.encode||M5;N.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let s;if(o?s=o(e,r):s=N.isURLSearchParams(e)?e.toString():new oh(e,r).toString(n),s){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Ig{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){N.forEach(this.handlers,function(n){n!==null&&e(n)})}}const lv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},F5=typeof URLSearchParams<"u"?URLSearchParams:oh,U5=typeof FormData<"u"?FormData:null,j5=typeof Blob<"u"?Blob:null,z5={isBrowser:!0,classes:{URLSearchParams:F5,FormData:U5,Blob:j5},protocols:["http","https","file","blob","url","data"]},sh=typeof window<"u"&&typeof document<"u",Lu=typeof navigator=="object"&&navigator||void 0,q5=sh&&(!Lu||["ReactNative","NativeScript","NS"].indexOf(Lu.product)<0),H5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",W5=sh&&window.location.href||"http://localhost",K5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sh,hasStandardBrowserEnv:q5,hasStandardBrowserWebWorkerEnv:H5,navigator:Lu,origin:W5},Symbol.toStringTag,{value:"Module"})),Nt={...K5,...z5};function G5(t,e){return nl(t,new Nt.classes.URLSearchParams,{visitor:function(r,n,o,s){return Nt.isNode&&N.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Q5(t){return N.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Y5(t){const e={},r=Object.keys(t);let n;const o=r.length;let s;for(n=0;n<o;n++)s=r[n],e[s]=t[s];return e}function uv(t){function e(r,n,o,s){let i=r[s++];if(i==="__proto__")return!0;const c=Number.isFinite(+i),l=s>=r.length;return i=!i&&N.isArray(o)?o.length:i,l?(N.hasOwnProp(o,i)?o[i]=[o[i],n]:o[i]=n,!c):((!o[i]||!N.isObject(o[i]))&&(o[i]=[]),e(r,n,o[i],s)&&N.isArray(o[i])&&(o[i]=Y5(o[i])),!c)}if(N.isFormData(t)&&N.isFunction(t.entries)){const r={};return N.forEachEntry(t,(n,o)=>{e(Q5(n),o,r,0)}),r}return null}function J5(t,e,r){if(N.isString(t))try{return(e||JSON.parse)(t),N.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Yi={transitional:lv,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,s=N.isObject(e);if(s&&N.isHTMLForm(e)&&(e=new FormData(e)),N.isFormData(e))return o?JSON.stringify(uv(e)):e;if(N.isArrayBuffer(e)||N.isBuffer(e)||N.isStream(e)||N.isFile(e)||N.isBlob(e)||N.isReadableStream(e))return e;if(N.isArrayBufferView(e))return e.buffer;if(N.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return G5(e,this.formSerializer).toString();if((c=N.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return nl(c?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||o?(r.setContentType("application/json",!1),J5(e)):e}],transformResponse:[function(e){const r=this.transitional||Yi.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(N.isResponse(e)||N.isReadableStream(e))return e;if(e&&N.isString(e)&&(n&&!this.responseType||o)){const i=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(c){if(i)throw c.name==="SyntaxError"?ye.from(c,ye.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nt.classes.FormData,Blob:Nt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],t=>{Yi.headers[t]={}});const X5=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Z5=t=>{const e={};let r,n,o;return t&&t.split(`
`).forEach(function(i){o=i.indexOf(":"),r=i.substring(0,o).trim().toLowerCase(),n=i.substring(o+1).trim(),!(!r||e[r]&&X5[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},Rg=Symbol("internals");function Ds(t){return t&&String(t).trim().toLowerCase()}function La(t){return t===!1||t==null?t:N.isArray(t)?t.map(La):String(t)}function eO(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const tO=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function zl(t,e,r,n,o){if(N.isFunction(n))return n.call(this,e,r);if(o&&(e=r),!!N.isString(e)){if(N.isString(n))return e.indexOf(n)!==-1;if(N.isRegExp(n))return n.test(e)}}function rO(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function nO(t,e){const r=N.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(o,s,i){return this[n].call(this,e,o,s,i)},configurable:!0})})}let Kt=class{constructor(e){e&&this.set(e)}set(e,r,n){const o=this;function s(c,l,u){const d=Ds(l);if(!d)throw new Error("header name must be a non-empty string");const f=N.findKey(o,d);(!f||o[f]===void 0||u===!0||u===void 0&&o[f]!==!1)&&(o[f||l]=La(c))}const i=(c,l)=>N.forEach(c,(u,d)=>s(u,d,l));if(N.isPlainObject(e)||e instanceof this.constructor)i(e,r);else if(N.isString(e)&&(e=e.trim())&&!tO(e))i(Z5(e),r);else if(N.isObject(e)&&N.isIterable(e)){let c={},l,u;for(const d of e){if(!N.isArray(d))throw TypeError("Object iterator must return a key-value pair");c[u=d[0]]=(l=c[u])?N.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}i(c,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=Ds(e),e){const n=N.findKey(this,e);if(n){const o=this[n];if(!r)return o;if(r===!0)return eO(o);if(N.isFunction(r))return r.call(this,o,n);if(N.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Ds(e),e){const n=N.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||zl(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let o=!1;function s(i){if(i=Ds(i),i){const c=N.findKey(n,i);c&&(!r||zl(n,n[c],c,r))&&(delete n[c],o=!0)}}return N.isArray(e)?e.forEach(s):s(e),o}clear(e){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const s=r[n];(!e||zl(this,this[s],s,e,!0))&&(delete this[s],o=!0)}return o}normalize(e){const r=this,n={};return N.forEach(this,(o,s)=>{const i=N.findKey(n,s);if(i){r[i]=La(o),delete r[s];return}const c=e?rO(s):String(s).trim();c!==s&&delete r[s],r[c]=La(o),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return N.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=e&&N.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(o=>n.set(o)),n}static accessor(e){const n=(this[Rg]=this[Rg]={accessors:{}}).accessors,o=this.prototype;function s(i){const c=Ds(i);n[c]||(nO(o,i),n[c]=!0)}return N.isArray(e)?e.forEach(s):s(e),this}};Kt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(Kt.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});N.freezeMethods(Kt);function ql(t,e){const r=this||Yi,n=e||r,o=Kt.from(n.headers);let s=n.data;return N.forEach(t,function(c){s=c.call(r,s,o.normalize(),e?e.status:void 0)}),o.normalize(),s}function dv(t){return!!(t&&t.__CANCEL__)}function gs(t,e,r){ye.call(this,t??"canceled",ye.ERR_CANCELED,e,r),this.name="CanceledError"}N.inherits(gs,ye,{__CANCEL__:!0});function hv(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new ye("Request failed with status code "+r.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function oO(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function sO(t,e){t=t||10;const r=new Array(t),n=new Array(t);let o=0,s=0,i;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=n[s];i||(i=u),r[o]=l,n[o]=u;let f=s,g=0;for(;f!==o;)g+=r[f++],f=f%t;if(o=(o+1)%t,o===s&&(s=(s+1)%t),u-i<e)return;const m=d&&u-d;return m?Math.round(g*1e3/m):void 0}}function iO(t,e){let r=0,n=1e3/e,o,s;const i=(u,d=Date.now())=>{r=d,o=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(o=u,s||(s=setTimeout(()=>{s=null,i(o)},n-f)))},()=>o&&i(o)]}const fc=(t,e,r=3)=>{let n=0;const o=sO(50,250);return iO(s=>{const i=s.loaded,c=s.lengthComputable?s.total:void 0,l=i-n,u=o(l),d=i<=c;n=i;const f={loaded:i,total:c,progress:c?i/c:void 0,bytes:l,rate:u||void 0,estimated:u&&c&&d?(c-i)/u:void 0,event:s,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(f)},r)},Sg=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},Ag=t=>(...e)=>N.asap(()=>t(...e)),aO=Nt.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Nt.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Nt.origin),Nt.navigator&&/(msie|trident)/i.test(Nt.navigator.userAgent)):()=>!0,cO=Nt.hasStandardBrowserEnv?{write(t,e,r,n,o,s){const i=[t+"="+encodeURIComponent(e)];N.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),N.isString(n)&&i.push("path="+n),N.isString(o)&&i.push("domain="+o),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lO(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function uO(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function fv(t,e,r){let n=!lO(e);return t&&(n||r==!1)?uO(t,e):e}const Pg=t=>t instanceof Kt?{...t}:t;function po(t,e){e=e||{};const r={};function n(u,d,f,g){return N.isPlainObject(u)&&N.isPlainObject(d)?N.merge.call({caseless:g},u,d):N.isPlainObject(d)?N.merge({},d):N.isArray(d)?d.slice():d}function o(u,d,f,g){if(N.isUndefined(d)){if(!N.isUndefined(u))return n(void 0,u,f,g)}else return n(u,d,f,g)}function s(u,d){if(!N.isUndefined(d))return n(void 0,d)}function i(u,d){if(N.isUndefined(d)){if(!N.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function c(u,d,f){if(f in e)return n(u,d);if(f in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:c,headers:(u,d,f)=>o(Pg(u),Pg(d),f,!0)};return N.forEach(Object.keys({...t,...e}),function(d){const f=l[d]||o,g=f(t[d],e[d],d);N.isUndefined(g)&&f!==c||(r[d]=g)}),r}const pv=t=>{const e=po({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:s,headers:i,auth:c}=e;if(e.headers=i=Kt.from(i),e.url=cv(fv(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&i.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),N.isFormData(r)){if(Nt.hasStandardBrowserEnv||Nt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(N.isFunction(r.getHeaders)){const l=r.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(Nt.hasStandardBrowserEnv&&(n&&N.isFunction(n)&&(n=n(e)),n||n!==!1&&aO(e.url))){const l=o&&s&&cO.read(s);l&&i.set(o,l)}return e},dO=typeof XMLHttpRequest<"u",hO=dO&&function(t){return new Promise(function(r,n){const o=pv(t);let s=o.data;const i=Kt.from(o.headers).normalize();let{responseType:c,onUploadProgress:l,onDownloadProgress:u}=o,d,f,g,m,_;function S(){m&&m(),_&&_(),o.cancelToken&&o.cancelToken.unsubscribe(d),o.signal&&o.signal.removeEventListener("abort",d)}let k=new XMLHttpRequest;k.open(o.method.toUpperCase(),o.url,!0),k.timeout=o.timeout;function V(){if(!k)return;const U=Kt.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),re={data:!c||c==="text"||c==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:U,config:t,request:k};hv(function(v){r(v),S()},function(v){n(v),S()},re),k=null}"onloadend"in k?k.onloadend=V:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(V)},k.onabort=function(){k&&(n(new ye("Request aborted",ye.ECONNABORTED,t,k)),k=null)},k.onerror=function(W){const re=W&&W.message?W.message:"Network Error",ee=new ye(re,ye.ERR_NETWORK,t,k);ee.event=W||null,n(ee),k=null},k.ontimeout=function(){let W=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const re=o.transitional||lv;o.timeoutErrorMessage&&(W=o.timeoutErrorMessage),n(new ye(W,re.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,t,k)),k=null},s===void 0&&i.setContentType(null),"setRequestHeader"in k&&N.forEach(i.toJSON(),function(W,re){k.setRequestHeader(re,W)}),N.isUndefined(o.withCredentials)||(k.withCredentials=!!o.withCredentials),c&&c!=="json"&&(k.responseType=o.responseType),u&&([g,_]=fc(u,!0),k.addEventListener("progress",g)),l&&k.upload&&([f,m]=fc(l),k.upload.addEventListener("progress",f),k.upload.addEventListener("loadend",m)),(o.cancelToken||o.signal)&&(d=U=>{k&&(n(!U||U.type?new gs(null,t,k):U),k.abort(),k=null)},o.cancelToken&&o.cancelToken.subscribe(d),o.signal&&(o.signal.aborted?d():o.signal.addEventListener("abort",d)));const $=oO(o.url);if($&&Nt.protocols.indexOf($)===-1){n(new ye("Unsupported protocol "+$+":",ye.ERR_BAD_REQUEST,t));return}k.send(s||null)})},fO=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,o;const s=function(u){if(!o){o=!0,c();const d=u instanceof Error?u:this.reason;n.abort(d instanceof ye?d:new gs(d instanceof Error?d.message:d))}};let i=e&&setTimeout(()=>{i=null,s(new ye(`timeout ${e} of ms exceeded`,ye.ETIMEDOUT))},e);const c=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>N.asap(c),l}},pO=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,o;for(;n<r;)o=n+e,yield t.slice(n,o),n=o},gO=async function*(t,e){for await(const r of mO(t))yield*pO(r,e)},mO=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},xg=(t,e,r,n)=>{const o=gO(t,e);let s=0,i,c=l=>{i||(i=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await o.next();if(u){c(),l.close();return}let f=d.byteLength;if(r){let g=s+=f;r(g)}l.enqueue(new Uint8Array(d))}catch(u){throw c(u),u}},cancel(l){return c(l),o.return()}},{highWaterMark:2})},Og=64*1024,{isFunction:ma}=N,yO=(({Request:t,Response:e})=>({Request:t,Response:e}))(N.global),{ReadableStream:Ng,TextEncoder:Dg}=N.global,Vg=(t,...e)=>{try{return!!t(...e)}catch{return!1}},bO=t=>{t=N.merge.call({skipUndefined:!0},yO,t);const{fetch:e,Request:r,Response:n}=t,o=e?ma(e):typeof fetch=="function",s=ma(r),i=ma(n);if(!o)return!1;const c=o&&ma(Ng),l=o&&(typeof Dg=="function"?(_=>S=>_.encode(S))(new Dg):async _=>new Uint8Array(await new r(_).arrayBuffer())),u=s&&c&&Vg(()=>{let _=!1;const S=new r(Nt.origin,{body:new Ng,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!S}),d=i&&c&&Vg(()=>N.isReadableStream(new n("").body)),f={stream:d&&(_=>_.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!f[_]&&(f[_]=(S,k)=>{let V=S&&S[_];if(V)return V.call(S);throw new ye(`Response type '${_}' is not supported`,ye.ERR_NOT_SUPPORT,k)})});const g=async _=>{if(_==null)return 0;if(N.isBlob(_))return _.size;if(N.isSpecCompliantForm(_))return(await new r(Nt.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(N.isArrayBufferView(_)||N.isArrayBuffer(_))return _.byteLength;if(N.isURLSearchParams(_)&&(_=_+""),N.isString(_))return(await l(_)).byteLength},m=async(_,S)=>{const k=N.toFiniteNumber(_.getContentLength());return k??g(S)};return async _=>{let{url:S,method:k,data:V,signal:$,cancelToken:U,timeout:W,onDownloadProgress:re,onUploadProgress:ee,responseType:v,headers:b,withCredentials:E="same-origin",fetchOptions:R}=pv(_),I=e||fetch;v=v?(v+"").toLowerCase():"text";let A=fO([$,U&&U.toAbortSignal()],W),T=null;const Ee=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let qe;try{if(ee&&u&&k!=="get"&&k!=="head"&&(qe=await m(b,V))!==0){let Ae=new r(S,{method:"POST",body:V,duplex:"half"}),xe;if(N.isFormData(V)&&(xe=Ae.headers.get("content-type"))&&b.setContentType(xe),Ae.body){const[ht,Qe]=Sg(qe,fc(Ag(ee)));V=xg(Ae.body,Og,ht,Qe)}}N.isString(E)||(E=E?"include":"omit");const _e=s&&"credentials"in r.prototype,be={...R,signal:A,method:k.toUpperCase(),headers:b.normalize().toJSON(),body:V,duplex:"half",credentials:_e?E:void 0};T=s&&new r(S,be);let ae=await(s?I(T,R):I(S,be));const Ke=d&&(v==="stream"||v==="response");if(d&&(re||Ke&&Ee)){const Ae={};["status","statusText","headers"].forEach(Ut=>{Ae[Ut]=ae[Ut]});const xe=N.toFiniteNumber(ae.headers.get("content-length")),[ht,Qe]=re&&Sg(xe,fc(Ag(re),!0))||[];ae=new n(xg(ae.body,Og,ht,()=>{Qe&&Qe(),Ee&&Ee()}),Ae)}v=v||"text";let Xe=await f[N.findKey(f,v)||"text"](ae,_);return!Ke&&Ee&&Ee(),await new Promise((Ae,xe)=>{hv(Ae,xe,{data:Xe,headers:Kt.from(ae.headers),status:ae.status,statusText:ae.statusText,config:_,request:T})})}catch(_e){throw Ee&&Ee(),_e&&_e.name==="TypeError"&&/Load failed|fetch/i.test(_e.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,_,T),{cause:_e.cause||_e}):ye.from(_e,_e&&_e.code,_,T)}}},vO=new Map,gv=t=>{let e=t?t.env:{};const{fetch:r,Request:n,Response:o}=e,s=[n,o,r];let i=s.length,c=i,l,u,d=vO;for(;c--;)l=s[c],u=d.get(l),u===void 0&&d.set(l,u=c?new Map:bO(e)),d=u;return u};gv();const Bu={http:$5,xhr:hO,fetch:{get:gv}};N.forEach(Bu,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const $g=t=>`- ${t}`,_O=t=>N.isFunction(t)||t===null||t===!1,mv={getAdapter:(t,e)=>{t=N.isArray(t)?t:[t];const{length:r}=t;let n,o;const s={};for(let i=0;i<r;i++){n=t[i];let c;if(o=n,!_O(n)&&(o=Bu[(c=String(n)).toLowerCase()],o===void 0))throw new ye(`Unknown adapter '${c}'`);if(o&&(N.isFunction(o)||(o=o.get(e))))break;s[c||"#"+i]=o}if(!o){const i=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let c=r?i.length>1?`since :
`+i.map($g).join(`
`):" "+$g(i[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return o},adapters:Bu};function Hl(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new gs(null,t)}function Lg(t){return Hl(t),t.headers=Kt.from(t.headers),t.data=ql.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),mv.getAdapter(t.adapter||Yi.adapter,t)(t).then(function(n){return Hl(t),n.data=ql.call(t,t.transformResponse,n),n.headers=Kt.from(n.headers),n},function(n){return dv(n)||(Hl(t),n&&n.response&&(n.response.data=ql.call(t,t.transformResponse,n.response),n.response.headers=Kt.from(n.response.headers))),Promise.reject(n)})}const yv="1.12.2",ol={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ol[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const Bg={};ol.transitional=function(e,r,n){function o(s,i){return"[Axios v"+yv+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,c)=>{if(e===!1)throw new ye(o(i," has been removed"+(r?" in "+r:"")),ye.ERR_DEPRECATED);return r&&!Bg[i]&&(Bg[i]=!0,console.warn(o(i," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,i,c):!0}};ol.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function wO(t,e,r){if(typeof t!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let o=n.length;for(;o-- >0;){const s=n[o],i=e[s];if(i){const c=t[s],l=c===void 0||i(c,s,t);if(l!==!0)throw new ye("option "+s+" must be "+l,ye.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ye("Unknown option "+s,ye.ERR_BAD_OPTION)}}const Ba={assertOptions:wO,validators:ol},_r=Ba.validators;let ro=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ig,response:new Ig}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const s=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=po(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:s}=r;n!==void 0&&Ba.assertOptions(n,{silentJSONParsing:_r.transitional(_r.boolean),forcedJSONParsing:_r.transitional(_r.boolean),clarifyTimeoutError:_r.transitional(_r.boolean)},!1),o!=null&&(N.isFunction(o)?r.paramsSerializer={serialize:o}:Ba.assertOptions(o,{encode:_r.function,serialize:_r.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ba.assertOptions(r,{baseUrl:_r.spelling("baseURL"),withXsrfToken:_r.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&N.merge(s.common,s[r.method]);s&&N.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),r.headers=Kt.concat(i,s);const c=[];let l=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(r)===!1||(l=l&&S.synchronous,c.unshift(S.fulfilled,S.rejected))});const u=[];this.interceptors.response.forEach(function(S){u.push(S.fulfilled,S.rejected)});let d,f=0,g;if(!l){const _=[Lg.bind(this),void 0];for(_.unshift(...c),_.push(...u),g=_.length,d=Promise.resolve(r);f<g;)d=d.then(_[f++],_[f++]);return d}g=c.length;let m=r;for(;f<g;){const _=c[f++],S=c[f++];try{m=_(m)}catch(k){S.call(this,k);break}}try{d=Lg.call(this,m)}catch(_){return Promise.reject(_)}for(f=0,g=u.length;f<g;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=po(this.defaults,e);const r=fv(e.baseURL,e.url,e.allowAbsoluteUrls);return cv(r,e.params,e.paramsSerializer)}};N.forEach(["delete","get","head","options"],function(e){ro.prototype[e]=function(r,n){return this.request(po(n||{},{method:e,url:r,data:(n||{}).data}))}});N.forEach(["post","put","patch"],function(e){function r(n){return function(s,i,c){return this.request(po(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}ro.prototype[e]=r(),ro.prototype[e+"Form"]=r(!0)});let EO=class bv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(o=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](o);n._listeners=null}),this.promise.then=o=>{let s;const i=new Promise(c=>{n.subscribe(c),s=c}).then(o);return i.cancel=function(){n.unsubscribe(s)},i},e(function(s,i,c){n.reason||(n.reason=new gs(s,i,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new bv(function(o){e=o}),cancel:e}}};function TO(t){return function(r){return t.apply(null,r)}}function CO(t){return N.isObject(t)&&t.isAxiosError===!0}const Mu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Mu).forEach(([t,e])=>{Mu[e]=t});function vv(t){const e=new ro(t),r=Yb(ro.prototype.request,e);return N.extend(r,ro.prototype,e,{allOwnKeys:!0}),N.extend(r,e,null,{allOwnKeys:!0}),r.create=function(o){return vv(po(t,o))},r}const Je=vv(Yi);Je.Axios=ro;Je.CanceledError=gs;Je.CancelToken=EO;Je.isCancel=dv;Je.VERSION=yv;Je.toFormData=nl;Je.AxiosError=ye;Je.Cancel=Je.CanceledError;Je.all=function(e){return Promise.all(e)};Je.spread=TO;Je.isAxiosError=CO;Je.mergeConfig=po;Je.AxiosHeaders=Kt;Je.formToJSON=t=>uv(N.isHTMLForm(t)?new FormData(t):t);Je.getAdapter=mv.getAdapter;Je.HttpStatusCode=Mu;Je.default=Je;const{Axios:nF,AxiosError:oF,CanceledError:sF,isCancel:iF,CancelToken:aF,VERSION:cF,all:lF,Cancel:uF,isAxiosError:dF,spread:hF,toFormData:fF,AxiosHeaders:pF,HttpStatusCode:gF,formToJSON:mF,getAdapter:yF,mergeConfig:bF}=Je,kO={data(){return{count:null,error:null}},methods:{async getBookCount(){try{const t=await Je.get("https://countbooks-jrzcfalv2q-uc.a.run.app");this.count=t.data.count,this.error=null}catch(t){console.error("Error fetching book count:",t),this.error=t,this.count=null}}}},IO={id:"app"},RO={key:0},SO={key:1};function AO(t,e,r,n,o,s){return fe(),me("div",IO,[e[1]||(e[1]=P("h1",null,"Book Counter",-1)),P("button",{onClick:e[0]||(e[0]=(...i)=>s.getBookCount&&s.getBookCount(...i))},"Get Book Count"),o.count!==null?(fe(),me("p",RO,"Total number of books: "+je(o.count),1)):vt("",!0),o.error?(fe(),me("p",SO,je(o.error),1)):vt("",!0)])}const PO=$n(kO,[["render",AO]]),Mg="723afda37d2e6e92231706d224185539".trim(),Fg="https://api.openweathermap.org/data/2.5",xO={name:"WeatherView",data(){return{city:"",weatherData:null,hourlyForecast:[],dailyForecast:[]}},computed:{temperature(){return this.weatherData?Math.round(this.weatherData.main.temp):null},iconUrl(){return this.weatherData?`https://openweathermap.org/img/wn/${this.weatherData.weather[0].icon}@2x.png`:null}},mounted(){this.fetchCurrentLocationWeather()},methods:{async searchByCity(){const t=this.city.trim();t&&await this.fetchWeatherData(`${Fg}/weather`,{q:t,appid:Mg,units:"metric",lang:"en"})},async fetchCurrentLocationWeather(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(async({coords:t})=>{await this.fetchWeatherData(`${Fg}/weather`,{lat:t.latitude,lon:t.longitude,appid:Mg,units:"metric"})})},async fetchWeatherData(t,e){try{const{data:r}=await Je.get(t,{params:e});this.weatherData=r}catch(r){console.error("Error fetching weather data:",r.response?.status,r.response?.data||r.message),this.weatherData=null}}}},OO={class:"container"},NO={class:"header"},DO={class:"search-bar"},VO={key:0},$O=["src"];function LO(t,e,r,n,o,s){return fe(),me("div",OO,[P("div",NO,[e[3]||(e[3]=P("h1",null,"WEATHER APP",-1)),P("div",DO,[Ge(P("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=i=>o.city=i),placeholder:"Enter city name",class:"search-input",onKeyup:e[1]||(e[1]=vE((...i)=>s.searchByCity&&s.searchByCity(...i),["enter"]))},null,544),[[ut,o.city]]),P("button",{onClick:e[2]||(e[2]=(...i)=>s.searchByCity&&s.searchByCity(...i)),class:"search-button"},"Search")])]),P("main",null,[o.weatherData?(fe(),me("div",VO,[P("h2",null,je(o.weatherData.name)+", "+je(o.weatherData.sys.country),1),P("div",null,[P("img",{src:s.iconUrl,alt:"Weather Icon"},null,8,$O),P("p",null,je(s.temperature)+" C",1)]),P("span",null,je(o.weatherData.weather[0].description),1)])):vt("",!0)])])}const BO=$n(xO,[["render",LO],["__scopeId","data-v-7ed00860"]]),MO={name:"CountBookAPI",data(){return{jsondata:null,error:null}},computed:{output(){return this.error?{error:this.error?.message||String(this.error)}:this.jsondata??{}},pretty(){return JSON.stringify(this.output,null,2)}},mounted(){this.getBookCountAPI()},methods:{async getBookCountAPI(){try{const{data:t}=await Je.get("https://countbooks-jrzcfalv2q-uc.a.run.app");return this.jsondata=t,this.error=null,t}catch(t){return this.error=t,this.jsondata=null,null}}}};function FO(t,e,r,n,o,s){return fe(),me("pre",null,je(s.pretty),1)}const UO=$n(MO,[["render",FO],["__scopeId","data-v-077f4c6f"]]);var jO={};const zO=[{path:"/",name:"Home",component:gC},{path:"/about",name:"About",component:yC,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:IC},{path:"/denied",name:"AccessDenied",component:PC},{path:"/FireLogin",name:"FireLogin",component:mx},{path:"/FireRegister",name:"FireRegister",component:Rx},{path:"/AddBook",name:"AddBook",component:Yx},{path:"/GetBookCount",name:"GetBookCount",component:PO},{path:"/WeatherCheck",name:"WeatherCheck",component:BO},{path:"/CountBookAPI",name:"CountBookAPI",component:UO}],_v=IT({history:tT(jO.BASE_URL),routes:zO});_v.beforeEach((t,e,r)=>{if(t.meta.requiresAuth&&!Di.value)return r({path:"/login",query:{redirect:t.fullPath}});r()});var qO=Object.defineProperty,Ug=Object.getOwnPropertySymbols,HO=Object.prototype.hasOwnProperty,WO=Object.prototype.propertyIsEnumerable,jg=(t,e,r)=>e in t?qO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,KO=(t,e)=>{for(var r in e||(e={}))HO.call(e,r)&&jg(t,r,e[r]);if(Ug)for(var r of Ug(e))WO.call(e,r)&&jg(t,r,e[r]);return t};function ih(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!(t instanceof Date)&&typeof t=="object"&&Object.keys(t).length===0}function GO(t){return typeof t=="function"&&"call"in t&&"apply"in t}function tt(t){return!ih(t)}function no(t,e=!0){return t instanceof Object&&t.constructor===Object&&(e||Object.keys(t).length!==0)}function wv(t={},e={}){let r=KO({},t);return Object.keys(e).forEach(n=>{let o=n;no(e[o])&&o in t&&no(t[o])?r[o]=wv(t[o],e[o]):r[o]=e[o]}),r}function QO(...t){return t.reduce((e,r,n)=>n===0?r:wv(e,r),{})}function _n(t,...e){return GO(t)?t(...e):t}function os(t,e=!0){return typeof t=="string"&&(e||t!=="")}function YO(t){return tt(t)&&!isNaN(t)}function oo(t,e){if(e){let r=e.test(t);return e.lastIndex=0,r}return!1}function JO(...t){return QO(...t)}function oi(t){return t&&t.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":").trim()}function Ev(t){return os(t)?t.replace(/(_)/g,"-").replace(/[A-Z]/g,(e,r)=>r===0?e:"-"+e.toLowerCase()).toLowerCase():t}function Tv(){let t=new Map;return{on(e,r){let n=t.get(e);return n?n.push(r):n=[r],t.set(e,n),this},off(e,r){let n=t.get(e);return n&&n.splice(n.indexOf(r)>>>0,1),this},emit(e,r){let n=t.get(e);n&&n.forEach(o=>{o(r)})},clear(){t.clear()}}}function XO(t){if(t){let e=t.parentNode;return e&&e instanceof ShadowRoot&&e.host&&(e=e.host),e}return null}function ZO(t){return!!(t!==null&&typeof t<"u"&&t.nodeName&&XO(t))}function Cv(t){return typeof Element<"u"?t instanceof Element:t!==null&&typeof t=="object"&&t.nodeType===1&&typeof t.nodeName=="string"}function Fu(t,e={}){if(Cv(t)){let r=(n,o)=>{var s,i;let c=(s=t?.$attrs)!=null&&s[n]?[(i=t?.$attrs)==null?void 0:i[n]]:[];return[o].flat().reduce((l,u)=>{if(u!=null){let d=typeof u;if(d==="string"||d==="number")l.push(u);else if(d==="object"){let f=Array.isArray(u)?r(n,u):Object.entries(u).map(([g,m])=>n==="style"&&(m||m===0)?`${g.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${m}`:m?g:void 0);l=f.length?l.concat(f.filter(g=>!!g)):l}}return l},c)};Object.entries(e).forEach(([n,o])=>{if(o!=null){let s=n.match(/^on(.+)/);s?t.addEventListener(s[1].toLowerCase(),o):n==="p-bind"||n==="pBind"?Fu(t,o):(o=n==="class"?[...new Set(r("class",o))].join(" ").trim():n==="style"?r("style",o).join(";").trim():o,(t.$attrs=t.$attrs||{})&&(t.$attrs[n]=o),t.setAttribute(n,o))}})}}function e2(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function t2(t,e="",r){Cv(t)&&r!==null&&r!==void 0&&t.setAttribute(e,r)}var r2=Object.defineProperty,n2=Object.defineProperties,o2=Object.getOwnPropertyDescriptors,pc=Object.getOwnPropertySymbols,kv=Object.prototype.hasOwnProperty,Iv=Object.prototype.propertyIsEnumerable,zg=(t,e,r)=>e in t?r2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,cr=(t,e)=>{for(var r in e||(e={}))kv.call(e,r)&&zg(t,r,e[r]);if(pc)for(var r of pc(e))Iv.call(e,r)&&zg(t,r,e[r]);return t},Wl=(t,e)=>n2(t,o2(e)),$r=(t,e)=>{var r={};for(var n in t)kv.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&pc)for(var n of pc(t))e.indexOf(n)<0&&Iv.call(t,n)&&(r[n]=t[n]);return r},s2=Tv(),Br=s2,Ci=/{([^}]*)}/g,Rv=/(\d+\s+[\+\-\*\/]\s+\d+)/g,Sv=/var\([^)]+\)/g;function qg(t){return os(t)?t.replace(/[A-Z]/g,(e,r)=>r===0?e:"."+e.toLowerCase()).toLowerCase():t}function i2(t){return no(t)&&t.hasOwnProperty("$value")&&t.hasOwnProperty("$type")?t.$value:t}function a2(t){return t.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function Uu(t="",e=""){return a2(`${os(t,!1)&&os(e,!1)?`${t}-`:t}${e}`)}function Av(t="",e=""){return`--${Uu(t,e)}`}function c2(t=""){let e=(t.match(/{/g)||[]).length,r=(t.match(/}/g)||[]).length;return(e+r)%2!==0}function Pv(t,e="",r="",n=[],o){if(os(t)){let s=t.trim();if(c2(s))return;if(oo(s,Ci)){let i=s.replaceAll(Ci,c=>{let l=c.replace(/{|}/g,"").split(".").filter(u=>!n.some(d=>oo(u,d)));return`var(${Av(r,Ev(l.join("-")))}${tt(o)?`, ${o}`:""})`});return oo(i.replace(Sv,"0"),Rv)?`calc(${i})`:i}return s}else if(YO(t))return t}function l2(t,e,r){os(e,!1)&&t.push(`${e}:${r};`)}function xo(t,e){return t?`${t}{${e}}`:""}function xv(t,e){if(t.indexOf("dt(")===-1)return t;function r(i,c){let l=[],u=0,d="",f=null,g=0;for(;u<=i.length;){let m=i[u];if((m==='"'||m==="'"||m==="`")&&i[u-1]!=="\\"&&(f=f===m?null:m),!f&&(m==="("&&g++,m===")"&&g--,(m===","||u===i.length)&&g===0)){let _=d.trim();_.startsWith("dt(")?l.push(xv(_,c)):l.push(n(_)),d="",u++;continue}m!==void 0&&(d+=m),u++}return l}function n(i){let c=i[0];if((c==='"'||c==="'"||c==="`")&&i[i.length-1]===c)return i.slice(1,-1);let l=Number(i);return isNaN(l)?i:l}let o=[],s=[];for(let i=0;i<t.length;i++)if(t[i]==="d"&&t.slice(i,i+3)==="dt(")s.push(i),i+=2;else if(t[i]===")"&&s.length>0){let c=s.pop();s.length===0&&o.push([c,i])}if(!o.length)return t;for(let i=o.length-1;i>=0;i--){let[c,l]=o[i],u=t.slice(c+3,l),d=r(u,e),f=e(...d);t=t.slice(0,c)+f+t.slice(l+1)}return t}var so=(...t)=>u2(Rt.getTheme(),...t),u2=(t={},e,r,n)=>{if(e){let{variable:o,options:s}=Rt.defaults||{},{prefix:i,transform:c}=t?.options||s||{},l=oo(e,Ci)?e:`{${e}}`;return n==="value"||ih(n)&&c==="strict"?Rt.getTokenValue(e):Pv(l,void 0,i,[o.excludedKeyRegex],r)}return""};function ya(t,...e){if(t instanceof Array){let r=t.reduce((n,o,s)=>{var i;return n+o+((i=_n(e[s],{dt:so}))!=null?i:"")},"");return xv(r,so)}return _n(t,{dt:so})}function d2(t,e={}){let r=Rt.defaults.variable,{prefix:n=r.prefix,selector:o=r.selector,excludedKeyRegex:s=r.excludedKeyRegex}=e,i=[],c=[],l=[{node:t,path:n}];for(;l.length;){let{node:d,path:f}=l.pop();for(let g in d){let m=d[g],_=i2(m),S=oo(g,s)?Uu(f):Uu(f,Ev(g));if(no(_))l.push({node:_,path:S});else{let k=Av(S),V=Pv(_,S,n,[s]);l2(c,k,V);let $=S;n&&$.startsWith(n+"-")&&($=$.slice(n.length+1)),i.push($.replace(/-/g,"."))}}}let u=c.join("");return{value:c,tokens:i,declarations:u,css:xo(o,u)}}var ar={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(t){return{type:"class",selector:t,matched:this.pattern.test(t.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(t){return{type:"attr",selector:`:root${t}`,matched:this.pattern.test(t.trim())}}},media:{pattern:/^@media (.*)$/,resolve(t){return{type:"media",selector:t,matched:this.pattern.test(t.trim())}}},system:{pattern:/^system$/,resolve(t){return{type:"system",selector:"@media (prefers-color-scheme: dark)",matched:this.pattern.test(t.trim())}}},custom:{resolve(t){return{type:"custom",selector:t,matched:!0}}}},resolve(t){let e=Object.keys(this.rules).filter(r=>r!=="custom").map(r=>this.rules[r]);return[t].flat().map(r=>{var n;return(n=e.map(o=>o.resolve(r)).find(o=>o.matched))!=null?n:this.rules.custom.resolve(r)})}},_toVariables(t,e){return d2(t,{prefix:e?.prefix})},getCommon({name:t="",theme:e={},params:r,set:n,defaults:o}){var s,i,c,l,u,d,f;let{preset:g,options:m}=e,_,S,k,V,$,U,W;if(tt(g)&&m.transform!=="strict"){let{primitive:re,semantic:ee,extend:v}=g,b=ee||{},{colorScheme:E}=b,R=$r(b,["colorScheme"]),I=v||{},{colorScheme:A}=I,T=$r(I,["colorScheme"]),Ee=E||{},{dark:qe}=Ee,_e=$r(Ee,["dark"]),be=A||{},{dark:ae}=be,Ke=$r(be,["dark"]),Xe=tt(re)?this._toVariables({primitive:re},m):{},Ae=tt(R)?this._toVariables({semantic:R},m):{},xe=tt(_e)?this._toVariables({light:_e},m):{},ht=tt(qe)?this._toVariables({dark:qe},m):{},Qe=tt(T)?this._toVariables({semantic:T},m):{},Ut=tt(Ke)?this._toVariables({light:Ke},m):{},ct=tt(ae)?this._toVariables({dark:ae},m):{},[B,Z]=[(s=Xe.declarations)!=null?s:"",Xe.tokens],[Y,ne]=[(i=Ae.declarations)!=null?i:"",Ae.tokens||[]],[Oe,w]=[(c=xe.declarations)!=null?c:"",xe.tokens||[]],[C,x]=[(l=ht.declarations)!=null?l:"",ht.tokens||[]],[F,j]=[(u=Qe.declarations)!=null?u:"",Qe.tokens||[]],[M,Q]=[(d=Ut.declarations)!=null?d:"",Ut.tokens||[]],[K,q]=[(f=ct.declarations)!=null?f:"",ct.tokens||[]];_=this.transformCSS(t,B,"light","variable",m,n,o),S=Z;let H=this.transformCSS(t,`${Y}${Oe}`,"light","variable",m,n,o),se=this.transformCSS(t,`${C}`,"dark","variable",m,n,o);k=`${H}${se}`,V=[...new Set([...ne,...w,...x])];let J=this.transformCSS(t,`${F}${M}color-scheme:light`,"light","variable",m,n,o),oe=this.transformCSS(t,`${K}color-scheme:dark`,"dark","variable",m,n,o);$=`${J}${oe}`,U=[...new Set([...j,...Q,...q])],W=_n(g.css,{dt:so})}return{primitive:{css:_,tokens:S},semantic:{css:k,tokens:V},global:{css:$,tokens:U},style:W}},getPreset({name:t="",preset:e={},options:r,params:n,set:o,defaults:s,selector:i}){var c,l,u;let d,f,g;if(tt(e)&&r.transform!=="strict"){let m=t.replace("-directive",""),_=e,{colorScheme:S,extend:k,css:V}=_,$=$r(_,["colorScheme","extend","css"]),U=k||{},{colorScheme:W}=U,re=$r(U,["colorScheme"]),ee=S||{},{dark:v}=ee,b=$r(ee,["dark"]),E=W||{},{dark:R}=E,I=$r(E,["dark"]),A=tt($)?this._toVariables({[m]:cr(cr({},$),re)},r):{},T=tt(b)?this._toVariables({[m]:cr(cr({},b),I)},r):{},Ee=tt(v)?this._toVariables({[m]:cr(cr({},v),R)},r):{},[qe,_e]=[(c=A.declarations)!=null?c:"",A.tokens||[]],[be,ae]=[(l=T.declarations)!=null?l:"",T.tokens||[]],[Ke,Xe]=[(u=Ee.declarations)!=null?u:"",Ee.tokens||[]],Ae=this.transformCSS(m,`${qe}${be}`,"light","variable",r,o,s,i),xe=this.transformCSS(m,Ke,"dark","variable",r,o,s,i);d=`${Ae}${xe}`,f=[...new Set([..._e,...ae,...Xe])],g=_n(V,{dt:so})}return{css:d,tokens:f,style:g}},getPresetC({name:t="",theme:e={},params:r,set:n,defaults:o}){var s;let{preset:i,options:c}=e,l=(s=i?.components)==null?void 0:s[t];return this.getPreset({name:t,preset:l,options:c,params:r,set:n,defaults:o})},getPresetD({name:t="",theme:e={},params:r,set:n,defaults:o}){var s,i;let c=t.replace("-directive",""),{preset:l,options:u}=e,d=((s=l?.components)==null?void 0:s[c])||((i=l?.directives)==null?void 0:i[c]);return this.getPreset({name:c,preset:d,options:u,params:r,set:n,defaults:o})},applyDarkColorScheme(t){return!(t.darkModeSelector==="none"||t.darkModeSelector===!1)},getColorSchemeOption(t,e){var r;return this.applyDarkColorScheme(t)?this.regex.resolve(t.darkModeSelector===!0?e.options.darkModeSelector:(r=t.darkModeSelector)!=null?r:e.options.darkModeSelector):[]},getLayerOrder(t,e={},r,n){let{cssLayer:o}=e;return o?`@layer ${_n(o.order||o.name||"primeui",r)}`:""},getCommonStyleSheet({name:t="",theme:e={},params:r,props:n={},set:o,defaults:s}){let i=this.getCommon({name:t,theme:e,params:r,set:o,defaults:s}),c=Object.entries(n).reduce((l,[u,d])=>l.push(`${u}="${d}"`)&&l,[]).join(" ");return Object.entries(i||{}).reduce((l,[u,d])=>{if(no(d)&&Object.hasOwn(d,"css")){let f=oi(d.css),g=`${u}-variables`;l.push(`<style type="text/css" data-primevue-style-id="${g}" ${c}>${f}</style>`)}return l},[]).join("")},getStyleSheet({name:t="",theme:e={},params:r,props:n={},set:o,defaults:s}){var i;let c={name:t,theme:e,params:r,set:o,defaults:s},l=(i=t.includes("-directive")?this.getPresetD(c):this.getPresetC(c))==null?void 0:i.css,u=Object.entries(n).reduce((d,[f,g])=>d.push(`${f}="${g}"`)&&d,[]).join(" ");return l?`<style type="text/css" data-primevue-style-id="${t}-variables" ${u}>${oi(l)}</style>`:""},createTokens(t={},e,r="",n="",o={}){let s=function(c,l={},u=[]){if(u.includes(this.path))return console.warn(`Circular reference detected at ${this.path}`),{colorScheme:c,path:this.path,paths:l,value:void 0};u.push(this.path),l.name=this.path,l.binding||(l.binding={});let d=this.value;if(typeof this.value=="string"&&Ci.test(this.value)){let f=this.value.trim().replace(Ci,g=>{var m;let _=g.slice(1,-1),S=this.tokens[_];if(!S)return console.warn(`Token not found for path: ${_}`),"__UNRESOLVED__";let k=S.computed(c,l,u);return Array.isArray(k)&&k.length===2?`light-dark(${k[0].value},${k[1].value})`:(m=k?.value)!=null?m:"__UNRESOLVED__"});d=Rv.test(f.replace(Sv,"0"))?`calc(${f})`:f}return ih(l.binding)&&delete l.binding,u.pop(),{colorScheme:c,path:this.path,paths:l,value:d.includes("__UNRESOLVED__")?void 0:d}},i=(c,l,u)=>{Object.entries(c).forEach(([d,f])=>{let g=oo(d,e.variable.excludedKeyRegex)?l:l?`${l}.${qg(d)}`:qg(d),m=u?`${u}.${d}`:d;no(f)?i(f,g,m):(o[g]||(o[g]={paths:[],computed:(_,S={},k=[])=>{if(o[g].paths.length===1)return o[g].paths[0].computed(o[g].paths[0].scheme,S.binding,k);if(_&&_!=="none")for(let V=0;V<o[g].paths.length;V++){let $=o[g].paths[V];if($.scheme===_)return $.computed(_,S.binding,k)}return o[g].paths.map(V=>V.computed(V.scheme,S[V.scheme],k))}}),o[g].paths.push({path:m,value:f,scheme:m.includes("colorScheme.light")?"light":m.includes("colorScheme.dark")?"dark":"none",computed:s,tokens:o}))})};return i(t,r,n),o},getTokenValue(t,e,r){var n;let o=(c=>c.split(".").filter(l=>!oo(l.toLowerCase(),r.variable.excludedKeyRegex)).join("."))(e),s=e.includes("colorScheme.light")?"light":e.includes("colorScheme.dark")?"dark":void 0,i=[(n=t[o])==null?void 0:n.computed(s)].flat().filter(c=>c);return i.length===1?i[0].value:i.reduce((c={},l)=>{let u=l,{colorScheme:d}=u,f=$r(u,["colorScheme"]);return c[d]=f,c},void 0)},getSelectorRule(t,e,r,n){return r==="class"||r==="attr"?xo(tt(e)?`${t}${e},${t} ${e}`:t,n):xo(t,xo(e??":root",n))},transformCSS(t,e,r,n,o={},s,i,c){if(tt(e)){let{cssLayer:l}=o;if(n!=="style"){let u=this.getColorSchemeOption(o,i);e=r==="dark"?u.reduce((d,{type:f,selector:g})=>(tt(g)&&(d+=g.includes("[CSS]")?g.replace("[CSS]",e):this.getSelectorRule(g,c,f,e)),d),""):xo(c??":root",e)}if(l){let u={name:"primeui"};no(l)&&(u.name=_n(l.name,{name:t,type:n})),tt(u.name)&&(e=xo(`@layer ${u.name}`,e),s?.layerNames(u.name))}return e}return""}},Rt={defaults:{variable:{prefix:"p",selector:":root",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(t={}){let{theme:e}=t;e&&(this._theme=Wl(cr({},e),{options:cr(cr({},this.defaults.options),e.options)}),this._tokens=ar.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var t;return((t=this.theme)==null?void 0:t.preset)||{}},get options(){var t;return((t=this.theme)==null?void 0:t.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(t){this.update({theme:t}),Br.emit("theme:change",t)},getPreset(){return this.preset},setPreset(t){this._theme=Wl(cr({},this.theme),{preset:t}),this._tokens=ar.createTokens(t,this.defaults),this.clearLoadedStyleNames(),Br.emit("preset:change",t),Br.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(t){this._theme=Wl(cr({},this.theme),{options:t}),this.clearLoadedStyleNames(),Br.emit("options:change",t),Br.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(t){this._layerNames.add(t)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(t){return this._loadedStyleNames.has(t)},setLoadedStyleName(t){this._loadedStyleNames.add(t)},deleteLoadedStyleName(t){this._loadedStyleNames.delete(t)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(t){return ar.getTokenValue(this.tokens,t,this.defaults)},getCommon(t="",e){return ar.getCommon({name:t,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(t="",e){let r={name:t,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return ar.getPresetC(r)},getDirective(t="",e){let r={name:t,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return ar.getPresetD(r)},getCustomPreset(t="",e,r,n){let o={name:t,preset:e,options:this.options,selector:r,params:n,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return ar.getPreset(o)},getLayerOrderCSS(t=""){return ar.getLayerOrder(t,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(t="",e,r="style",n){return ar.transformCSS(t,e,n,r,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(t="",e,r={}){return ar.getCommonStyleSheet({name:t,theme:this.theme,params:e,props:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(t,e,r={}){return ar.getStyleSheet({name:t,theme:this.theme,params:e,props:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(t){this._loadingStyles.add(t)},onStyleUpdated(t){this._loadingStyles.add(t)},onStyleLoaded(t,{name:e}){this._loadingStyles.size&&(this._loadingStyles.delete(e),Br.emit(`theme:${e}:load`,t),!this._loadingStyles.size&&Br.emit("theme:load"))}},It={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"},h2=`
    *,
    ::before,
    ::after {
        box-sizing: border-box;
    }

    /* Non vue overlay animations */
    .p-connected-overlay {
        opacity: 0;
        transform: scaleY(0.8);
        transition:
            transform 0.12s cubic-bezier(0, 0, 0.2, 1),
            opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-visible {
        opacity: 1;
        transform: scaleY(1);
    }

    .p-connected-overlay-hidden {
        opacity: 0;
        transform: scaleY(1);
        transition: opacity 0.1s linear;
    }

    /* Vue based overlay animations */
    .p-connected-overlay-enter-from {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-connected-overlay-leave-to {
        opacity: 0;
    }

    .p-connected-overlay-enter-active {
        transition:
            transform 0.12s cubic-bezier(0, 0, 0.2, 1),
            opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-leave-active {
        transition: opacity 0.1s linear;
    }

    /* Toggleable Content */
    .p-toggleable-content-enter-from,
    .p-toggleable-content-leave-to {
        max-height: 0;
    }

    .p-toggleable-content-enter-to,
    .p-toggleable-content-leave-from {
        max-height: 1000px;
    }

    .p-toggleable-content-leave-active {
        overflow: hidden;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
    }

    .p-toggleable-content-enter-active {
        overflow: hidden;
        transition: max-height 1s ease-in-out;
    }

    .p-disabled,
    .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-disabled,
    .p-component:disabled {
        opacity: dt('disabled.opacity');
    }

    .pi {
        font-size: dt('icon.size');
    }

    .p-icon {
        width: dt('icon.size');
        height: dt('icon.size');
    }

    .p-overlay-mask {
        background: dt('mask.background');
        color: dt('mask.color');
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-overlay-mask-enter {
        animation: p-overlay-mask-enter-animation dt('mask.transition.duration') forwards;
    }

    .p-overlay-mask-leave {
        animation: p-overlay-mask-leave-animation dt('mask.transition.duration') forwards;
    }

    @keyframes p-overlay-mask-enter-animation {
        from {
            background: transparent;
        }
        to {
            background: dt('mask.background');
        }
    }
    @keyframes p-overlay-mask-leave-animation {
        from {
            background: dt('mask.background');
        }
        to {
            background: transparent;
        }
    }
`;function ki(t){"@babel/helpers - typeof";return ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ki(t)}function Hg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Wg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hg(Object(r),!0).forEach(function(n){f2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hg(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f2(t,e,r){return(e=p2(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p2(t){var e=g2(t,"string");return ki(e)=="symbol"?e:e+""}function g2(t,e){if(ki(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;nu()&&nu().components?Tc(t):e?t():wc(t)}var y2=0;function b2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=we(!1),n=we(t),o=we(null),s=e2()?window.document:void 0,i=e.document,c=i===void 0?s:i,l=e.immediate,u=l===void 0?!0:l,d=e.manual,f=d===void 0?!1:d,g=e.name,m=g===void 0?"style_".concat(++y2):g,_=e.id,S=_===void 0?void 0:_,k=e.media,V=k===void 0?void 0:k,$=e.nonce,U=$===void 0?void 0:$,W=e.first,re=W===void 0?!1:W,ee=e.onMounted,v=ee===void 0?void 0:ee,b=e.onUpdated,E=b===void 0?void 0:b,R=e.onLoad,I=R===void 0?void 0:R,A=e.props,T=A===void 0?{}:A,Ee=function(){},qe=function(ae){var Ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(c){var Xe=Wg(Wg({},T),Ke),Ae=Xe.name||m,xe=Xe.id||S,ht=Xe.nonce||U;o.value=c.querySelector('style[data-primevue-style-id="'.concat(Ae,'"]'))||c.getElementById(xe)||c.createElement("style"),o.value.isConnected||(n.value=ae||t,Fu(o.value,{type:"text/css",id:xe,media:V,nonce:ht}),re?c.head.prepend(o.value):c.head.appendChild(o.value),t2(o.value,"data-primevue-style-id",Ae),Fu(o.value,Xe),o.value.onload=function(Qe){return I?.(Qe,{name:Ae})},v?.(Ae)),!r.value&&(Ee=jr(n,function(Qe){o.value.textContent=Qe,E?.(Ae)},{immediate:!0}),r.value=!0)}},_e=function(){!c||!r.value||(Ee(),ZO(o.value)&&c.head.removeChild(o.value),r.value=!1,o.value=null)};return u&&!f&&m2(qe),{id:S,name:m,el:o,css:n,unload:_e,load:qe,isLoaded:Zu(r)}}function Ii(t){"@babel/helpers - typeof";return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ii(t)}var Kg,Gg,Qg,Yg;function Jg(t,e){return E2(t)||w2(t,e)||_2(t,e)||v2()}function v2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _2(t,e){if(t){if(typeof t=="string")return Xg(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xg(t,e):void 0}}function Xg(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function w2(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,o,s,i,c=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(d){u=!0,o=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function E2(t){if(Array.isArray(t))return t}function Zg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Kl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zg(Object(r),!0).forEach(function(n){T2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zg(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T2(t,e,r){return(e=C2(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C2(t){var e=k2(t,"string");return Ii(e)=="symbol"?e:e+""}function k2(t,e){if(Ii(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ii(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ba(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var I2=function(e){var r=e.dt;return`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    opacity: 0;
    overflow: hidden;
    padding: 0;
    pointer-events: none;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: `.concat(r("scrollbar.width"),`;
}
`)},R2={},S2={},Co={name:"base",css:I2,style:h2,classes:R2,inlineStyles:S2,load:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(s){return s},o=n(ya(Kg||(Kg=ba(["",""])),e));return tt(o)?b2(oi(o),Kl({name:this.name},r)):{}},loadCSS:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.load(this.css,e)},loadStyle:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.load(this.style,r,function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Rt.transformCSS(r.name||e.name,"".concat(o).concat(ya(Gg||(Gg=ba(["",""])),n)))})},getCommonTheme:function(e){return Rt.getCommon(this.name,e)},getComponentTheme:function(e){return Rt.getComponent(this.name,e)},getDirectiveTheme:function(e){return Rt.getDirective(this.name,e)},getPresetTheme:function(e,r,n){return Rt.getCustomPreset(this.name,e,r,n)},getLayerOrderThemeCSS:function(){return Rt.getLayerOrderCSS(this.name)},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var n=_n(this.css,{dt:so})||"",o=oi(ya(Qg||(Qg=ba(["","",""])),n,e)),s=Object.entries(r).reduce(function(i,c){var l=Jg(c,2),u=l[0],d=l[1];return i.push("".concat(u,'="').concat(d,'"'))&&i},[]).join(" ");return tt(o)?'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(s,">").concat(o,"</style>"):""}return""},getCommonThemeStyleSheet:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Rt.getCommonStyleSheet(this.name,e,r)},getThemeStyleSheet:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[Rt.getStyleSheet(this.name,e,r)];if(this.style){var o=this.name==="base"?"global-style":"".concat(this.name,"-style"),s=ya(Yg||(Yg=ba(["",""])),_n(this.style,{dt:so})),i=oi(Rt.transformCSS(o,s)),c=Object.entries(r).reduce(function(l,u){var d=Jg(u,2),f=d[0],g=d[1];return l.push("".concat(f,'="').concat(g,'"'))&&l},[]).join(" ");tt(i)&&n.push('<style type="text/css" data-primevue-style-id="'.concat(o,'" ').concat(c,">").concat(i,"</style>"))}return n.join("")},extend:function(e){return Kl(Kl({},this),{},{css:void 0,style:void 0},e)}},va=Tv();function Ri(t){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ri(t)}function em(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function _a(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?em(Object(r),!0).forEach(function(n){A2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):em(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A2(t,e,r){return(e=P2(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P2(t){var e=x2(t,"string");return Ri(e)=="symbol"?e:e+""}function x2(t,e){if(Ri(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ri(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O2={ripple:!1,inputStyle:null,inputVariant:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",fileChosenMessage:"{0} files",noFileChosenMessage:"No file chosen",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[It.STARTS_WITH,It.CONTAINS,It.NOT_CONTAINS,It.ENDS_WITH,It.EQUALS,It.NOT_EQUALS],numeric:[It.EQUALS,It.NOT_EQUALS,It.LESS_THAN,It.LESS_THAN_OR_EQUAL_TO,It.GREATER_THAN,It.GREATER_THAN_OR_EQUAL_TO],date:[It.DATE_IS,It.DATE_IS_NOT,It.DATE_BEFORE,It.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},theme:void 0,unstyled:!1,pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},csp:{nonce:void 0}},N2=Symbol();function D2(t,e){var r={config:xi(e)};return t.config.globalProperties.$primevue=r,t.provide(N2,r),V2(),$2(t,r),r}var No=[];function V2(){Br.clear(),No.forEach(function(t){return t?.()}),No=[]}function $2(t,e){var r=we(!1),n=function(){var u;if(((u=e.config)===null||u===void 0?void 0:u.theme)!=="none"&&!Rt.isStyleNameLoaded("common")){var d,f,g=((d=Co.getCommonTheme)===null||d===void 0?void 0:d.call(Co))||{},m=g.primitive,_=g.semantic,S=g.global,k=g.style,V={nonce:(f=e.config)===null||f===void 0||(f=f.csp)===null||f===void 0?void 0:f.nonce};Co.load(m?.css,_a({name:"primitive-variables"},V)),Co.load(_?.css,_a({name:"semantic-variables"},V)),Co.load(S?.css,_a({name:"global-variables"},V)),Co.loadStyle(_a({name:"global-style"},V),k),Rt.setLoadedStyleName("common")}};Br.on("theme:change",function(l){r.value||(t.config.globalProperties.$primevue.config.theme=l,r.value=!0)});var o=jr(e.config,function(l,u){va.emit("config:change",{newValue:l,oldValue:u})},{immediate:!0,deep:!0}),s=jr(function(){return e.config.ripple},function(l,u){va.emit("config:ripple:change",{newValue:l,oldValue:u})},{immediate:!0,deep:!0}),i=jr(function(){return e.config.theme},function(l,u){r.value||Rt.setTheme(l),e.config.unstyled||n(),r.value=!1,va.emit("config:theme:change",{newValue:l,oldValue:u})},{immediate:!0,deep:!1}),c=jr(function(){return e.config.unstyled},function(l,u){!l&&e.config.theme&&n(),va.emit("config:unstyled:change",{newValue:l,oldValue:u})},{immediate:!0,deep:!0});No.push(o),No.push(s),No.push(i),No.push(c)}var L2={install:function(e,r){var n=JO(O2,r);D2(e,n)}},B2={transitionDuration:"{transition.duration}"},M2={borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},F2={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},U2={borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"},j2={root:B2,panel:M2,header:F2,content:U2},z2={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},q2={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},H2={padding:"{list.padding}",gap:"{list.gap}"},W2={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},K2={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},G2={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Q2={borderRadius:"{border.radius.sm}"},Y2={padding:"{list.option.padding}"},J2={light:{chip:{focusBackground:"{surface.200}",focusColor:"{surface.800}"},dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",focusColor:"{surface.0}"},dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}},X2={root:z2,overlay:q2,list:H2,option:W2,optionGroup:K2,dropdown:G2,chip:Q2,emptyMessage:Y2,colorScheme:J2},Z2={width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},eN={size:"1rem"},tN={borderColor:"{content.background}",offset:"-0.75rem"},rN={width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},nN={width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"},group:{offset:"-1.5rem"}},oN={root:Z2,icon:eN,group:tN,lg:rN,xl:nN},sN={borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},iN={size:"0.5rem"},aN={fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},cN={fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},lN={fontSize:"1rem",minWidth:"2rem",height:"2rem"},uN={light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}},dN={root:sN,dot:iN,sm:aN,lg:cN,xl:lN,colorScheme:uN},hN={borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},fN={transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledHoverBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{primary.600}",floatLabelActiveColor:"{surface.500}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.600}",hoverBorderColor:"{surface.500}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}},pN={primitive:hN,semantic:fN},gN={borderRadius:"{content.border.radius}"},mN={root:gN},yN={padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},bN={color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},vN={color:"{navigation.item.icon.color}"},_N={root:yN,item:bN,separator:vN},wN={borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}",iconOnlyWidth:"2rem"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}",iconOnlyWidth:"3rem"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},EN={light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}},TN={root:wN,colorScheme:EN},CN={background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},kN={padding:"1.25rem",gap:"0.5rem"},IN={gap:"0.5rem"},RN={fontSize:"1.25rem",fontWeight:"500"},SN={color:"{text.muted.color}"},AN={root:CN,body:kN,caption:IN,title:RN,subtitle:SN},PN={transitionDuration:"{transition.duration}"},xN={gap:"0.25rem"},ON={padding:"1rem",gap:"0.5rem"},NN={width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},DN={light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}},VN={root:PN,content:xN,indicatorList:ON,indicator:NN,colorScheme:DN},$N={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},LN={width:"2.5rem",color:"{form.field.icon.color}"},BN={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},MN={padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1rem"},FN={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},UN={color:"{form.field.icon.color}"},jN={root:$N,dropdown:LN,overlay:BN,list:MN,option:FN,clearIcon:UN},zN={borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},qN={size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1rem"}},HN={root:zN,icon:qN},WN={borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},KN={width:"2rem",height:"2rem"},GN={size:"1rem"},QN={size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},YN={light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}},JN={root:WN,image:KN,icon:GN,removeIcon:QN,colorScheme:YN},XN={transitionDuration:"{transition.duration}"},ZN={width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},eD={shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},tD={light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}},rD={root:XN,preview:ZN,panel:eD,colorScheme:tD},nD={size:"2rem",color:"{overlay.modal.color}"},oD={gap:"1rem"},sD={icon:nD,content:oD},iD={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},aD={padding:"{overlay.popover.padding}",gap:"1rem"},cD={size:"1.5rem",color:"{overlay.popover.color}"},lD={gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"},uD={root:iD,content:aD,icon:cD,footer:lD},dD={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},hD={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},fD={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},pD={mobileIndent:"1rem"},gD={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},mD={borderColor:"{content.border.color}"},yD={root:dD,list:hD,item:fD,submenu:pD,submenuIcon:gD,separator:mD},bD={transitionDuration:"{transition.duration}"},vD={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},_D={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},wD={fontWeight:"600"},ED={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},TD={borderColor:"{datatable.border.color}",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},CD={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},kD={fontWeight:"600"},ID={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},RD={color:"{primary.color}"},SD={width:"0.5rem"},AD={width:"1px",color:"{primary.color}"},PD={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},xD={size:"2rem"},OD={hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},ND={inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},DD={borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},VD={borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},$D={light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}},LD={root:bD,header:vD,headerCell:_D,columnTitle:wD,row:ED,bodyCell:TD,footerCell:CD,columnFooter:kD,footer:ID,dropPoint:RD,columnResizer:SD,resizeIndicator:AD,sortIcon:PD,loadingIcon:xD,rowToggleButton:OD,filter:ND,paginatorTop:DD,paginatorBottom:VD,colorScheme:$D},BD={borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},MD={background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},FD={background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},UD={background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},jD={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},zD={borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"},qD={root:BD,header:MD,content:FD,footer:UD,paginatorTop:jD,paginatorBottom:zD},HD={transitionDuration:"{transition.duration}"},WD={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},KD={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0"},GD={gap:"0.5rem",fontWeight:"500"},QD={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},YD={color:"{form.field.icon.color}"},JD={hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},XD={hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},ZD={borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},eV={margin:"0.5rem 0 0 0"},tV={padding:"0.25rem",fontWeight:"500",color:"{content.color}"},rV={hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},nV={margin:"0.5rem 0 0 0"},oV={padding:"0.375rem",borderRadius:"{content.border.radius}"},sV={margin:"0.5rem 0 0 0"},iV={padding:"0.375rem",borderRadius:"{content.border.radius}"},aV={padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},cV={padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},lV={light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}},uV={root:HD,panel:WD,header:KD,title:GD,dropdown:QD,inputIcon:YD,selectMonth:JD,selectYear:XD,group:ZD,dayView:eV,weekDay:tV,date:rV,monthView:nV,month:oV,yearView:sV,year:iV,buttonbar:aV,timePicker:cV,colorScheme:lV},dV={background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},hV={padding:"{overlay.modal.padding}",gap:"0.5rem"},fV={fontSize:"1.25rem",fontWeight:"600"},pV={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},gV={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"},mV={root:dV,header:hV,title:fV,content:pV,footer:gV},yV={borderColor:"{content.border.color}"},bV={background:"{content.background}",color:"{text.color}"},vV={margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},_V={margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}},wV={root:yV,content:bV,horizontal:vV,vertical:_V},EV={background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},TV={borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},CV={root:EV,item:TV},kV={background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},IV={padding:"{overlay.modal.padding}"},RV={fontSize:"1.5rem",fontWeight:"600"},SV={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},AV={padding:"{overlay.modal.padding}"},PV={root:kV,header:IV,title:RV,content:SV,footer:AV},xV={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},OV={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},NV={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},DV={focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},VV={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},$V={toolbar:xV,toolbarItem:OV,overlay:NV,overlayOption:DV,content:VV},LV={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},BV={background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},MV={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},FV={padding:"0"},UV={root:LV,legend:BV,toggleIcon:MV,content:FV},jV={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},zV={background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"unset",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},qV={highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem",gap:"1rem"},HV={padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},WV={gap:"0.5rem"},KV={height:"0.25rem"},GV={gap:"0.5rem"},QV={root:jV,header:zV,content:qV,file:HV,fileList:WV,progressbar:KV,basic:GV},YV={color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},JV={active:{top:"-1.25rem"}},XV={input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},ZV={borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}},e$={root:YV,over:JV,in:XV,on:ZV},t$={borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},r$={background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},n$={size:"1.5rem"},o$={background:"{content.background}",padding:"1rem 0.25rem"},s$={size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},i$={size:"1rem"},a$={background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},c$={gap:"0.5rem",padding:"1rem"},l$={width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},u$={background:"rgba(0, 0, 0, 0.5)"},d$={background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},h$={size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},f$={size:"1.5rem"},p$={light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}},g$={root:t$,navButton:r$,navIcon:n$,thumbnailsContent:o$,thumbnailNavButton:s$,thumbnailNavButtonIcon:i$,caption:a$,indicatorList:c$,indicatorButton:l$,insetIndicatorList:u$,insetIndicatorButton:d$,closeButton:h$,closeButtonIcon:f$,colorScheme:p$},m$={color:"{form.field.icon.color}"},y$={icon:m$},b$={color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},v$={paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},_$={root:b$,input:v$},w$={transitionDuration:"{transition.duration}"},E$={icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},T$={position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},C$={hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},k$={root:w$,preview:E$,toolbar:T$,action:C$},I$={size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"unset",hoverBorderColor:"unset",borderWidth:"0",borderRadius:"50%",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},R$={handle:I$},S$={padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},A$={fontWeight:"500"},P$={size:"1rem"},x$={light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}},O$={root:S$,text:A$,icon:P$,colorScheme:x$},N$={padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},D$={hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"},V$={root:N$,display:D$},$$={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},L$={borderRadius:"{border.radius.sm}"},B$={light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}},M$={root:$$,chip:L$,colorScheme:B$},F$={background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}",padding:"0.5rem",minWidth:"2.5rem"},U$={addon:F$},j$={transitionDuration:"{transition.duration}"},z$={width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},q$={light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}},H$={root:j$,button:z$,colorScheme:q$},W$={gap:"0.5rem"},K$={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}},G$={root:W$,input:K$},Q$={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},Y$={root:Q$},J$={transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},X$={background:"{primary.color}"},Z$={background:"{content.border.color}"},e4={color:"{text.muted.color}"},t4={root:J$,value:X$,range:Z$,text:e4},r4={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},n4={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},o4={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},s4={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},i4={color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},a4={padding:"{list.option.padding}"},c4={light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}},l4={root:r4,list:n4,option:o4,optionGroup:s4,checkmark:i4,emptyMessage:a4,colorScheme:c4},u4={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.5rem 0.75rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},d4={borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},h4={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},f4={padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},p4={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},g4={padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},m4={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},y4={borderColor:"{content.border.color}"},b4={borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},v4={root:u4,baseItem:d4,item:h4,overlay:f4,submenu:p4,submenuLabel:g4,submenuIcon:m4,separator:y4,mobileButton:b4},_4={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},w4={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},E4={focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},T4={padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},C4={borderColor:"{content.border.color}"},k4={root:_4,list:w4,item:E4,submenuLabel:T4,separator:C4},I4={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},R4={borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},S4={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},A4={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},P4={borderColor:"{content.border.color}"},x4={borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},O4={root:I4,baseItem:R4,item:S4,submenu:A4,separator:P4,mobileButton:x4},N4={borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},D4={padding:"0.5rem 0.75rem",gap:"0.5rem",sm:{padding:"0.375rem 0.625rem"},lg:{padding:"0.625rem 0.875rem"}},V4={fontSize:"1rem",fontWeight:"500",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},$4={size:"1.125rem",sm:{size:"1rem"},lg:{size:"1.25rem"}},L4={width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},B4={size:"1rem",sm:{size:"0.875rem"},lg:{size:"1.125rem"}},M4={root:{borderWidth:"1px"}},F4={content:{padding:"0"}},U4={light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}},outlined:{color:"{blue.600}",borderColor:"{blue.600}"},simple:{color:"{blue.600}"}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}},outlined:{color:"{green.600}",borderColor:"{green.600}"},simple:{color:"{green.600}"}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}},outlined:{color:"{red.600}",borderColor:"{red.600}"},simple:{color:"{red.600}"}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}},outlined:{color:"{surface.500}",borderColor:"{surface.500}"},simple:{color:"{surface.500}"}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}},outlined:{color:"{surface.950}",borderColor:"{surface.950}"},simple:{color:"{surface.950}"}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}},outlined:{color:"{blue.500}",borderColor:"{blue.500}"},simple:{color:"{blue.500}"}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}},outlined:{color:"{green.500}",borderColor:"{green.500}"},simple:{color:"{green.500}"}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}},outlined:{color:"{yellow.500}",borderColor:"{yellow.500}"},simple:{color:"{yellow.500}"}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}},outlined:{color:"{red.500}",borderColor:"{red.500}"},simple:{color:"{red.500}"}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}},j4={root:N4,content:D4,text:V4,icon:$4,closeButton:L4,closeIcon:B4,outlined:M4,simple:F4,colorScheme:U4},z4={borderRadius:"{content.border.radius}",gap:"1rem"},q4={background:"{content.border.color}",size:"0.5rem"},H4={gap:"0.5rem"},W4={size:"0.5rem"},K4={size:"1rem"},G4={verticalGap:"0.5rem",horizontalGap:"1rem"},Q4={root:z4,meters:q4,label:H4,labelMarker:W4,labelIcon:K4,labelList:G4},Y4={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},J4={width:"2.5rem",color:"{form.field.icon.color}"},X4={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},Z4={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},eL={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},tL={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},rL={color:"{form.field.icon.color}"},nL={borderRadius:"{border.radius.sm}"},oL={padding:"{list.option.padding}"},sL={root:Y4,dropdown:J4,overlay:X4,list:Z4,option:eL,optionGroup:tL,chip:nL,clearIcon:rL,emptyMessage:oL},iL={gap:"1.125rem"},aL={gap:"0.5rem"},cL={root:iL,controls:aL},lL={gutter:"0.75rem",transitionDuration:"{transition.duration}"},uL={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},dL={background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},hL={color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"},fL={root:lL,node:uL,nodeToggleButton:dL,connector:hL},pL={outline:{width:"2px",color:"{content.background}"}},gL={root:pL},mL={padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},yL={background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},bL={color:"{text.muted.color}"},vL={maxWidth:"2.5rem"},_L={root:mL,navButton:yL,currentPageReport:bL,jumpToPageInput:vL},wL={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},EL={background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},TL={padding:"0.375rem 1.125rem"},CL={fontWeight:"600"},kL={padding:"0 1.125rem 1.125rem 1.125rem"},IL={padding:"0 1.125rem 1.125rem 1.125rem"},RL={root:wL,header:EL,toggleableHeader:TL,title:CL,content:kL,footer:IL},SL={gap:"0.5rem",transitionDuration:"{transition.duration}"},AL={background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},PL={focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},xL={indent:"1rem"},OL={color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"},NL={root:SL,panel:AL,item:PL,submenu:xL,submenuIcon:OL},DL={background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},VL={color:"{form.field.icon.color}"},$L={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},LL={gap:"0.5rem"},BL={light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}},ML={meter:DL,icon:VL,overlay:$L,content:LL,colorScheme:BL},FL={gap:"1.125rem"},UL={gap:"0.5rem"},jL={root:FL,controls:UL},zL={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},qL={padding:"{overlay.popover.padding}"},HL={root:zL,content:qL},WL={background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},KL={background:"{primary.color}"},GL={color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"},QL={root:WL,value:KL,label:GL},YL={light:{root:{colorOne:"{red.500}",colorTwo:"{blue.500}",colorThree:"{green.500}",colorFour:"{yellow.500}"}},dark:{root:{colorOne:"{red.400}",colorTwo:"{blue.400}",colorThree:"{green.400}",colorFour:"{yellow.400}"}}},JL={colorScheme:YL},XL={width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},ZL={size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.5rem"},lg:{size:"1rem"}},eB={root:XL,icon:ZL},tB={gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},rB={size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"},nB={root:tB,icon:rB},oB={light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}},sB={colorScheme:oB},iB={transitionDuration:"{transition.duration}"},aB={size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},cB={light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}},lB={root:iB,bar:aB,colorScheme:cB},uB={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dB={width:"2.5rem",color:"{form.field.icon.color}"},hB={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},fB={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},pB={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},gB={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},mB={color:"{form.field.icon.color}"},yB={color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},bB={padding:"{list.option.padding}"},vB={root:uB,dropdown:dB,overlay:hB,list:fB,option:pB,optionGroup:gB,clearIcon:mB,checkmark:yB,emptyMessage:bB},_B={borderRadius:"{form.field.border.radius}"},wB={light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}},EB={root:_B,colorScheme:wB},TB={borderRadius:"{content.border.radius}"},CB={light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}},kB={root:TB,colorScheme:CB},IB={transitionDuration:"{transition.duration}"},RB={background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},SB={background:"{primary.color}"},AB={width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},PB={light:{handle:{content:{background:"{surface.0}"}}},dark:{handle:{content:{background:"{surface.950}"}}}},xB={root:IB,track:RB,range:SB,handle:AB,colorScheme:PB},OB={gap:"0.5rem",transitionDuration:"{transition.duration}"},NB={root:OB},DB={borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"},VB={root:DB},$B={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},LB={background:"{content.border.color}"},BB={size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},MB={root:$B,gutter:LB,handle:BB},FB={transitionDuration:"{transition.duration}"},UB={background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},jB={padding:"0.5rem",gap:"1rem"},zB={padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},qB={color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},HB={background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},WB={padding:"0.875rem 0.5rem 1.125rem 0.5rem"},KB={background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"},GB={root:FB,separator:UB,step:jB,stepHeader:zB,stepTitle:qB,stepNumber:HB,steppanels:WB,steppanel:KB},QB={transitionDuration:"{transition.duration}"},YB={background:"{content.border.color}"},JB={borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},XB={color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},ZB={background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},eM={root:QB,separator:YB,itemLink:JB,itemLabel:XB,itemNumber:ZB},tM={transitionDuration:"{transition.duration}"},rM={borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},nM={background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},oM={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},sM={height:"1px",bottom:"-1px",background:"{primary.color}"},iM={root:tM,tablist:rM,item:nM,itemIcon:oM,activeBar:sM},aM={transitionDuration:"{transition.duration}"},cM={borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},lM={background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},uM={background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},dM={background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},hM={height:"1px",bottom:"-1px",background:"{primary.color}"},fM={light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}},pM={root:aM,tablist:cM,tab:lM,tabpanel:uM,navButton:dM,activeBar:hM,colorScheme:fM},gM={transitionDuration:"{transition.duration}"},mM={background:"{content.background}",borderColor:"{content.border.color}"},yM={borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},bM={background:"{content.background}",color:"{content.color}"},vM={background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},_M={light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}},wM={root:gM,tabList:mM,tab:yM,tabPanel:bM,navButton:vM,colorScheme:_M},EM={fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},TM={size:"0.75rem"},CM={light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}},kM={root:EM,icon:TM,colorScheme:CM},IM={background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},RM={gap:"0.25rem"},SM={margin:"2px 0"},AM={root:IM,prompt:RM,commandResponse:SM},PM={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},xM={root:PM},OM={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},NM={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},DM={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},VM={mobileIndent:"1rem"},$M={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},LM={borderColor:"{content.border.color}"},BM={root:OM,list:NM,item:DM,submenu:VM,submenuIcon:$M,separator:LM},MM={minHeight:"5rem"},FM={eventContent:{padding:"1rem 0"}},UM={eventContent:{padding:"0 1rem"}},jM={size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},zM={color:"{content.border.color}",size:"2px"},qM={event:MM,horizontal:FM,vertical:UM,eventMarker:jM,eventConnector:zM},HM={width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},WM={size:"1.125rem"},KM={padding:"{overlay.popover.padding}",gap:"0.5rem"},GM={gap:"0.5rem"},QM={fontWeight:"500",fontSize:"1rem"},YM={fontWeight:"500",fontSize:"0.875rem"},JM={width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},XM={size:"1rem"},ZM={light:{root:{blur:"1.5px"},info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{root:{blur:"10px"},info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}},e6={root:HM,icon:WM,content:KM,text:GM,summary:QM,detail:YM,closeButton:JM,closeIcon:XM,colorScheme:ZM},t6={padding:"0.25rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.25rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.25rem"}},r6={disabledColor:"{form.field.disabled.color}"},n6={padding:"0.25rem 0.75rem",borderRadius:"{content.border.radius}",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)",sm:{padding:"0.25rem 0.75rem"},lg:{padding:"0.25rem 0.75rem"}},o6={light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}},s6={root:t6,icon:r6,content:n6,colorScheme:o6},i6={width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s"},a6={borderRadius:"50%",size:"1rem"},c6={light:{root:{background:"{surface.300}",disabledBackground:"{form.field.disabled.background}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",disabledBackground:"{form.field.disabled.color}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}",color:"{text.muted.color}",hoverColor:"{text.color}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}},dark:{root:{background:"{surface.700}",disabledBackground:"{surface.600}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",disabledBackground:"{surface.900}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}",color:"{surface.900}",hoverColor:"{surface.800}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}}},l6={root:i6,handle:a6,colorScheme:c6},u6={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"},d6={root:u6},h6={maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},f6={light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}},p6={root:h6,colorScheme:f6},g6={background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},m6={padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},y6={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},b6={borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},v6={size:"2rem"},_6={margin:"0 0 0.5rem 0"},w6={root:g6,node:m6,nodeIcon:y6,nodeToggleButton:b6,loadingIcon:v6,filter:_6},E6={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},T6={width:"2.5rem",color:"{form.field.icon.color}"},C6={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},k6={padding:"{list.padding}"},I6={padding:"{list.option.padding}"},R6={borderRadius:"{border.radius.sm}"},S6={color:"{form.field.icon.color}"},A6={root:E6,dropdown:T6,overlay:C6,tree:k6,emptyMessage:I6,chip:R6,clearIcon:S6},P6={transitionDuration:"{transition.duration}"},x6={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},O6={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},N6={fontWeight:"600"},D6={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},V6={borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},$6={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},L6={fontWeight:"600"},B6={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},M6={width:"0.5rem"},F6={width:"1px",color:"{primary.color}"},U6={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},j6={size:"2rem"},z6={hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},q6={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},H6={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},W6={light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}},K6={root:P6,header:x6,headerCell:O6,columnTitle:N6,row:D6,bodyCell:V6,footerCell:$6,columnFooter:L6,footer:B6,columnResizer:M6,resizeIndicator:F6,sortIcon:U6,loadingIcon:j6,nodeToggleButton:z6,paginatorTop:q6,paginatorBottom:H6,colorScheme:W6},G6={mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}},Q6={loader:G6};function Si(t){"@babel/helpers - typeof";return Si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Si(t)}function tm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function rm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tm(Object(r),!0).forEach(function(n){Y6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tm(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y6(t,e,r){return(e=J6(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J6(t){var e=X6(t,"string");return Si(e)=="symbol"?e:e+""}function X6(t,e){if(Si(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Si(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z6=rm(rm({},pN),{},{components:{accordion:j2,autocomplete:X2,avatar:oN,badge:dN,blockui:mN,breadcrumb:_N,button:TN,datepicker:uV,card:AN,carousel:VN,cascadeselect:jN,checkbox:HN,chip:JN,colorpicker:rD,confirmdialog:sD,confirmpopup:uD,contextmenu:yD,dataview:qD,datatable:LD,dialog:mV,divider:wV,dock:CV,drawer:PV,editor:$V,fieldset:UV,fileupload:QV,iftalabel:_$,floatlabel:e$,galleria:g$,iconfield:y$,image:k$,imagecompare:R$,inlinemessage:O$,inplace:V$,inputchips:M$,inputgroup:U$,inputnumber:H$,inputotp:G$,inputtext:Y$,knob:t4,listbox:l4,megamenu:v4,menu:k4,menubar:O4,message:j4,metergroup:Q4,multiselect:sL,orderlist:cL,organizationchart:fL,overlaybadge:gL,popover:HL,paginator:_L,password:ML,panel:RL,panelmenu:NL,picklist:jL,progressbar:QL,progressspinner:JL,radiobutton:eB,rating:nB,ripple:sB,scrollpanel:lB,select:vB,selectbutton:EB,skeleton:kB,slider:xB,speeddial:NB,splitter:MB,splitbutton:VB,stepper:GB,steps:eM,tabmenu:iM,tabs:pM,tabview:wM,textarea:xM,tieredmenu:BM,tag:kM,terminal:AM,timeline:qM,togglebutton:s6,toggleswitch:l6,tree:w6,treeselect:A6,treetable:K6,toast:e6,toolbar:d6,tooltip:p6,virtualscroller:Q6}});const ah=EE(GT);ah.use(L2,{theme:{preset:Z6}});ah.use(_v);ah.mount("#app");
